{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/orshih/edu/app/dashboard/dashbaord-client.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { auth } from \"@/lib/auth\";\n\ntype Session = typeof auth.$Infer.Session;\n\ntype Todo = {\n  id: string;\n  title: string;\n  done: boolean;\n  createdAt: string;\n};\n\nexport default function DashboardClient({ session }: { session: Session }) {\n  const user = session?.user;\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [newTitle, setNewTitle] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  // ----------------------\n  // GET TODOS\n  // ----------------------\n  const fetchTodos = async () => {\n    setLoading(true);\n    const res = await fetch(\"/api/todos\");\n    const data = await res.json();\n    setTodos(data);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  // ----------------------\n  // CREATE TODO\n  // ----------------------\n  const addTodo = async () => {\n    if (!newTitle.trim()) return;\n\n    await fetch(\"/api/todos\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ title: newTitle }),\n    });\n\n    setNewTitle(\"\");\n    fetchTodos();\n  };\n\n  // ----------------------\n  // TOGGLE DONE\n  // ----------------------\n  const toggleTodo = async (id: string, done: boolean) => {\n    await fetch(`/api/todos/${id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ done: !done }),\n    });\n\n    fetchTodos();\n  };\n\n  // ----------------------\n  // DELETE TODO\n  // ----------------------\n  const deleteTodo = async (id: string) => {\n    await fetch(`/api/todos/${id}`, {\n      method: \"DELETE\",\n    });\n\n    fetchTodos();\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-start pt-10 gap-6 px-6\">\n      {/* USER INFO */}\n      <div className=\"text-center\">\n        <h1 className=\"text-3xl font-bold mb-2\">Dashboard</h1>\n        <p className=\"text-gray-600\">Welcome, {user?.name}</p>\n        <p className=\"text-sm text-gray-500\">{user?.email}</p>\n      </div>\n\n      {/* TODO INPUT */}\n      <div className=\"flex gap-2 w-full max-w-md\">\n        <input\n          type=\"text\"\n          value={newTitle}\n          onChange={(e) => setNewTitle(e.target.value)}\n          placeholder=\"Add new todo...\"\n          className=\"flex-1 px-3 py-2 border rounded-md\"\n        />\n        <button\n          onClick={addTodo}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md\"\n        >\n          Add\n        </button>\n      </div>\n\n      {/* TODO LIST */}\n      <div className=\"w-full max-w-md\">\n        {loading ? (\n          <p className=\"text-center text-gray-500\">Loading...</p>\n        ) : todos.length === 0 ? (\n          <p className=\"text-center text-gray-500\">No todos yet.</p>\n        ) : (\n          <ul className=\"flex flex-col gap-3\">\n            {todos.map((todo) => (\n              <li\n                key={todo.id}\n                className=\"flex justify-between items-center p-3 bg-white shadow rounded-md\"\n              >\n                {/* LEFT: checkbox + title */}\n                <div className=\"flex items-center gap-3\">\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.done}\n                    onChange={() => toggleTodo(todo.id, todo.done)}\n                  />\n                  <span\n                    className={`${\n                      todo.done ? \"line-through text-gray-400\" : \"\"\n                    }`}\n                  >\n                    {todo.title}\n                  </span>\n                </div>\n\n                {/* RIGHT: delete button */}\n                <button\n                  onClick={() => deleteTodo(todo.id)}\n                  className=\"text-red-500 hover:text-red-700\"\n                >\n                  Delete\n                </button>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAce,SAAS,gBAAgB,EAAE,OAAO,EAAwB;;IACvE,MAAM,OAAO,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,yBAAyB;IACzB,YAAY;IACZ,yBAAyB;IACzB,MAAM,aAAa;QACjB,WAAW;QACX,MAAM,MAAM,MAAM,MAAM;QACxB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,SAAS;QACT,WAAW;IACb;IAEA,IAAA,0KAAS;qCAAC;YACR;QACF;oCAAG,EAAE;IAEL,yBAAyB;IACzB,cAAc;IACd,yBAAyB;IACzB,MAAM,UAAU;QACd,IAAI,CAAC,SAAS,IAAI,IAAI;QAEtB,MAAM,MAAM,cAAc;YACxB,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAS;QACzC;QAEA,YAAY;QACZ;IACF;IAEA,yBAAyB;IACzB,cAAc;IACd,yBAAyB;IACzB,MAAM,aAAa,OAAO,IAAY;QACpC,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;YAC9B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,MAAM,CAAC;YAAK;QACrC;QAEA;IACF;IAEA,yBAAyB;IACzB,cAAc;IACd,yBAAyB;IACzB,MAAM,aAAa,OAAO;QACxB,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;YAC9B,QAAQ;QACV;QAEA;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,6LAAC;wBAAE,WAAU;;4BAAgB;4BAAU,MAAM;;;;;;;kCAC7C,6LAAC;wBAAE,WAAU;kCAAyB,MAAM;;;;;;;;;;;;0BAI9C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,aAAY;wBACZ,WAAU;;;;;;kCAEZ,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAMH,6LAAC;gBAAI,WAAU;0BACZ,wBACC,6LAAC;oBAAE,WAAU;8BAA4B;;;;;2BACvC,MAAM,MAAM,KAAK,kBACnB,6LAAC;oBAAE,WAAU;8BAA4B;;;;;yCAEzC,6LAAC;oBAAG,WAAU;8BACX,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;4BAEC,WAAU;;8CAGV,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,MAAK;4CACL,SAAS,KAAK,IAAI;4CAClB,UAAU,IAAM,WAAW,KAAK,EAAE,EAAE,KAAK,IAAI;;;;;;sDAE/C,6LAAC;4CACC,WAAW,GACT,KAAK,IAAI,GAAG,+BAA+B,IAC3C;sDAED,KAAK,KAAK;;;;;;;;;;;;8CAKf,6LAAC;oCACC,SAAS,IAAM,WAAW,KAAK,EAAE;oCACjC,WAAU;8CACX;;;;;;;2BAvBI,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAiC5B;GAlIwB;KAAA"}}]
}