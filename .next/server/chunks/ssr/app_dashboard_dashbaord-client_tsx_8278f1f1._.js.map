{"version":3,"sources":["../../../../app/dashboard/dashbaord-client.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { auth } from \"@/lib/auth\";\n\ntype Session = typeof auth.$Infer.Session;\n\ntype Todo = {\n  id: string;\n  title: string;\n  done: boolean;\n  createdAt: string;\n};\n\nexport default function DashboardClient({ session }: { session: Session }) {\n  const user = session?.user;\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [newTitle, setNewTitle] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  // ----------------------\n  // GET TODOS\n  // ----------------------\n  const fetchTodos = async () => {\n    setLoading(true);\n    const res = await fetch(\"/api/todos\");\n    const data = await res.json();\n    setTodos(data);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  // ----------------------\n  // CREATE TODO\n  // ----------------------\n  const addTodo = async () => {\n    if (!newTitle.trim()) return;\n\n    await fetch(\"/api/todos\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ title: newTitle }),\n    });\n\n    setNewTitle(\"\");\n    fetchTodos();\n  };\n\n  // ----------------------\n  // TOGGLE DONE\n  // ----------------------\n  const toggleTodo = async (id: string, done: boolean) => {\n    await fetch(`/api/todos/${id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ done: !done }),\n    });\n\n    fetchTodos();\n  };\n\n  // ----------------------\n  // DELETE TODO\n  // ----------------------\n  const deleteTodo = async (id: string) => {\n    await fetch(`/api/todos/${id}`, {\n      method: \"DELETE\",\n    });\n\n    fetchTodos();\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-start pt-10 gap-6 px-6\">\n      {/* USER INFO */}\n      <div className=\"text-center\">\n        <h1 className=\"text-3xl font-bold mb-2\">Dashboard</h1>\n        <p className=\"text-gray-600\">Welcome, {user?.name}</p>\n        <p className=\"text-sm text-gray-500\">{user?.email}</p>\n      </div>\n\n      {/* TODO INPUT */}\n      <div className=\"flex gap-2 w-full max-w-md\">\n        <input\n          type=\"text\"\n          value={newTitle}\n          onChange={(e) => setNewTitle(e.target.value)}\n          placeholder=\"Add new todo...\"\n          className=\"flex-1 px-3 py-2 border rounded-md\"\n        />\n        <button\n          onClick={addTodo}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md\"\n        >\n          Add\n        </button>\n      </div>\n\n      {/* TODO LIST */}\n      <div className=\"w-full max-w-md\">\n        {loading ? (\n          <p className=\"text-center text-gray-500\">Loading...</p>\n        ) : todos.length === 0 ? (\n          <p className=\"text-center text-gray-500\">No todos yet.</p>\n        ) : (\n          <ul className=\"flex flex-col gap-3\">\n            {todos.map((todo) => (\n              <li\n                key={todo.id}\n                className=\"flex justify-between items-center p-3 bg-white shadow rounded-md\"\n              >\n                {/* LEFT: checkbox + title */}\n                <div className=\"flex items-center gap-3\">\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.done}\n                    onChange={() => toggleTodo(todo.id, todo.done)}\n                  />\n                  <span\n                    className={`${\n                      todo.done ? \"line-through text-gray-400\" : \"\"\n                    }`}\n                  >\n                    {todo.title}\n                  </span>\n                </div>\n\n                {/* RIGHT: delete button */}\n                <button\n                  onClick={() => deleteTodo(todo.id)}\n                  className=\"text-red-500 hover:text-red-700\"\n                >\n                  Delete\n                </button>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAYe,SAAS,EAAgB,SAAE,CAAO,CAAwB,EACvE,IAAM,EAAO,GAAS,KAChB,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAE,EACvC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAKjC,EAAa,UACjB,GAAW,GACX,IAAM,EAAM,MAAM,MAAM,cAExB,EADa,MAAM,CACV,CADc,IAAI,IAE3B,GAAW,EACb,EAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAKL,IAAM,EAAU,UACT,EAAS,IAAI,IAAI,CAEtB,MAAM,MAAM,aAAc,CACxB,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAE,MAAO,CAAS,EACzC,GAEA,EAAY,IACZ,IACF,EAKM,EAAa,MAAO,EAAY,KACpC,MAAM,MAAM,CAAC,WAAW,EAAE,EAAA,CAAI,CAAE,CAC9B,OAAQ,MACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAE,KAAM,CAAC,CAAK,EACrC,GAEA,GACF,EAKM,EAAa,MAAO,IACxB,MAAM,MAAM,CAAC,WAAW,EAAE,EAAA,CAAI,CAAE,CAC9B,OAAQ,QACV,GAEA,GACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mFAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,cACxC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0BAAgB,YAAU,GAAM,QAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,GAAM,WAI9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,YAAY,kBACZ,UAAU,uCAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,uDACX,WAMH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,eACtB,IAAjB,EAAM,MAAM,CACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,kBAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+BACX,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,6EAGV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAK,IAAI,CAClB,SAAU,IAAM,EAAW,EAAK,EAAE,CAAE,EAAK,IAAI,IAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAA,EACT,EAAK,IAAI,CAAG,6BAA+B,GAAA,CAC3C,UAED,EAAK,KAAK,MAKf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAW,EAAK,EAAE,EACjC,UAAU,2CACX,aAvBI,EAAK,EAAE,SAiC5B"}