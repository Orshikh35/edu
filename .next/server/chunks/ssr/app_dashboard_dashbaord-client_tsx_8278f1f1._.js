module.exports=[60048,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({session:a}){let d=a?.user,[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!0),k=async()=>{j(!0);let a=await fetch("/api/todos");f(await a.json()),j(!1)};(0,c.useEffect)(()=>{k()},[]);let l=async()=>{g.trim()&&(await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:g})}),h(""),k())},m=async(a,b)=>{await fetch(`/api/todos/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({done:!b})}),k()},n=async a=>{await fetch(`/api/todos/${a}`,{method:"DELETE"}),k()};return(0,b.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-start pt-10 gap-6 px-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Welcome, ",d?.name]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:d?.email})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full max-w-md",children:[(0,b.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Add new todo...",className:"flex-1 px-3 py-2 border rounded-md"}),(0,b.jsx)("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Add"})]}),(0,b.jsx)("div",{className:"w-full max-w-md",children:i?(0,b.jsx)("p",{className:"text-center text-gray-500",children:"Loading..."}):0===e.length?(0,b.jsx)("p",{className:"text-center text-gray-500",children:"No todos yet."}):(0,b.jsx)("ul",{className:"flex flex-col gap-3",children:e.map(a=>(0,b.jsxs)("li",{className:"flex justify-between items-center p-3 bg-white shadow rounded-md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.done,onChange:()=>m(a.id,a.done)}),(0,b.jsx)("span",{className:`${a.done?"line-through text-gray-400":""}`,children:a.title})]}),(0,b.jsx)("button",{onClick:()=>n(a.id),className:"text-red-500 hover:text-red-700",children:"Delete"})]},a.id))})})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=app_dashboard_dashbaord-client_tsx_8278f1f1._.js.map