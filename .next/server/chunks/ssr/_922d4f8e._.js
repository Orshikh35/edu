module.exports=[91511,58,a=>{"use strict";a.i(70755),a.i(56771);var b=a.i(55069);a.s([],91511),a.s(["BetterAuthError",()=>b.t],58)},73236,94219,54900,11115,83354,22157,54757,12793,37937,694,99685,89822,9634,72328,13730,83607,9633,38889,51171,32783,68100,86519,74935,9095,35378,a=>{"use strict";let b,c,d,e;function f(){let a="undefined"!=typeof globalThis&&globalThis.crypto;if(a&&"object"==typeof a.subtle&&null!=a.subtle)return a.subtle;throw Error("crypto.subtle must be defined")}let g=((c=function(){}).prototype=Object.create(null),Object.freeze(c.prototype),c);function h(){return{root:{key:""},static:new g}}function i(a){let[b,...c]=a.split("/");return""===c[c.length-1]?c.slice(0,-1):c}function j(a,b){let c=new g;for(let[d,e]of b){let b=d<0?a.slice(-1*d).join("/"):a[d];if("string"==typeof e)c[e]=b;else{let a=b.match(e);if(a)for(let b in a.groups)c[b]=a.groups[b]}}return c}function k(a,b="",c,d){b=b.toUpperCase(),47!==c.charCodeAt(0)&&(c=`/${c}`);let e=i(c),f=a.root,h=0,j=[],l=[];for(let a=0;a<e.length;a++){let b=e[a];if(b.startsWith("**")){f.wildcard||(f.wildcard={key:"**"}),f=f.wildcard,j.push([-a,b.split(":")[1]||"_",2===b.length]);break}if("*"===b||b.includes(":")){if(f.param||(f.param={key:"*"}),f=f.param,"*"===b)j.push([a,`_${h++}`,!0]);else if(b.includes(":",1)){let c=function(a){let b=a.replace(/:(\w+)/g,(a,b)=>`(?<${b}>[^/]+)`).replace(/\./g,"\\.");return RegExp(`^${b}$`)}(b);l[a]=c,f.hasRegexParam=!0,j.push([a,c,!1])}else j.push([a,b.slice(1),!1]);continue}let c=f.static?.[b];if(c)f=c;else{let a={key:b};f.static||(f.static=new g),f.static[b]=a,f=a}}let m=j.length>0;f.methods||(f.methods=new g),f.methods[b]??=[],f.methods[b].push({data:d||null,paramsRegexp:l,paramsMap:m?j:void 0}),m||(a.static[c]=f)}a.s(["ZodAny",()=>hi,"ZodArray",()=>hs,"ZodBase64",()=>gM,"ZodBase64URL",()=>gO,"ZodBigInt",()=>g7,"ZodBigIntFormat",()=>g9,"ZodBoolean",()=>g5,"ZodCIDRv4",()=>gI,"ZodCIDRv6",()=>gK,"ZodCUID",()=>gs,"ZodCUID2",()=>gu,"ZodCatch",()=>h8,"ZodCodec",()=>ie,"ZodCustom",()=>is,"ZodCustomStringFormat",()=>gU,"ZodDate",()=>hq,"ZodDefault",()=>h0,"ZodDiscriminatedUnion",()=>hB,"ZodE164",()=>gQ,"ZodEmail",()=>gc,"ZodEmoji",()=>go,"ZodEnum",()=>hO,"ZodFile",()=>hT,"ZodFunction",()=>iq,"ZodGUID",()=>ge,"ZodIPv4",()=>gC,"ZodIPv6",()=>gG,"ZodIntersection",()=>hD,"ZodJWT",()=>gS,"ZodKSUID",()=>gA,"ZodLazy",()=>il,"ZodLiteral",()=>hR,"ZodMAC",()=>gE,"ZodMap",()=>hK,"ZodNaN",()=>ia,"ZodNanoID",()=>gq,"ZodNever",()=>hm,"ZodNonOptional",()=>h4,"ZodNull",()=>hg,"ZodNullable",()=>hZ,"ZodNumber",()=>gZ,"ZodNumberFormat",()=>g_,"ZodObject",()=>hv,"ZodOptional",()=>hX,"ZodPipe",()=>ic,"ZodPrefault",()=>h2,"ZodPromise",()=>io,"ZodReadonly",()=>ih,"ZodRecord",()=>hH,"ZodSet",()=>hM,"ZodString",()=>f9,"ZodStringFormat",()=>gb,"ZodSuccess",()=>h6,"ZodSymbol",()=>hc,"ZodTemplateLiteral",()=>ij,"ZodTransform",()=>hV,"ZodTuple",()=>hF,"ZodType",()=>f7,"ZodULID",()=>gw,"ZodURL",()=>gl,"ZodUUID",()=>gg,"ZodUndefined",()=>he,"ZodUnion",()=>hz,"ZodUnknown",()=>hk,"ZodVoid",()=>ho,"ZodXID",()=>gy,"_ZodString",()=>f8,"_default",()=>h1,"_function",()=>ir,"any",()=>hj,"array",()=>ht,"base64",()=>gN,"base64url",()=>gP,"bigint",()=>g8,"boolean",()=>g6,"catch",()=>h9,"check",()=>it,"cidrv4",()=>gJ,"cidrv6",()=>gL,"codec",()=>ig,"cuid",()=>gt,"cuid2",()=>gv,"custom",()=>iu,"date",()=>hr,"describe",()=>ix,"discriminatedUnion",()=>hC,"e164",()=>gR,"email",()=>gd,"emoji",()=>gp,"enum",()=>hP,"file",()=>hU,"float32",()=>g1,"float64",()=>g2,"function",()=>ir,"guid",()=>gf,"hash",()=>gY,"hex",()=>gX,"hostname",()=>gW,"httpUrl",()=>gn,"instanceof",()=>iz,"int",()=>g0,"int32",()=>g3,"int64",()=>ha,"intersection",()=>hE,"ipv4",()=>gD,"ipv6",()=>gH,"json",()=>iB,"jwt",()=>gT,"keyof",()=>hu,"ksuid",()=>gB,"lazy",()=>im,"literal",()=>hS,"looseObject",()=>hy,"mac",()=>gF,"map",()=>hL,"meta",()=>iy,"nan",()=>ib,"nanoid",()=>gr,"nativeEnum",()=>hQ,"never",()=>hn,"nonoptional",()=>h5,"null",()=>hh,"nullable",()=>h$,"nullish",()=>h_,"number",()=>g$,"object",()=>hw,"optional",()=>hY,"partialRecord",()=>hJ,"pipe",()=>id,"prefault",()=>h3,"preprocess",()=>iC,"promise",()=>ip,"readonly",()=>ii,"record",()=>hI,"refine",()=>iv,"set",()=>hN,"strictObject",()=>hx,"string",()=>ga,"stringFormat",()=>gV,"stringbool",()=>iA,"success",()=>h7,"superRefine",()=>iw,"symbol",()=>hd,"templateLiteral",()=>ik,"transform",()=>hW,"tuple",()=>hG,"uint32",()=>g4,"uint64",()=>hb,"ulid",()=>gx,"undefined",()=>hf,"union",()=>hA,"unknown",()=>hl,"url",()=>gm,"uuid",()=>gh,"uuidv4",()=>gi,"uuidv6",()=>gj,"uuidv7",()=>gk,"void",()=>hp,"xid",()=>gz],94219);let l=Object.freeze({status:"aborted"});function m(a,b,c){function d(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:g,traits:new Set},enumerable:!1}),c._zod.traits.has(a))return;c._zod.traits.add(a),b(c,d);let e=g.prototype,f=Object.keys(e);for(let a=0;a<f.length;a++){let b=f[a];b in c||(c[b]=e[b].bind(c))}}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let n=Symbol("zod_brand");class o extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class p extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}let q={};function r(a){return a&&Object.assign(q,a),q}function s(a){return a}function t(a){return a}function u(a){}function v(a){throw Error()}function w(a){}function x(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function y(a,b="|"){return a.map(a=>_(a)).join(b)}function z(a,b){return"bigint"==typeof b?b.toString():b}function A(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function B(a){return null==a}function C(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function D(a,b){let c=(a.toString().split(".")[1]||"").length,d=b.toString(),e=(d.split(".")[1]||"").length;if(0===e&&/\d?e-\d?/.test(d)){let a=d.match(/\d?e-(\d?)/);a?.[1]&&(e=Number.parseInt(a[1]))}let f=c>e?c:e;return Number.parseInt(a.toFixed(f).replace(".",""))%Number.parseInt(b.toFixed(f).replace(".",""))/10**f}a.s(["$ZodAsyncError",()=>o,"$ZodEncodeError",()=>p,"$brand",0,n,"$constructor",()=>m,"NEVER",0,l,"config",()=>r,"globalConfig",0,q],85679);let E=Symbol("evaluating");function F(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==E)return void 0===d&&(d=E,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function G(a){return Object.create(Object.getPrototypeOf(a),Object.getOwnPropertyDescriptors(a))}function H(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function I(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function J(a){return I(a._zod.def)}function K(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function L(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function M(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function N(a){return JSON.stringify(a)}function O(a){return a.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let P="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function Q(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let R=A(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function S(a){if(!1===Q(a))return!1;let b=a.constructor;if(void 0===b||"function"!=typeof b)return!0;let c=b.prototype;return!1!==Q(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function T(a){return S(a)?{...a}:Array.isArray(a)?[...a]:a}function U(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let V=new Set(["string","number","symbol"]),W=new Set(["string","number","bigint","boolean","symbol","undefined"]);function X(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Y(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function Z(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function $(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function _(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function aa(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let ab={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ac={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ad(a,b){let c=a._zod.def,d=I(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return H(this,"shape",a),a},checks:[]});return Y(a,d)}function ae(a,b){let c=a._zod.def,d=I(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return H(this,"shape",d),d},checks:[]});return Y(a,d)}function af(a,b){if(!S(b))throw Error("Invalid input to extend: expected a plain object");let c=a._zod.def.checks;if(c&&c.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let d=I(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return H(this,"shape",c),c},checks:[]});return Y(a,d)}function ag(a,b){if(!S(b))throw Error("Invalid input to safeExtend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return H(this,"shape",c),c},checks:a._zod.def.checks};return Y(a,c)}function ah(a,b){let c=I(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return H(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]});return Y(a,c)}function ai(a,b,c){let d=I(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return H(this,"shape",e),e},checks:[]});return Y(b,d)}function aj(a,b,c){let d=I(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return H(this,"shape",e),e},checks:[]});return Y(b,d)}function ak(a,b=0){if(!0===a.aborted)return!0;for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function al(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function am(a){return"string"==typeof a?a:a?.message}function an(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=am(a.inst?._zod.def?.error?.(a))??am(b?.error?.(a))??am(c.customError?.(a))??am(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function ao(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function ap(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function aq(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function ar(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}function as(a){let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}function at(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return btoa(b)}function au(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c="=".repeat((4-b.length%4)%4);return as(b+c)}function av(a){return at(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function aw(a){let b=a.replace(/^0x/,"");if(b.length%2!=0)throw Error("Invalid hex string length");let c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=Number.parseInt(b.slice(a,a+2),16);return c}function ax(a){return Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join("")}class ay{constructor(...a){}}a.s(["BIGINT_FORMAT_RANGES",0,ac,"Class",()=>ay,"NUMBER_FORMAT_RANGES",0,ab,"aborted",()=>ak,"allowsEval",0,R,"assert",()=>w,"assertEqual",()=>s,"assertIs",()=>u,"assertNever",()=>v,"assertNotEqual",()=>t,"assignProp",()=>H,"base64ToUint8Array",()=>as,"base64urlToUint8Array",()=>au,"cached",()=>A,"captureStackTrace",0,P,"cleanEnum",()=>ar,"cleanRegex",()=>C,"clone",()=>Y,"cloneDef",()=>J,"createTransparentProxy",()=>$,"defineLazy",()=>F,"esc",()=>N,"escapeRegex",()=>X,"extend",()=>af,"finalizeIssue",()=>an,"floatSafeRemainder",()=>D,"getElementAtPath",()=>K,"getEnumValues",()=>x,"getLengthableOrigin",()=>ap,"getParsedType",0,a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("undefined"!=typeof Map&&a instanceof Map)return"map";if("undefined"!=typeof Set&&a instanceof Set)return"set";if("undefined"!=typeof Date&&a instanceof Date)return"date";if("undefined"!=typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},"getSizableOrigin",()=>ao,"hexToUint8Array",()=>aw,"isObject",()=>Q,"isPlainObject",()=>S,"issue",()=>aq,"joinValues",()=>y,"jsonStringifyReplacer",()=>z,"merge",()=>ah,"mergeDefs",()=>I,"normalizeParams",()=>Z,"nullish",()=>B,"numKeys",()=>U,"objectClone",()=>G,"omit",()=>ae,"optionalKeys",()=>aa,"partial",()=>ai,"pick",()=>ad,"prefixIssues",()=>al,"primitiveTypes",0,W,"promiseAllObject",()=>L,"propertyKeyTypes",0,V,"randomString",()=>M,"required",()=>aj,"safeExtend",()=>ag,"shallowClone",()=>T,"slugify",()=>O,"stringifyPrimitive",()=>_,"uint8ArrayToBase64",()=>at,"uint8ArrayToBase64url",()=>av,"uint8ArrayToHex",()=>ax,"unwrapMessage",()=>am],17177);let az=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,z,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},aA=m("$ZodError",az),aB=m("$ZodError",az,{Parent:Error});function aC(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function aD(a,b=a=>a.message){let c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code&&e.errors.length)e.errors.map(a=>d({issues:a}));else if("invalid_key"===e.code)d({issues:e.issues});else if("invalid_element"===e.code)d({issues:e.issues});else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(a),c}function aE(a,b=a=>a.message){let c={errors:[]},d=(a,e=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>d({issues:a},h.path));else if("invalid_key"===h.code)d({issues:h.issues},h.path);else if("invalid_element"===h.code)d({issues:h.issues},h.path);else{let a=[...e,...h.path];if(0===a.length){c.errors.push(b(h));continue}let d=c,i=0;for(;i<a.length;){let c=a[i],e=i===a.length-1;"string"==typeof c?(d.properties??(d.properties={}),(f=d.properties)[c]??(f[c]={errors:[]}),d=d.properties[c]):(d.items??(d.items=[]),(g=d.items)[c]??(g[c]={errors:[]}),d=d.items[c]),e&&d.errors.push(b(h)),i++}}};return d(a),c}function aF(a){let b=[];for(let c of a.map(a=>"object"==typeof a?a.key:a))"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function aG(a){let b=[];for(let c of[...a.issues].sort((a,b)=>(a.path??[]).length-(b.path??[]).length))b.push(`✖ ${c.message}`),c.path?.length&&b.push(`  → at ${aF(c.path)}`);return b.join("\n")}a.s(["$ZodError",0,aA,"$ZodRealError",0,aB,"flattenError",()=>aC,"formatError",()=>aD,"prettifyError",()=>aG,"toDotPath",()=>aF,"treeifyError",()=>aE],13399);let aH=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new o;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>an(a,f,r())));throw P(b,e?.callee),b}return g.value},aI=aH(aB),aJ=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>an(a,f,r())));throw P(b,e?.callee),b}return g.value},aK=aJ(aB),aL=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new o;return f.issues.length?{success:!1,error:new(a??aA)(f.issues.map(a=>an(a,e,r())))}:{success:!0,data:f.value}},aM=aL(aB),aN=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>an(a,e,r())))}:{success:!0,data:f.value}},aO=aN(aB),aP=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return aH(a)(b,c,e)},aQ=aP(aB),aR=a=>(b,c,d)=>aH(a)(b,c,d),aS=aR(aB),aT=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return aJ(a)(b,c,e)},aU=aT(aB),aV=a=>async(b,c,d)=>aJ(a)(b,c,d),aW=aV(aB),aX=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return aL(a)(b,c,e)},aY=aX(aB),aZ=a=>(b,c,d)=>aL(a)(b,c,d),a$=aZ(aB),a_=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return aN(a)(b,c,e)},a0=a_(aB),a1=a=>async(b,c,d)=>aN(a)(b,c,d),a2=a1(aB);a.s(["_decode",0,aR,"_decodeAsync",0,aV,"_encode",0,aP,"_encodeAsync",0,aT,"_parse",0,aH,"_parseAsync",0,aJ,"_safeDecode",0,aZ,"_safeDecodeAsync",0,a1,"_safeEncode",0,aX,"_safeEncodeAsync",0,a_,"_safeParse",0,aL,"_safeParseAsync",0,aN,"decode",0,aS,"decodeAsync",0,aW,"encode",0,aQ,"encodeAsync",0,aU,"parse",0,aI,"parseAsync",0,aK,"safeDecode",0,a$,"safeDecodeAsync",0,a2,"safeEncode",0,aY,"safeEncodeAsync",0,a0,"safeParse",0,aM,"safeParseAsync",0,aO],51152);let a3=/^[cC][^\s-]{8,}$/,a4=/^[0-9a-z]+$/,a5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,a6=/^[0-9a-vA-V]{20}$/,a7=/^[A-Za-z0-9]{27}$/,a8=/^[a-zA-Z0-9_-]{21}$/,a9=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ba=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bb=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,bc=bb(4),bd=bb(6),be=bb(7),bf=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,bg=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function bh(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let bi=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,bk=a=>{let b=X(a??":");return RegExp(`^(?:[0-9A-F]{2}${b}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${b}){5}[0-9a-f]{2}$`)},bl=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bm=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bn=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,bo=/^[A-Za-z0-9_-]*$/,bp=/^\+(?:[0-9]){6,14}[0-9]$/,bq="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",br=RegExp(`^${bq}$`);function bs(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}function bt(a){return RegExp(`^${bs(a)}$`)}function bu(a){let b=bs({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${bq}T(?:${d})$`)}let bv=a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)},bw=/^-?\d+n?$/,bx=/^-?\d+$/,by=/^-?\d+(?:\.\d+)?/,bz=/^(?:true|false)$/i,bA=/^null$/i,bB=/^undefined$/i,bC=/^[^A-Z]*$/,bD=/^[^a-z]*$/;function bE(a,b){return RegExp(`^[A-Za-z0-9+/]{${a}}${b}$`)}function bF(a){return RegExp(`^[A-Za-z0-9_-]{${a}}$`)}let bG=bE(22,"=="),bH=bF(22),bI=bE(27,"="),bJ=bF(27),bK=bE(43,"="),bL=bF(43),bM=bE(64,""),bN=bF(64),bO=bE(86,"=="),bP=bF(86);a.s(["base64",0,bn,"base64url",0,bo,"bigint",0,bw,"boolean",0,bz,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,bl,"cidrv6",0,bm,"cuid",0,a3,"cuid2",0,a4,"date",0,br,"datetime",()=>bu,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,a9,"e164",0,bp,"email",0,bf,"emoji",()=>bh,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,ba,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,bg,"integer",0,bx,"ipv4",0,bi,"ipv6",0,bj,"ksuid",0,a7,"lowercase",0,bC,"mac",0,bk,"md5_base64",0,bG,"md5_base64url",0,bH,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,a8,"null",()=>bA,"number",0,by,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,bI,"sha1_base64url",0,bJ,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,bK,"sha256_base64url",0,bL,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,bM,"sha384_base64url",0,bN,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,bO,"sha512_base64url",0,bP,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,bv,"time",()=>bt,"ulid",0,a5,"undefined",()=>bB,"unicodeEmail",0,bg,"uppercase",0,bD,"uuid",0,bb,"uuid4",0,bc,"uuid6",0,bd,"uuid7",0,be,"xid",0,a6],20559);let bQ=m("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),bR={number:"number",bigint:"bigint",object:"date"},bS=m("$ZodCheckLessThan",(a,b)=>{bQ.init(a,b);let c=bR[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),bT=m("$ZodCheckGreaterThan",(a,b)=>{bQ.init(a,b);let c=bR[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),bU=m("$ZodCheckMultipleOf",(a,b)=>{bQ.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===D(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),bV=m("$ZodCheckNumberFormat",(a,b)=>{bQ.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=ab[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=bx)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",continue:!1,input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:a})}}),bW=m("$ZodCheckBigIntFormat",(a,b)=>{bQ.init(a,b);let[c,d]=ac[b.format];a._zod.onattach.push(a=>{let e=a._zod.bag;e.format=b.format,e.minimum=c,e.maximum=d}),a._zod.check=e=>{let f=e.value;f<c&&e.issues.push({origin:"bigint",input:f,code:"too_small",minimum:c,inclusive:!0,inst:a,continue:!b.abort}),f>d&&e.issues.push({origin:"bigint",input:f,code:"too_big",maximum:d,inst:a})}}),bX=m("$ZodCheckMaxSize",(a,b)=>{var c;bQ.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!B(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;d.size<=b.maximum||c.issues.push({origin:ao(d),code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),bY=m("$ZodCheckMinSize",(a,b)=>{var c;bQ.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!B(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;d.size>=b.minimum||c.issues.push({origin:ao(d),code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),bZ=m("$ZodCheckSizeEquals",(a,b)=>{var c;bQ.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!B(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.size,c.maximum=b.size,c.size=b.size}),a._zod.check=c=>{let d=c.value,e=d.size;if(e===b.size)return;let f=e>b.size;c.issues.push({origin:ao(d),...f?{code:"too_big",maximum:b.size}:{code:"too_small",minimum:b.size},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),b$=m("$ZodCheckMaxLength",(a,b)=>{var c;bQ.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!B(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=ap(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),b_=m("$ZodCheckMinLength",(a,b)=>{var c;bQ.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!B(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=ap(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),b0=m("$ZodCheckLengthEquals",(a,b)=>{var c;bQ.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!B(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=ap(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),b1=m("$ZodCheckStringFormat",(a,b)=>{var c,d;bQ.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),b2=m("$ZodCheckRegex",(a,b)=>{b1.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),b3=m("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=bC),b1.init(a,b)}),b4=m("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=bD),b1.init(a,b)}),b5=m("$ZodCheckIncludes",(a,b)=>{bQ.init(a,b);let c=X(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),b6=m("$ZodCheckStartsWith",(a,b)=>{bQ.init(a,b);let c=RegExp(`^${X(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),b7=m("$ZodCheckEndsWith",(a,b)=>{bQ.init(a,b);let c=RegExp(`.*${X(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}});function b8(a,b,c){a.issues.length&&b.issues.push(...al(c,a.issues))}let b9=m("$ZodCheckProperty",(a,b)=>{bQ.init(a,b),a._zod.check=a=>{let c=b.schema._zod.run({value:a.value[b.property],issues:[]},{});if(c instanceof Promise)return c.then(c=>b8(c,a,b.property));b8(c,a,b.property)}}),ca=m("$ZodCheckMimeType",(a,b)=>{bQ.init(a,b);let c=new Set(b.mime);a._zod.onattach.push(a=>{a._zod.bag.mime=b.mime}),a._zod.check=d=>{c.has(d.value.type)||d.issues.push({code:"invalid_value",values:b.mime,input:d.value.type,inst:a,continue:!b.abort})}}),cb=m("$ZodCheckOverwrite",(a,b)=>{bQ.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});a.s(["$ZodCheck",0,bQ,"$ZodCheckBigIntFormat",0,bW,"$ZodCheckEndsWith",0,b7,"$ZodCheckGreaterThan",0,bT,"$ZodCheckIncludes",0,b5,"$ZodCheckLengthEquals",0,b0,"$ZodCheckLessThan",0,bS,"$ZodCheckLowerCase",0,b3,"$ZodCheckMaxLength",0,b$,"$ZodCheckMaxSize",0,bX,"$ZodCheckMimeType",0,ca,"$ZodCheckMinLength",0,b_,"$ZodCheckMinSize",0,bY,"$ZodCheckMultipleOf",0,bU,"$ZodCheckNumberFormat",0,bV,"$ZodCheckOverwrite",0,cb,"$ZodCheckProperty",0,b9,"$ZodCheckRegex",0,b2,"$ZodCheckSizeEquals",0,bZ,"$ZodCheckStartsWith",0,b6,"$ZodCheckStringFormat",0,b1,"$ZodCheckUpperCase",0,b4],61802);class cc{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}a.s(["Doc",()=>cc],66004);let cd={major:4,minor:1,patch:13};a.s(["version",0,cd],72385);let ce=m("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=cd;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=ak(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new o;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=ak(a,b)))});else{if(a.issues.length===b)continue;e||(e=ak(a,b))}}return d?d.then(()=>a):a},c=(c,e,f)=>{if(ak(c))return c.aborted=!0,c;let g=b(e,d,f);if(g instanceof Promise){if(!1===f.async)throw new o;return g.then(b=>a._zod.parse(b,f))}return a._zod.parse(g,f)};a._zod.run=(e,f)=>{if(f.skipChecks)return a._zod.parse(e,f);if("backward"===f.direction){let b=a._zod.parse({value:e.value,issues:[]},{...f,skipChecks:!0});return b instanceof Promise?b.then(a=>c(a,e,f)):c(b,e,f)}let g=a._zod.parse(e,f);if(g instanceof Promise){if(!1===f.async)throw new o;return g.then(a=>b(a,d,f))}return b(g,d,f)}}a["~standard"]={validate:b=>{try{let c=aM(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return aO(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),cf=m("$ZodString",(a,b)=>{ce.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??bv(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),cg=m("$ZodStringFormat",(a,b)=>{b1.init(a,b),cf.init(a,b)}),ch=m("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=ba),cg.init(a,b)}),ci=m("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=bb(a))}else b.pattern??(b.pattern=bb());cg.init(a,b)}),cj=m("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=bf),cg.init(a,b)}),ck=m("$ZodURL",(a,b)=>{cg.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:b.hostname.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),cl=m("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=bh()),cg.init(a,b)}),cm=m("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=a8),cg.init(a,b)}),cn=m("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=a3),cg.init(a,b)}),co=m("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=a4),cg.init(a,b)}),cp=m("$ZodULID",(a,b)=>{b.pattern??(b.pattern=a5),cg.init(a,b)}),cq=m("$ZodXID",(a,b)=>{b.pattern??(b.pattern=a6),cg.init(a,b)}),cr=m("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=a7),cg.init(a,b)}),cs=m("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=bu(b)),cg.init(a,b)}),ct=m("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=br),cg.init(a,b)}),cu=m("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=bt(b)),cg.init(a,b)}),cv=m("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=a9),cg.init(a,b)}),cw=m("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=bi),cg.init(a,b),a._zod.bag.format="ipv4"}),cx=m("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=bj),cg.init(a,b),a._zod.bag.format="ipv6",a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),cy=m("$ZodMAC",(a,b)=>{b.pattern??(b.pattern=bk(b.delimiter)),cg.init(a,b),a._zod.bag.format="mac"}),cz=m("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=bl),cg.init(a,b)}),cA=m("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=bm),cg.init(a,b),a._zod.check=c=>{let d=c.value.split("/");try{if(2!==d.length)throw Error();let[a,b]=d;if(!b)throw Error();let c=Number(b);if(`${c}`!==b||c<0||c>128)throw Error();new URL(`http://[${a}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function cB(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let cC=m("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=bn),cg.init(a,b),a._zod.bag.contentEncoding="base64",a._zod.check=c=>{cB(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}});function cD(a){if(!bo.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return cB(b.padEnd(4*Math.ceil(b.length/4),"="))}let cE=m("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=bo),cg.init(a,b),a._zod.bag.contentEncoding="base64url",a._zod.check=c=>{cD(c.value)||c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),cF=m("$ZodE164",(a,b)=>{b.pattern??(b.pattern=bp),cg.init(a,b)});function cG(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}let cH=m("$ZodJWT",(a,b)=>{cg.init(a,b),a._zod.check=c=>{cG(c.value,b.alg)||c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),cI=m("$ZodCustomStringFormat",(a,b)=>{cg.init(a,b),a._zod.check=c=>{b.fn(c.value)||c.issues.push({code:"invalid_format",format:b.format,input:c.value,inst:a,continue:!b.abort})}}),cJ=m("$ZodNumber",(a,b)=>{ce.init(a,b),a._zod.pattern=a._zod.bag.pattern??by,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),cK=m("$ZodNumberFormat",(a,b)=>{bV.init(a,b),cJ.init(a,b)}),cL=m("$ZodBoolean",(a,b)=>{ce.init(a,b),a._zod.pattern=bz,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),cM=m("$ZodBigInt",(a,b)=>{ce.init(a,b),a._zod.pattern=bw,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=BigInt(c.value)}catch(a){}return"bigint"==typeof c.value||c.issues.push({expected:"bigint",code:"invalid_type",input:c.value,inst:a}),c}}),cN=m("$ZodBigIntFormat",(a,b)=>{bW.init(a,b),cM.init(a,b)}),cO=m("$ZodSymbol",(a,b)=>{ce.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return"symbol"==typeof d||b.issues.push({expected:"symbol",code:"invalid_type",input:d,inst:a}),b}}),cP=m("$ZodUndefined",(a,b)=>{ce.init(a,b),a._zod.pattern=bB,a._zod.values=new Set([void 0]),a._zod.optin="optional",a._zod.optout="optional",a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"undefined",code:"invalid_type",input:d,inst:a}),b}}),cQ=m("$ZodNull",(a,b)=>{ce.init(a,b),a._zod.pattern=bA,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),cR=m("$ZodAny",(a,b)=>{ce.init(a,b),a._zod.parse=a=>a}),cS=m("$ZodUnknown",(a,b)=>{ce.init(a,b),a._zod.parse=a=>a}),cT=m("$ZodNever",(a,b)=>{ce.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)}),cU=m("$ZodVoid",(a,b)=>{ce.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"void",code:"invalid_type",input:d,inst:a}),b}}),cV=m("$ZodDate",(a,b)=>{ce.init(a,b),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=new Date(c.value)}catch(a){}let e=c.value,f=e instanceof Date;return f&&!Number.isNaN(e.getTime())||c.issues.push({expected:"date",code:"invalid_type",input:e,...f?{received:"Invalid Date"}:{},inst:a}),c}});function cW(a,b,c){a.issues.length&&b.issues.push(...al(c,a.issues)),b.value[c]=a.value}let cX=m("$ZodArray",(a,b)=>{ce.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>cW(b,c,a))):cW(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function cY(a,b,c,d){a.issues.length&&b.issues.push(...al(c,a.issues)),void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}function cZ(a){let b=Object.keys(a.shape);for(let c of b)if(!a.shape?.[c]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=aa(a.shape);return{...a,keys:b,keySet:new Set(b),numKeys:b.length,optionalKeys:new Set(c)}}function c$(a,b,c,d,e,f){let g=[],h=e.keySet,i=e.catchall._zod,j=i.def.type;for(let e in b){if(h.has(e))continue;if("never"===j){g.push(e);continue}let f=i.run({value:b[e],issues:[]},d);f instanceof Promise?a.push(f.then(a=>cY(a,c,e,b))):cY(f,c,e,b)}return(g.length&&c.issues.push({code:"unrecognized_keys",keys:g,input:b,inst:f}),a.length)?Promise.all(a).then(()=>c):c}let c_=m("$ZodObject",(a,b)=>{let c;ce.init(a,b);let d=Object.getOwnPropertyDescriptor(b,"shape");if(!d?.get){let a=b.shape;Object.defineProperty(b,"shape",{get:()=>{let c={...a};return Object.defineProperty(b,"shape",{value:c}),c}})}let e=A(()=>cZ(b));F(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=b.catchall;a._zod.parse=(b,d)=>{c??(c=e.value);let g=b.value;if(!Q(g))return b.issues.push({expected:"object",code:"invalid_type",input:g,inst:a}),b;b.value={};let h=[],i=c.shape;for(let a of c.keys){let c=i[a]._zod.run({value:g[a],issues:[]},d);c instanceof Promise?h.push(c.then(c=>cY(c,b,a,g))):cY(c,b,a,g)}return f?c$(h,g,b,d,e.value,a):h.length?Promise.all(h).then(()=>b):b}}),c0=m("$ZodObjectJIT",(a,b)=>{let c,d;c_.init(a,b);let e=a._zod.parse,f=A(()=>cZ(b)),g=!q.jitless,h=g&&R.value,i=b.catchall;a._zod.parse=(j,k)=>{d??(d=f.value);let l=j.value;return Q(l)?g&&h&&k?.async===!1&&!0!==k.jitless?(c||(c=(a=>{let b=new cc(["shape","payload","ctx"]),c=f.value,d=a=>{let b=N(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),g=0;for(let a of c.keys)e[a]=`key_${g++}`;for(let a of(b.write("const newResult = {};"),c.keys)){let c=e[a],f=N(a);b.write(`const ${c} = ${d(a)};`),b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${f}, ...iss.path] : [${f}]
          })));
        }
        
        
        if (${c}.value === undefined) {
          if (${f} in input) {
            newResult[${f}] = undefined;
          }
        } else {
          newResult[${f}] = ${c}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),j=c(j,k),i)?c$([],l,j,k,d,a):j:e(j,k):(j.issues.push({expected:"object",code:"invalid_type",input:l,inst:a}),j)}});function c1(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let e=a.filter(a=>!ak(a));return 1===e.length?(b.value=e[0].value,e[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>an(a,d,r())))}),b)}let c2=m("$ZodUnion",(a,b)=>{ce.init(a,b),F(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),F(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),F(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),F(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>C(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>c1(b,e,a,f)):c1(h,e,a,f)}}),c3=m("$ZodDiscriminatedUnion",(a,b)=>{c2.init(a,b);let c=a._zod.parse;F(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=A(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues?.[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!Q(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:b.discriminator,input:g,path:[b.discriminator],inst:a}),e)}}),c4=m("$ZodIntersection",(a,b)=>{ce.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>c5(a,b,c)):c5(a,e,f)}});function c5(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),ak(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(S(b)&&S(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let c6=m("$ZodTuple",(a,b)=>{ce.init(a,b);let c=b.items;a._zod.parse=(d,e)=>{let f=d.value;if(!Array.isArray(f))return d.issues.push({input:f,inst:a,expected:"tuple",code:"invalid_type"}),d;d.value=[];let g=[],h=[...c].reverse().findIndex(a=>"optional"!==a._zod.optin),i=-1===h?0:c.length-h;if(!b.rest){let b=f.length>c.length,e=f.length<i-1;if(b||e)return d.issues.push({...b?{code:"too_big",maximum:c.length}:{code:"too_small",minimum:c.length},input:f,inst:a,origin:"array"}),d}let j=-1;for(let a of c){if(++j>=f.length&&j>=i)continue;let b=a._zod.run({value:f[j],issues:[]},e);b instanceof Promise?g.push(b.then(a=>c7(a,d,j))):c7(b,d,j)}if(b.rest)for(let a of f.slice(c.length)){j++;let c=b.rest._zod.run({value:a,issues:[]},e);c instanceof Promise?g.push(c.then(a=>c7(a,d,j))):c7(c,d,j)}return g.length?Promise.all(g).then(()=>d):d}});function c7(a,b,c){a.issues.length&&b.issues.push(...al(c,a.issues)),b.value[c]=a.value}let c8=m("$ZodRecord",(a,b)=>{ce.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!S(e))return c.issues.push({expected:"record",code:"invalid_type",input:e,inst:a}),c;let f=[],g=b.keyType._zod.values;if(g){let h;c.value={};let i=new Set;for(let a of g)if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){i.add("number"==typeof a?a.toString():a);let g=b.valueType._zod.run({value:e[a],issues:[]},d);g instanceof Promise?f.push(g.then(b=>{b.issues.length&&c.issues.push(...al(a,b.issues)),c.value[a]=b.value})):(g.issues.length&&c.issues.push(...al(a,g.issues)),c.value[a]=g.value)}for(let a in e)i.has(a)||(h=h??[]).push(a);h&&h.length>0&&c.issues.push({code:"unrecognized_keys",input:e,inst:a,keys:h})}else for(let g of(c.value={},Reflect.ownKeys(e))){if("__proto__"===g)continue;let h=b.keyType._zod.run({value:g,issues:[]},d);if(h instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(h.issues.length){c.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(a=>an(a,d,r())),input:g,path:[g],inst:a}),c.value[h.value]=h.value;continue}let i=b.valueType._zod.run({value:e[g],issues:[]},d);i instanceof Promise?f.push(i.then(a=>{a.issues.length&&c.issues.push(...al(g,a.issues)),c.value[h.value]=a.value})):(i.issues.length&&c.issues.push(...al(g,i.issues)),c.value[h.value]=i.value)}return f.length?Promise.all(f).then(()=>c):c}}),c9=m("$ZodMap",(a,b)=>{ce.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Map))return c.issues.push({expected:"map",code:"invalid_type",input:e,inst:a}),c;let f=[];for(let[g,h]of(c.value=new Map,e)){let i=b.keyType._zod.run({value:g,issues:[]},d),j=b.valueType._zod.run({value:h,issues:[]},d);i instanceof Promise||j instanceof Promise?f.push(Promise.all([i,j]).then(([b,f])=>{da(b,f,c,g,e,a,d)})):da(i,j,c,g,e,a,d)}return f.length?Promise.all(f).then(()=>c):c}});function da(a,b,c,d,e,f,g){a.issues.length&&(V.has(typeof d)?c.issues.push(...al(d,a.issues)):c.issues.push({code:"invalid_key",origin:"map",input:e,inst:f,issues:a.issues.map(a=>an(a,g,r()))})),b.issues.length&&(V.has(typeof d)?c.issues.push(...al(d,b.issues)):c.issues.push({origin:"map",code:"invalid_element",input:e,inst:f,key:d,issues:b.issues.map(a=>an(a,g,r()))})),c.value.set(a.value,b.value)}let db=m("$ZodSet",(a,b)=>{ce.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Set))return c.issues.push({input:e,inst:a,expected:"set",code:"invalid_type"}),c;let f=[];for(let a of(c.value=new Set,e)){let e=b.valueType._zod.run({value:a,issues:[]},d);e instanceof Promise?f.push(e.then(a=>dc(a,c))):dc(e,c)}return f.length?Promise.all(f).then(()=>c):c}});function dc(a,b){a.issues.length&&b.issues.push(...a.issues),b.value.add(a.value)}let dd=m("$ZodEnum",(a,b)=>{ce.init(a,b);let c=x(b.entries),d=new Set(c);a._zod.values=d,a._zod.pattern=RegExp(`^(${c.filter(a=>V.has(typeof a)).map(a=>"string"==typeof a?X(a):a.toString()).join("|")})$`),a._zod.parse=(b,e)=>{let f=b.value;return d.has(f)||b.issues.push({code:"invalid_value",values:c,input:f,inst:a}),b}}),de=m("$ZodLiteral",(a,b)=>{if(ce.init(a,b),0===b.values.length)throw Error("Cannot create literal schema with no valid values");let c=new Set(b.values);a._zod.values=c,a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?X(a):a?X(a.toString()):String(a)).join("|")})$`),a._zod.parse=(d,e)=>{let f=d.value;return c.has(f)||d.issues.push({code:"invalid_value",values:b.values,input:f,inst:a}),d}}),df=m("$ZodFile",(a,b)=>{ce.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return d instanceof File||b.issues.push({expected:"file",code:"invalid_type",input:d,inst:a}),b}}),dg=m("$ZodTransform",(a,b)=>{ce.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new p(a.constructor.name);let e=b.transform(c.value,c);if(d.async)return(e instanceof Promise?e:Promise.resolve(e)).then(a=>(c.value=a,c));if(e instanceof Promise)throw new o;return c.value=e,c}});function dh(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let di=m("$ZodOptional",(a,b)=>{ce.init(a,b),a._zod.optin="optional",a._zod.optout="optional",F(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),F(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${C(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>dh(b,a.value)):dh(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),dj=m("$ZodNullable",(a,b)=>{ce.init(a,b),F(a._zod,"optin",()=>b.innerType._zod.optin),F(a._zod,"optout",()=>b.innerType._zod.optout),F(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${C(a.source)}|null)$`):void 0}),F(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),dk=m("$ZodDefault",(a,b)=>{ce.init(a,b),a._zod.optin="optional",F(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>dl(a,b)):dl(d,b)}});function dl(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let dm=m("$ZodPrefault",(a,b)=>{ce.init(a,b),a._zod.optin="optional",F(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>("backward"===c.direction||void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),dn=m("$ZodNonOptional",(a,b)=>{ce.init(a,b),F(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>dp(b,a)):dp(e,a)}});function dp(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let dq=m("$ZodSuccess",(a,b)=>{ce.init(a,b),a._zod.parse=(a,c)=>{if("backward"===c.direction)throw new p("ZodSuccess");let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>(a.value=0===b.issues.length,a)):(a.value=0===d.issues.length,a)}}),dr=m("$ZodCatch",(a,b)=>{ce.init(a,b),F(a._zod,"optin",()=>b.innerType._zod.optin),F(a._zod,"optout",()=>b.innerType._zod.optout),F(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>an(a,c,r()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>an(a,c,r()))},input:a.value}),a.issues=[]),a)}}),ds=m("$ZodNaN",(a,b)=>{ce.init(a,b),a._zod.parse=(b,c)=>("number"==typeof b.value&&Number.isNaN(b.value)||b.issues.push({input:b.value,inst:a,expected:"nan",code:"invalid_type"}),b)}),dt=m("$ZodPipe",(a,b)=>{ce.init(a,b),F(a._zod,"values",()=>b.in._zod.values),F(a._zod,"optin",()=>b.in._zod.optin),F(a._zod,"optout",()=>b.out._zod.optout),F(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("backward"===c.direction){let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>du(a,b.in,c)):du(d,b.in,c)}let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>du(a,b.out,c)):du(d,b.out,c)}});function du(a,b,c){return a.issues.length?(a.aborted=!0,a):b._zod.run({value:a.value,issues:a.issues},c)}let dv=m("$ZodCodec",(a,b)=>{ce.init(a,b),F(a._zod,"values",()=>b.in._zod.values),F(a._zod,"optin",()=>b.in._zod.optin),F(a._zod,"optout",()=>b.out._zod.optout),F(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("forward"===(c.direction||"forward")){let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>dw(a,b,c)):dw(d,b,c)}{let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>dw(a,b,c)):dw(d,b,c)}}});function dw(a,b,c){if(a.issues.length)return a.aborted=!0,a;if("forward"===(c.direction||"forward")){let d=b.transform(a.value,a);return d instanceof Promise?d.then(d=>dx(a,d,b.out,c)):dx(a,d,b.out,c)}{let d=b.reverseTransform(a.value,a);return d instanceof Promise?d.then(d=>dx(a,d,b.in,c)):dx(a,d,b.in,c)}}function dx(a,b,c,d){return a.issues.length?(a.aborted=!0,a):c._zod.run({value:b,issues:a.issues},d)}let dy=m("$ZodReadonly",(a,b)=>{ce.init(a,b),F(a._zod,"propValues",()=>b.innerType._zod.propValues),F(a._zod,"values",()=>b.innerType._zod.values),F(a._zod,"optin",()=>b.innerType?._zod?.optin),F(a._zod,"optout",()=>b.innerType?._zod?.optout),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(dz):dz(d)}});function dz(a){return a.value=Object.freeze(a.value),a}let dA=m("$ZodTemplateLiteral",(a,b)=>{ce.init(a,b);let c=[];for(let a of b.parts)if("object"==typeof a&&null!==a){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let b=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!b)throw Error(`Invalid template literal part: ${a._zod.traits}`);let d=+!!b.startsWith("^"),e=b.endsWith("$")?b.length-1:b.length;c.push(b.slice(d,e))}else if(null===a||W.has(typeof a))c.push(X(`${a}`));else throw Error(`Invalid template literal part: ${a}`);a._zod.pattern=RegExp(`^${c.join("")}$`),a._zod.parse=(c,d)=>("string"!=typeof c.value?c.issues.push({input:c.value,inst:a,expected:"template_literal",code:"invalid_type"}):(a._zod.pattern.lastIndex=0,a._zod.pattern.test(c.value)||c.issues.push({input:c.value,inst:a,code:"invalid_format",format:b.format??"template_literal",pattern:a._zod.pattern.source})),c)}),dB=m("$ZodFunction",(a,b)=>(ce.init(a,b),a._def=b,a._zod.def=b,a.implement=b=>{if("function"!=typeof b)throw Error("implement() must be called with a function");return function(...c){let d=Reflect.apply(b,this,a._def.input?aI(a._def.input,c):c);return a._def.output?aI(a._def.output,d):d}},a.implementAsync=b=>{if("function"!=typeof b)throw Error("implementAsync() must be called with a function");return async function(...c){let d=a._def.input?await aK(a._def.input,c):c,e=await Reflect.apply(b,this,d);return a._def.output?await aK(a._def.output,e):e}},a._zod.parse=(b,c)=>("function"!=typeof b.value?b.issues.push({code:"invalid_type",expected:"function",input:b.value,inst:a}):a._def.output&&"promise"===a._def.output._zod.def.type?b.value=a.implementAsync(b.value):b.value=a.implement(b.value),b),a.input=(...b)=>{let c=a.constructor;return new c(Array.isArray(b[0])?{type:"function",input:new c6({type:"tuple",items:b[0],rest:b[1]}),output:a._def.output}:{type:"function",input:b[0],output:a._def.output})},a.output=b=>new a.constructor({type:"function",input:a._def.input,output:b}),a)),dC=m("$ZodPromise",(a,b)=>{ce.init(a,b),a._zod.parse=(a,c)=>Promise.resolve(a.value).then(a=>b.innerType._zod.run({value:a,issues:[]},c))}),dD=m("$ZodLazy",(a,b)=>{ce.init(a,b),F(a._zod,"innerType",()=>b.getter()),F(a._zod,"pattern",()=>a._zod.innerType?._zod?.pattern),F(a._zod,"propValues",()=>a._zod.innerType?._zod?.propValues),F(a._zod,"optin",()=>a._zod.innerType?._zod?.optin??void 0),F(a._zod,"optout",()=>a._zod.innerType?._zod?.optout??void 0),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),dE=m("$ZodCustom",(a,b)=>{bQ.init(a,b),ce.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>dF(b,c,d,a));dF(e,c,d,a)}});function dF(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(aq(a))}}function dG(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function dH(){let a,b;return{localeError:(a={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Invalid input: expected ${c.expected}, received ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Invalid input: expected ${_(c.values[0])}`;return`Invalid option: expected one of ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Too big: expected ${c.origin??"value"} to have ${b}${c.maximum.toString()} ${d.unit??"elements"}`;return`Too big: expected ${c.origin??"value"} to be ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Too small: expected ${c.origin} to have ${b}${c.minimum.toString()} ${d.unit}`;return`Too small: expected ${c.origin} to be ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Invalid string: must start with "${c.prefix}"`;if("ends_with"===c.format)return`Invalid string: must end with "${c.suffix}"`;if("includes"===c.format)return`Invalid string: must include "${c.includes}"`;if("regex"===c.format)return`Invalid string: must match pattern ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${c.divisor}`;case"unrecognized_keys":return`Unrecognized key${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Invalid key in ${c.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${c.origin}`}})}}function dI(){let a,b;return{localeError:(a={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}},b={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"},c=>{switch(c.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${c.expected} ប៉ុន្តែទទួលបាន ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":if(Array.isArray(a))return"អារេ (Array)";if(null===a)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${_(c.values[0])}`;return`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`ធំពេក៖ ត្រូវការ ${c.origin??"តម្លៃ"} ${b} ${c.maximum.toString()} ${d.unit??"ធាតុ"}`;return`ធំពេក៖ ត្រូវការ ${c.origin??"តម្លៃ"} ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`តូចពេក៖ ត្រូវការ ${c.origin} ${b} ${c.minimum.toString()} ${d.unit}`;return`តូចពេក៖ ត្រូវការ ${c.origin} ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${c.prefix}"`;if("ends_with"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${c.suffix}"`;if("includes"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${c.includes}"`;if("regex"===c.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${c.pattern}`;return`មិនត្រឹមត្រូវ៖ ${b[c.format]??c.format}`;case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${c.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${y(c.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${c.origin}`;case"invalid_union":default:return`ទិន្នន័យមិនត្រឹមត្រូវ`;case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${c.origin}`}})}}a.s(["$ZodAny",0,cR,"$ZodArray",0,cX,"$ZodBase64",0,cC,"$ZodBase64URL",0,cE,"$ZodBigInt",0,cM,"$ZodBigIntFormat",0,cN,"$ZodBoolean",0,cL,"$ZodCIDRv4",0,cz,"$ZodCIDRv6",0,cA,"$ZodCUID",0,cn,"$ZodCUID2",0,co,"$ZodCatch",0,dr,"$ZodCodec",0,dv,"$ZodCustom",0,dE,"$ZodCustomStringFormat",0,cI,"$ZodDate",0,cV,"$ZodDefault",0,dk,"$ZodDiscriminatedUnion",0,c3,"$ZodE164",0,cF,"$ZodEmail",0,cj,"$ZodEmoji",0,cl,"$ZodEnum",0,dd,"$ZodFile",0,df,"$ZodFunction",0,dB,"$ZodGUID",0,ch,"$ZodIPv4",0,cw,"$ZodIPv6",0,cx,"$ZodISODate",0,ct,"$ZodISODateTime",0,cs,"$ZodISODuration",0,cv,"$ZodISOTime",0,cu,"$ZodIntersection",0,c4,"$ZodJWT",0,cH,"$ZodKSUID",0,cr,"$ZodLazy",0,dD,"$ZodLiteral",0,de,"$ZodMAC",0,cy,"$ZodMap",0,c9,"$ZodNaN",0,ds,"$ZodNanoID",0,cm,"$ZodNever",0,cT,"$ZodNonOptional",0,dn,"$ZodNull",0,cQ,"$ZodNullable",0,dj,"$ZodNumber",0,cJ,"$ZodNumberFormat",0,cK,"$ZodObject",0,c_,"$ZodObjectJIT",0,c0,"$ZodOptional",0,di,"$ZodPipe",0,dt,"$ZodPrefault",0,dm,"$ZodPromise",0,dC,"$ZodReadonly",0,dy,"$ZodRecord",0,c8,"$ZodSet",0,db,"$ZodString",0,cf,"$ZodStringFormat",0,cg,"$ZodSuccess",0,dq,"$ZodSymbol",0,cO,"$ZodTemplateLiteral",0,dA,"$ZodTransform",0,dg,"$ZodTuple",0,c6,"$ZodType",0,ce,"$ZodULID",0,cp,"$ZodURL",0,ck,"$ZodUUID",0,ci,"$ZodUndefined",0,cP,"$ZodUnion",0,c2,"$ZodUnknown",0,cS,"$ZodVoid",0,cU,"$ZodXID",0,cq,"isValidBase64",()=>cB,"isValidBase64URL",()=>cD,"isValidJWT",()=>cG],84516);let dJ=(a,b)=>{switch(a){case"number":return Number.isNaN(b)?"NaN":"skaičius";case"bigint":return"sveikasis skaičius";case"string":return"eilutė";case"boolean":return"loginė reikšmė";case"undefined":case"void":return"neapibrėžta reikšmė";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===b)return"nežinomas objektas";if(null===b)return"nulinė reikšmė";if(Array.isArray(b))return"masyvas";if(Object.getPrototypeOf(b)!==Object.prototype&&b.constructor)return b.constructor.name;return"objektas";case"null":return"nulinė reikšmė"}return a},dK=a=>a.charAt(0).toUpperCase()+a.slice(1);function dL(a){let b=Math.abs(a),c=b%10,d=b%100;return d>=11&&d<=19||0===c?"many":1===c?"one":"few"}function dM(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function dN(){let a,b;return{localeError:(a={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}},b={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"},c=>{switch(c.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${c.expected}, отримано ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"число";case"object":if(Array.isArray(a))return"масив";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Неправильні вхідні дані: очікується ${_(c.values[0])}`;return`Неправильна опція: очікується одне з ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Занадто велике: очікується, що ${c.origin??"значення"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"елементів"}`;return`Занадто велике: очікується, що ${c.origin??"значення"} буде ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Занадто мале: очікується, що ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Занадто мале: очікується, що ${c.origin} буде ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Неправильний рядок: повинен починатися з "${c.prefix}"`;if("ends_with"===c.format)return`Неправильний рядок: повинен закінчуватися на "${c.suffix}"`;if("includes"===c.format)return`Неправильний рядок: повинен містити "${c.includes}"`;if("regex"===c.format)return`Неправильний рядок: повинен відповідати шаблону ${c.pattern}`;return`Неправильний ${b[c.format]??c.format}`;case"not_multiple_of":return`Неправильне число: повинно бути кратним ${c.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${c.keys.length>1?"і":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${c.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${c.origin}`;default:return`Неправильні вхідні дані`}})}}a.s([],94551);let dO=Symbol("ZodOutput"),dP=Symbol("ZodInput");class dQ{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function dR(){return new dQ}(fI=globalThis).__zod_globalRegistry??(fI.__zod_globalRegistry=dR());let dS=globalThis.__zod_globalRegistry;function dT(a,b){return new a({type:"string",...Z(b)})}function dU(a,b){return new a({type:"string",coerce:!0,...Z(b)})}function dV(a,b){return new a({type:"string",format:"email",check:"string_format",abort:!1,...Z(b)})}function dW(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...Z(b)})}function dX(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...Z(b)})}function dY(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Z(b)})}function dZ(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Z(b)})}function d$(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Z(b)})}function d_(a,b){return new a({type:"string",format:"url",check:"string_format",abort:!1,...Z(b)})}function d0(a,b){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...Z(b)})}function d1(a,b){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...Z(b)})}function d2(a,b){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...Z(b)})}function d3(a,b){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...Z(b)})}function d4(a,b){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...Z(b)})}function d5(a,b){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...Z(b)})}function d6(a,b){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...Z(b)})}function d7(a,b){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...Z(b)})}function d8(a,b){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...Z(b)})}function d9(a,b){return new a({type:"string",format:"mac",check:"string_format",abort:!1,...Z(b)})}function ea(a,b){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Z(b)})}function eb(a,b){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Z(b)})}function ec(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...Z(b)})}function ed(a,b){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...Z(b)})}function ee(a,b){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...Z(b)})}function ef(a,b){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...Z(b)})}a.s(["$ZodRegistry",()=>dQ,"$input",0,dP,"$output",0,dO,"globalRegistry",0,dS,"registry",()=>dR],64166);let eg={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function eh(a,b){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Z(b)})}function ei(a,b){return new a({type:"string",format:"date",check:"string_format",...Z(b)})}function ej(a,b){return new a({type:"string",format:"time",check:"string_format",precision:null,...Z(b)})}function ek(a,b){return new a({type:"string",format:"duration",check:"string_format",...Z(b)})}function el(a,b){return new a({type:"number",checks:[],...Z(b)})}function em(a,b){return new a({type:"number",coerce:!0,checks:[],...Z(b)})}function en(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"safeint",...Z(b)})}function eo(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float32",...Z(b)})}function ep(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float64",...Z(b)})}function eq(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"int32",...Z(b)})}function er(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"uint32",...Z(b)})}function es(a,b){return new a({type:"boolean",...Z(b)})}function et(a,b){return new a({type:"boolean",coerce:!0,...Z(b)})}function eu(a,b){return new a({type:"bigint",...Z(b)})}function ev(a,b){return new a({type:"bigint",coerce:!0,...Z(b)})}function ew(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Z(b)})}function ex(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Z(b)})}function ey(a,b){return new a({type:"symbol",...Z(b)})}function ez(a,b){return new a({type:"undefined",...Z(b)})}function eA(a,b){return new a({type:"null",...Z(b)})}function eB(a){return new a({type:"any"})}function eC(a){return new a({type:"unknown"})}function eD(a,b){return new a({type:"never",...Z(b)})}function eE(a,b){return new a({type:"void",...Z(b)})}function eF(a,b){return new a({type:"date",...Z(b)})}function eG(a,b){return new a({type:"date",coerce:!0,...Z(b)})}function eH(a,b){return new a({type:"nan",...Z(b)})}function eI(a,b){return new bS({check:"less_than",...Z(b),value:a,inclusive:!1})}function eJ(a,b){return new bS({check:"less_than",...Z(b),value:a,inclusive:!0})}function eK(a,b){return new bT({check:"greater_than",...Z(b),value:a,inclusive:!1})}function eL(a,b){return new bT({check:"greater_than",...Z(b),value:a,inclusive:!0})}function eM(a){return eK(0,a)}function eN(a){return eI(0,a)}function eO(a){return eJ(0,a)}function eP(a){return eL(0,a)}function eQ(a,b){return new bU({check:"multiple_of",...Z(b),value:a})}function eR(a,b){return new bX({check:"max_size",...Z(b),maximum:a})}function eS(a,b){return new bY({check:"min_size",...Z(b),minimum:a})}function eT(a,b){return new bZ({check:"size_equals",...Z(b),size:a})}function eU(a,b){return new b$({check:"max_length",...Z(b),maximum:a})}function eV(a,b){return new b_({check:"min_length",...Z(b),minimum:a})}function eW(a,b){return new b0({check:"length_equals",...Z(b),length:a})}function eX(a,b){return new b2({check:"string_format",format:"regex",...Z(b),pattern:a})}function eY(a){return new b3({check:"string_format",format:"lowercase",...Z(a)})}function eZ(a){return new b4({check:"string_format",format:"uppercase",...Z(a)})}function e$(a,b){return new b5({check:"string_format",format:"includes",...Z(b),includes:a})}function e_(a,b){return new b6({check:"string_format",format:"starts_with",...Z(b),prefix:a})}function e0(a,b){return new b7({check:"string_format",format:"ends_with",...Z(b),suffix:a})}function e1(a,b,c){return new b9({check:"property",property:a,schema:b,...Z(c)})}function e2(a,b){return new ca({check:"mime_type",mime:a,...Z(b)})}function e3(a){return new cb({check:"overwrite",tx:a})}function e4(a){return e3(b=>b.normalize(a))}function e5(){return e3(a=>a.trim())}function e6(){return e3(a=>a.toLowerCase())}function e7(){return e3(a=>a.toUpperCase())}function e8(){return e3(a=>O(a))}function e9(a,b,c){return new a({type:"array",element:b,...Z(c)})}function fa(a,b,c){return new a({type:"union",options:b,...Z(c)})}function fb(a,b,c,d){return new a({type:"union",options:c,discriminator:b,...Z(d)})}function fc(a,b,c){return new a({type:"intersection",left:b,right:c})}function fd(a,b,c,d){let e=c instanceof ce,f=e?d:c;return new a({type:"tuple",items:b,rest:e?c:null,...Z(f)})}function fe(a,b,c,d){return new a({type:"record",keyType:b,valueType:c,...Z(d)})}function ff(a,b,c,d){return new a({type:"map",keyType:b,valueType:c,...Z(d)})}function fg(a,b,c){return new a({type:"set",valueType:b,...Z(c)})}function fh(a,b,c){return new a({type:"enum",entries:Array.isArray(b)?Object.fromEntries(b.map(a=>[a,a])):b,...Z(c)})}function fi(a,b,c){return new a({type:"enum",entries:b,...Z(c)})}function fj(a,b,c){return new a({type:"literal",values:Array.isArray(b)?b:[b],...Z(c)})}function fk(a,b){return new a({type:"file",...Z(b)})}function fl(a,b){return new a({type:"transform",transform:b})}function fm(a,b){return new a({type:"optional",innerType:b})}function fn(a,b){return new a({type:"nullable",innerType:b})}function fo(a,b,c){return new a({type:"default",innerType:b,get defaultValue(){return"function"==typeof c?c():T(c)}})}function fp(a,b,c){return new a({type:"nonoptional",innerType:b,...Z(c)})}function fq(a,b){return new a({type:"success",innerType:b})}function fr(a,b,c){return new a({type:"catch",innerType:b,catchValue:"function"==typeof c?c:()=>c})}function fs(a,b,c){return new a({type:"pipe",in:b,out:c})}function ft(a,b){return new a({type:"readonly",innerType:b})}function fu(a,b,c){return new a({type:"template_literal",parts:b,...Z(c)})}function fv(a,b){return new a({type:"lazy",getter:b})}function fw(a,b){return new a({type:"promise",innerType:b})}function fx(a,b,c){let d=Z(c);return d.abort??(d.abort=!0),new a({type:"custom",check:"custom",fn:b,...d})}function fy(a,b,c){return new a({type:"custom",check:"custom",fn:b,...Z(c)})}function fz(a){let b=fA(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(aq(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(aq(a)))},a(c.value,c)));return b}function fA(a,b){let c=new bQ({check:"custom",...Z(b)});return c._zod.check=a,c}function fB(a){let b=new bQ({check:"describe"});return b._zod.onattach=[b=>{let c=dS.get(b)??{};dS.add(b,{...c,description:a})}],b._zod.check=()=>{},b}function fC(a){let b=new bQ({check:"meta"});return b._zod.onattach=[b=>{let c=dS.get(b)??{};dS.add(b,{...c,...a})}],b._zod.check=()=>{},b}function fD(a,b){let c=Z(b),d=c.truthy??["true","1","yes","on","y","enabled"],e=c.falsy??["false","0","no","off","n","disabled"];"sensitive"!==c.case&&(d=d.map(a=>"string"==typeof a?a.toLowerCase():a),e=e.map(a=>"string"==typeof a?a.toLowerCase():a));let f=new Set(d),g=new Set(e),h=a.Codec??dv,i=a.Boolean??cL,j=new h({type:"pipe",in:new(a.String??cf)({type:"string",error:c.error}),out:new i({type:"boolean",error:c.error}),transform:(a,b)=>{let d=a;return"sensitive"!==c.case&&(d=d.toLowerCase()),!!f.has(d)||!g.has(d)&&(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...f,...g],input:b.value,inst:j,continue:!1}),{})},reverseTransform:(a,b)=>!0===a?d[0]||"true":e[0]||"false",error:c.error});return j}function fE(a,b,c,d={}){let e=Z(d),f={...Z(d),check:"string_format",type:"string",format:b,fn:"function"==typeof c?c:a=>c.test(a),...e};return c instanceof RegExp&&(f.pattern=c),new a(f)}a.s(["TimePrecision",0,eg,"_any",()=>eB,"_array",()=>e9,"_base64",()=>ec,"_base64url",()=>ed,"_bigint",()=>eu,"_boolean",()=>es,"_catch",()=>fr,"_check",()=>fA,"_cidrv4",()=>ea,"_cidrv6",()=>eb,"_coercedBigint",()=>ev,"_coercedBoolean",()=>et,"_coercedDate",()=>eG,"_coercedNumber",()=>em,"_coercedString",()=>dU,"_cuid",()=>d2,"_cuid2",()=>d3,"_custom",()=>fx,"_date",()=>eF,"_default",()=>fo,"_discriminatedUnion",()=>fb,"_e164",()=>ee,"_email",()=>dV,"_emoji",()=>d0,"_endsWith",()=>e0,"_enum",()=>fh,"_file",()=>fk,"_float32",()=>eo,"_float64",()=>ep,"_gt",()=>eK,"_gte",()=>eL,"_guid",()=>dW,"_includes",()=>e$,"_int",()=>en,"_int32",()=>eq,"_int64",()=>ew,"_intersection",()=>fc,"_ipv4",()=>d7,"_ipv6",()=>d8,"_isoDate",()=>ei,"_isoDateTime",()=>eh,"_isoDuration",()=>ek,"_isoTime",()=>ej,"_jwt",()=>ef,"_ksuid",()=>d6,"_lazy",()=>fv,"_length",()=>eW,"_literal",()=>fj,"_lowercase",()=>eY,"_lt",()=>eI,"_lte",()=>eJ,"_mac",()=>d9,"_map",()=>ff,"_max",()=>eJ,"_maxLength",()=>eU,"_maxSize",()=>eR,"_mime",()=>e2,"_min",()=>eL,"_minLength",()=>eV,"_minSize",()=>eS,"_multipleOf",()=>eQ,"_nan",()=>eH,"_nanoid",()=>d1,"_nativeEnum",()=>fi,"_negative",()=>eN,"_never",()=>eD,"_nonnegative",()=>eP,"_nonoptional",()=>fp,"_nonpositive",()=>eO,"_normalize",()=>e4,"_null",()=>eA,"_nullable",()=>fn,"_number",()=>el,"_optional",()=>fm,"_overwrite",()=>e3,"_pipe",()=>fs,"_positive",()=>eM,"_promise",()=>fw,"_property",()=>e1,"_readonly",()=>ft,"_record",()=>fe,"_refine",()=>fy,"_regex",()=>eX,"_set",()=>fg,"_size",()=>eT,"_slugify",()=>e8,"_startsWith",()=>e_,"_string",()=>dT,"_stringFormat",()=>fE,"_stringbool",()=>fD,"_success",()=>fq,"_superRefine",()=>fz,"_symbol",()=>ey,"_templateLiteral",()=>fu,"_toLowerCase",()=>e6,"_toUpperCase",()=>e7,"_transform",()=>fl,"_trim",()=>e5,"_tuple",()=>fd,"_uint32",()=>er,"_uint64",()=>ex,"_ulid",()=>d4,"_undefined",()=>ez,"_union",()=>fa,"_unknown",()=>eC,"_uppercase",()=>eZ,"_url",()=>d_,"_uuid",()=>dX,"_uuidv4",()=>dY,"_uuidv6",()=>dZ,"_uuidv7",()=>d$,"_void",()=>eE,"_xid",()=>d5,"describe",()=>fB,"meta",()=>fC],63571);class fF{constructor(a){this.counter=0,this.metadataRegistry=a?.metadata??dS,this.target=a?.target??"draft-2020-12",this.unrepresentable=a?.unrepresentable??"throw",this.override=a?.override??(()=>{}),this.io=a?.io??"output",this.seen=new Map}process(a,b={path:[],schemaPath:[]}){var c;let d=a._zod.def,e=this.seen.get(a);if(e)return e.count++,b.schemaPath.includes(a)&&(e.cycle=b.path),e.schema;let f={schema:{},count:1,cycle:void 0,path:b.path};this.seen.set(a,f);let g=a._zod.toJSONSchema?.();if(g)f.schema=g;else{let c={...b,schemaPath:[...b.schemaPath,a],path:b.path},e=a._zod.parent;if(e)f.ref=e,this.process(e,c),this.seen.get(e).isParent=!0;else{let b=f.schema;switch(d.type){case"string":{b.type="string";let{minimum:c,maximum:d,format:e,patterns:g,contentEncoding:h}=a._zod.bag;if("number"==typeof c&&(b.minLength=c),"number"==typeof d&&(b.maxLength=d),e&&(b.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[e]??e,""===b.format&&delete b.format),h&&(b.contentEncoding=h),g&&g.size>0){let a=[...g];1===a.length?b.pattern=a[0].source:a.length>1&&(f.schema.allOf=[...a.map(a=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:a.source}))])}break}case"number":{let{minimum:c,maximum:d,format:e,multipleOf:f,exclusiveMaximum:g,exclusiveMinimum:h}=a._zod.bag;"string"==typeof e&&e.includes("int")?b.type="integer":b.type="number","number"==typeof h&&("draft-4"===this.target||"openapi-3.0"===this.target?(b.minimum=h,b.exclusiveMinimum=!0):b.exclusiveMinimum=h),"number"==typeof c&&(b.minimum=c,"number"==typeof h&&"draft-4"!==this.target&&(h>=c?delete b.minimum:delete b.exclusiveMinimum)),"number"==typeof g&&("draft-4"===this.target||"openapi-3.0"===this.target?(b.maximum=g,b.exclusiveMaximum=!0):b.exclusiveMaximum=g),"number"==typeof d&&(b.maximum=d,"number"==typeof g&&"draft-4"!==this.target&&(g<=d?delete b.maximum:delete b.exclusiveMaximum)),"number"==typeof f&&(b.multipleOf=f);break}case"boolean":case"success":b.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(b.type="string",b.nullable=!0,b.enum=[null]):b.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":b.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:e,maximum:f}=a._zod.bag;"number"==typeof e&&(b.minItems=e),"number"==typeof f&&(b.maxItems=f),b.type="array",b.items=this.process(d.element,{...c,path:[...c.path,"items"]});break}case"object":{b.type="object",b.properties={};let a=d.shape;for(let d in a)b.properties[d]=this.process(a[d],{...c,path:[...c.path,"properties",d]});let e=new Set([...new Set(Object.keys(a))].filter(a=>{let b=d.shape[a]._zod;return"input"===this.io?void 0===b.optin:void 0===b.optout}));e.size>0&&(b.required=Array.from(e)),d.catchall?._zod.def.type==="never"?b.additionalProperties=!1:d.catchall?d.catchall&&(b.additionalProperties=this.process(d.catchall,{...c,path:[...c.path,"additionalProperties"]})):"output"===this.io&&(b.additionalProperties=!1);break}case"union":{let a=void 0!==d.discriminator,e=d.options.map((b,d)=>this.process(b,{...c,path:[...c.path,a?"oneOf":"anyOf",d]}));a?b.oneOf=e:b.anyOf=e;break}case"intersection":{let a=this.process(d.left,{...c,path:[...c.path,"allOf",0]}),e=this.process(d.right,{...c,path:[...c.path,"allOf",1]}),f=a=>"allOf"in a&&1===Object.keys(a).length;b.allOf=[...f(a)?a.allOf:[a],...f(e)?e.allOf:[e]];break}case"tuple":{b.type="array";let e="draft-2020-12"===this.target?"prefixItems":"items",f="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",g=d.items.map((a,b)=>this.process(a,{...c,path:[...c.path,e,b]})),h=d.rest?this.process(d.rest,{...c,path:[...c.path,f,..."openapi-3.0"===this.target?[d.items.length]:[]]}):null;"draft-2020-12"===this.target?(b.prefixItems=g,h&&(b.items=h)):"openapi-3.0"===this.target?(b.items={anyOf:g},h&&b.items.anyOf.push(h),b.minItems=g.length,h||(b.maxItems=g.length)):(b.items=g,h&&(b.additionalItems=h));let{minimum:i,maximum:j}=a._zod.bag;"number"==typeof i&&(b.minItems=i),"number"==typeof j&&(b.maxItems=j);break}case"record":b.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(b.propertyNames=this.process(d.keyType,{...c,path:[...c.path,"propertyNames"]})),b.additionalProperties=this.process(d.valueType,{...c,path:[...c.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let a=x(d.entries);a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),b.enum=a;break}case"literal":{let a=[];for(let b of d.values)if(void 0===b){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof b)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else a.push(Number(b));else a.push(b);if(0===a.length);else if(1===a.length){let c=a[0];b.type=null===c?"null":typeof c,"draft-4"===this.target||"openapi-3.0"===this.target?b.enum=[c]:b.const=c}else a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),a.every(a=>"boolean"==typeof a)&&(b.type="string"),a.every(a=>null===a)&&(b.type="null"),b.enum=a;break}case"file":{let c={type:"string",format:"binary",contentEncoding:"binary"},{minimum:d,maximum:e,mime:f}=a._zod.bag;void 0!==d&&(c.minLength=d),void 0!==e&&(c.maxLength=e),f?1===f.length?(c.contentMediaType=f[0],Object.assign(b,c)):b.anyOf=f.map(a=>({...c,contentMediaType:a})):Object.assign(b,c);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let a=this.process(d.innerType,c);"openapi-3.0"===this.target?(f.ref=d.innerType,b.nullable=!0):b.anyOf=[a,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(d.innerType,c),f.ref=d.innerType;break;case"default":this.process(d.innerType,c),f.ref=d.innerType,b.default=JSON.parse(JSON.stringify(d.defaultValue));break;case"prefault":this.process(d.innerType,c),f.ref=d.innerType,"input"===this.io&&(b._prefault=JSON.parse(JSON.stringify(d.defaultValue)));break;case"catch":{let a;this.process(d.innerType,c),f.ref=d.innerType;try{a=d.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}b.default=a;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let c=a._zod.pattern;if(!c)throw Error("Pattern not found in template literal");b.type="string",b.pattern=c.source;break}case"pipe":{let a="input"===this.io?"transform"===d.in._zod.def.type?d.out:d.in:d.out;this.process(a,c),f.ref=a;break}case"readonly":this.process(d.innerType,c),f.ref=d.innerType,b.readOnly=!0;break;case"lazy":{let b=a._zod.innerType;this.process(b,c),f.ref=b;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let h=this.metadataRegistry.get(a);return h&&Object.assign(f.schema,h),"input"===this.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;if("transform"===e.type)return!0;if("array"===e.type)return a(e.element,d);if("set"===e.type)return a(e.valueType,d);if("lazy"===e.type)return a(e.getter(),d);if("promise"===e.type||"optional"===e.type||"nonoptional"===e.type||"nullable"===e.type||"readonly"===e.type||"default"===e.type||"prefault"===e.type)return a(e.innerType,d);if("intersection"===e.type)return a(e.left,d)||a(e.right,d);if("record"===e.type||"map"===e.type)return a(e.keyType,d)||a(e.valueType,d);if("pipe"===e.type)return a(e.in,d)||a(e.out,d);if("object"===e.type){for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1}if("union"===e.type){for(let b of e.options)if(a(b,d))return!0;return!1}if("tuple"===e.type){for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0}return!1}(a)&&(delete f.schema.examples,delete f.schema.default),"input"===this.io&&f.schema._prefault&&((c=f.schema).default??(c.default=f.schema._prefault)),delete f.schema._prefault,this.seen.get(a).schema}emit(a,b){let c={cycles:b?.cycles??"ref",reused:b?.reused??"inline",external:b?.external??void 0},d=this.seen.get(a);if(!d)throw Error("Unprocessed schema. This is a bug in Zod.");let e=a=>{let b="draft-2020-12"===this.target?"$defs":"definitions";if(c.external){let d=c.external.registry.get(a[0])?.id,e=c.external.uri??(a=>a);if(d)return{ref:e(d)};let f=a[1].defId??a[1].schema.id??`schema${this.counter++}`;return a[1].defId=f,{defId:f,ref:`${e("__shared")}#/${b}/${f}`}}if(a[1]===d)return{ref:"#"};let e=`#/${b}/`,f=a[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:e+f}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===c.cycles)for(let a of this.seen.entries()){let b=a[1];if(b.cycle)throw Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let b of this.seen.entries()){let d=b[1];if(a===b[0]){f(b);continue}if(c.external){let d=c.external.registry.get(b[0])?.id;if(a!==b[0]&&d){f(b);continue}}if(this.metadataRegistry.get(b[0])?.id||d.cycle||d.count>1&&"ref"===c.reused){f(b);continue}}let g=(a,b)=>{let c=this.seen.get(a),d=c.def??c.schema,e={...d};if(null===c.ref)return;let f=c.ref;if(c.ref=null,f){g(f,b);let a=this.seen.get(f).schema;a.$ref&&("draft-7"===b.target||"draft-4"===b.target||"openapi-3.0"===b.target)?(d.allOf=d.allOf??[],d.allOf.push(a)):(Object.assign(d,a),Object.assign(d,e))}c.isParent||this.override({zodSchema:a,jsonSchema:d,path:c.path??[]})};for(let a of[...this.seen.entries()].reverse())g(a[0],{target:this.target});let h={};if("draft-2020-12"===this.target?h.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?h.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?h.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),c.external?.uri){let b=c.external.registry.get(a)?.id;if(!b)throw Error("Schema is missing an `id` property");h.$id=c.external.uri(b)}Object.assign(h,d.def);let i=c.external?.defs??{};for(let a of this.seen.entries()){let b=a[1];b.def&&b.defId&&(i[b.defId]=b.def)}c.external||Object.keys(i).length>0&&("draft-2020-12"===this.target?h.$defs=i:h.definitions=i);try{return JSON.parse(JSON.stringify(h))}catch(a){throw Error("Error converting schema to JSON.")}}}function fG(a,b){if(a instanceof dQ){let c=new fF(b),d={};for(let b of a._idmap.entries()){let[a,d]=b;c.process(d)}let e={},f={registry:a,uri:b?.uri,defs:d};for(let d of a._idmap.entries()){let[a,g]=d;e[a]=c.emit(g,{...b,external:f})}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=new fF(b);return c.process(a),c.emit(a,b)}a.s(["JSONSchemaGenerator",()=>fF,"toJSONSchema",()=>fG],76403),a.s([],95288),a.s([],38005),a.i(84516),a.s(["$ZodAny",0,cR,"$ZodArray",0,cX,"$ZodBase64",0,cC,"$ZodBase64URL",0,cE,"$ZodBigInt",0,cM,"$ZodBigIntFormat",0,cN,"$ZodBoolean",0,cL,"$ZodCIDRv4",0,cz,"$ZodCIDRv6",0,cA,"$ZodCUID",0,cn,"$ZodCUID2",0,co,"$ZodCatch",0,dr,"$ZodCodec",0,dv,"$ZodCustom",0,dE,"$ZodCustomStringFormat",0,cI,"$ZodDate",0,cV,"$ZodDefault",0,dk,"$ZodDiscriminatedUnion",0,c3,"$ZodE164",0,cF,"$ZodEmail",0,cj,"$ZodEmoji",0,cl,"$ZodEnum",0,dd,"$ZodFile",0,df,"$ZodFunction",0,dB,"$ZodGUID",0,ch,"$ZodIPv4",0,cw,"$ZodIPv6",0,cx,"$ZodISODate",0,ct,"$ZodISODateTime",0,cs,"$ZodISODuration",0,cv,"$ZodISOTime",0,cu,"$ZodIntersection",0,c4,"$ZodJWT",0,cH,"$ZodKSUID",0,cr,"$ZodLazy",0,dD,"$ZodLiteral",0,de,"$ZodMAC",0,cy,"$ZodMap",0,c9,"$ZodNaN",0,ds,"$ZodNanoID",0,cm,"$ZodNever",0,cT,"$ZodNonOptional",0,dn,"$ZodNull",0,cQ,"$ZodNullable",0,dj,"$ZodNumber",0,cJ,"$ZodNumberFormat",0,cK,"$ZodObject",0,c_,"$ZodObjectJIT",0,c0,"$ZodOptional",0,di,"$ZodPipe",0,dt,"$ZodPrefault",0,dm,"$ZodPromise",0,dC,"$ZodReadonly",0,dy,"$ZodRecord",0,c8,"$ZodSet",0,db,"$ZodString",0,cf,"$ZodStringFormat",0,cg,"$ZodSuccess",0,dq,"$ZodSymbol",0,cO,"$ZodTemplateLiteral",0,dA,"$ZodTransform",0,dg,"$ZodTuple",0,c6,"$ZodType",0,ce,"$ZodULID",0,cp,"$ZodURL",0,ck,"$ZodUUID",0,ci,"$ZodUndefined",0,cP,"$ZodUnion",0,c2,"$ZodUnknown",0,cS,"$ZodVoid",0,cU,"$ZodXID",0,cq,"clone",()=>Y,"isValidBase64",()=>cB,"isValidBase64URL",()=>cD,"isValidJWT",()=>cG],9419);var fH,fI,fJ,fK=a.i(20559),fK=fK,fL=a.i(17177),fL=fL;a.s([],88476),a.s(["ZodISODate",()=>fO,"ZodISODateTime",()=>fM,"ZodISODuration",()=>fS,"ZodISOTime",()=>fQ,"date",()=>fP,"datetime",()=>fN,"duration",()=>fT,"time",()=>fR],18850);let fM=m("ZodISODateTime",(a,b)=>{cs.init(a,b),gb.init(a,b)});function fN(a){return eh(fM,a)}let fO=m("ZodISODate",(a,b)=>{ct.init(a,b),gb.init(a,b)});function fP(a){return ei(fO,a)}let fQ=m("ZodISOTime",(a,b)=>{cu.init(a,b),gb.init(a,b)});function fR(a){return ej(fQ,a)}let fS=m("ZodISODuration",(a,b)=>{cv.init(a,b),gb.init(a,b)});function fT(a){return ek(fS,a)}let fU=(a,b)=>{aA.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>aD(a,b)},flatten:{value:b=>aC(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,z,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,z,2)}},isEmpty:{get:()=>0===a.issues.length}})},fV=m("ZodError",fU),fW=m("ZodError",fU,{Parent:Error});a.s(["ZodError",0,fV,"ZodRealError",0,fW],75160);let fX=aH(fW),fY=aJ(fW),fZ=aL(fW),f$=aN(fW),f_=aP(fW),f0=aR(fW),f1=aT(fW),f2=aV(fW),f3=aX(fW),f4=aZ(fW),f5=a_(fW),f6=a1(fW);a.s(["decode",0,f0,"decodeAsync",0,f2,"encode",0,f_,"encodeAsync",0,f1,"parse",0,fX,"parseAsync",0,fY,"safeDecode",0,f4,"safeDecodeAsync",0,f6,"safeEncode",0,f3,"safeEncodeAsync",0,f5,"safeParse",0,fZ,"safeParseAsync",0,f$],73590);let f7=m("ZodType",(a,b)=>(ce.init(a,b),a.def=b,a.type=b.type,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone(fL.mergeDefs(b,{checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),a.clone=(b,c)=>Y(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>fX(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>fZ(a,b,c),a.parseAsync=async(b,c)=>fY(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>f$(a,b,c),a.spa=a.safeParseAsync,a.encode=(b,c)=>f_(a,b,c),a.decode=(b,c)=>f0(a,b,c),a.encodeAsync=async(b,c)=>f1(a,b,c),a.decodeAsync=async(b,c)=>f2(a,b,c),a.safeEncode=(b,c)=>f3(a,b,c),a.safeDecode=(b,c)=>f4(a,b,c),a.safeEncodeAsync=async(b,c)=>f5(a,b,c),a.safeDecodeAsync=async(b,c)=>f6(a,b,c),a.refine=(b,c)=>a.check(iv(b,c)),a.superRefine=b=>a.check(fz(b)),a.overwrite=b=>a.check(e3(b)),a.optional=()=>hY(a),a.nullable=()=>h$(a),a.nullish=()=>hY(h$(a)),a.nonoptional=b=>h5(a,b),a.array=()=>ht(a),a.or=b=>hA([a,b]),a.and=b=>hE(a,b),a.transform=b=>id(a,hW(b)),a.default=b=>h1(a,b),a.prefault=b=>h3(a,b),a.catch=b=>h9(a,b),a.pipe=b=>id(a,b),a.readonly=()=>ii(a),a.describe=b=>{let c=a.clone();return dS.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>dS.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return dS.get(a);let c=a.clone();return dS.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),f8=m("_ZodString",(a,b)=>{cf.init(a,b),f7.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(eX(...b)),a.includes=(...b)=>a.check(e$(...b)),a.startsWith=(...b)=>a.check(e_(...b)),a.endsWith=(...b)=>a.check(e0(...b)),a.min=(...b)=>a.check(eV(...b)),a.max=(...b)=>a.check(eU(...b)),a.length=(...b)=>a.check(eW(...b)),a.nonempty=(...b)=>a.check(eV(1,...b)),a.lowercase=b=>a.check(eY(b)),a.uppercase=b=>a.check(eZ(b)),a.trim=()=>a.check(e5()),a.normalize=(...b)=>a.check(e4(...b)),a.toLowerCase=()=>a.check(e6()),a.toUpperCase=()=>a.check(e7()),a.slugify=()=>a.check(e8())}),f9=m("ZodString",(a,b)=>{cf.init(a,b),f8.init(a,b),a.email=b=>a.check(dV(gc,b)),a.url=b=>a.check(d_(gl,b)),a.jwt=b=>a.check(ef(gS,b)),a.emoji=b=>a.check(d0(go,b)),a.guid=b=>a.check(dW(ge,b)),a.uuid=b=>a.check(dX(gg,b)),a.uuidv4=b=>a.check(dY(gg,b)),a.uuidv6=b=>a.check(dZ(gg,b)),a.uuidv7=b=>a.check(d$(gg,b)),a.nanoid=b=>a.check(d1(gq,b)),a.guid=b=>a.check(dW(ge,b)),a.cuid=b=>a.check(d2(gs,b)),a.cuid2=b=>a.check(d3(gu,b)),a.ulid=b=>a.check(d4(gw,b)),a.base64=b=>a.check(ec(gM,b)),a.base64url=b=>a.check(ed(gO,b)),a.xid=b=>a.check(d5(gy,b)),a.ksuid=b=>a.check(d6(gA,b)),a.ipv4=b=>a.check(d7(gC,b)),a.ipv6=b=>a.check(d8(gG,b)),a.cidrv4=b=>a.check(ea(gI,b)),a.cidrv6=b=>a.check(eb(gK,b)),a.e164=b=>a.check(ee(gQ,b)),a.datetime=b=>a.check(fN(b)),a.date=b=>a.check(fP(b)),a.time=b=>a.check(fR(b)),a.duration=b=>a.check(fT(b))});function ga(a){return dT(f9,a)}let gb=m("ZodStringFormat",(a,b)=>{cg.init(a,b),f8.init(a,b)}),gc=m("ZodEmail",(a,b)=>{cj.init(a,b),gb.init(a,b)});function gd(a){return dV(gc,a)}let ge=m("ZodGUID",(a,b)=>{ch.init(a,b),gb.init(a,b)});function gf(a){return dW(ge,a)}let gg=m("ZodUUID",(a,b)=>{ci.init(a,b),gb.init(a,b)});function gh(a){return dX(gg,a)}function gi(a){return dY(gg,a)}function gj(a){return dZ(gg,a)}function gk(a){return d$(gg,a)}let gl=m("ZodURL",(a,b)=>{ck.init(a,b),gb.init(a,b)});function gm(a){return d_(gl,a)}function gn(a){return d_(gl,{protocol:/^https?$/,hostname:fK.domain,...fL.normalizeParams(a)})}let go=m("ZodEmoji",(a,b)=>{cl.init(a,b),gb.init(a,b)});function gp(a){return d0(go,a)}let gq=m("ZodNanoID",(a,b)=>{cm.init(a,b),gb.init(a,b)});function gr(a){return d1(gq,a)}let gs=m("ZodCUID",(a,b)=>{cn.init(a,b),gb.init(a,b)});function gt(a){return d2(gs,a)}let gu=m("ZodCUID2",(a,b)=>{co.init(a,b),gb.init(a,b)});function gv(a){return d3(gu,a)}let gw=m("ZodULID",(a,b)=>{cp.init(a,b),gb.init(a,b)});function gx(a){return d4(gw,a)}let gy=m("ZodXID",(a,b)=>{cq.init(a,b),gb.init(a,b)});function gz(a){return d5(gy,a)}let gA=m("ZodKSUID",(a,b)=>{cr.init(a,b),gb.init(a,b)});function gB(a){return d6(gA,a)}let gC=m("ZodIPv4",(a,b)=>{cw.init(a,b),gb.init(a,b)});function gD(a){return d7(gC,a)}let gE=m("ZodMAC",(a,b)=>{cy.init(a,b),gb.init(a,b)});function gF(a){return d9(gE,a)}let gG=m("ZodIPv6",(a,b)=>{cx.init(a,b),gb.init(a,b)});function gH(a){return d8(gG,a)}let gI=m("ZodCIDRv4",(a,b)=>{cz.init(a,b),gb.init(a,b)});function gJ(a){return ea(gI,a)}let gK=m("ZodCIDRv6",(a,b)=>{cA.init(a,b),gb.init(a,b)});function gL(a){return eb(gK,a)}let gM=m("ZodBase64",(a,b)=>{cC.init(a,b),gb.init(a,b)});function gN(a){return ec(gM,a)}let gO=m("ZodBase64URL",(a,b)=>{cE.init(a,b),gb.init(a,b)});function gP(a){return ed(gO,a)}let gQ=m("ZodE164",(a,b)=>{cF.init(a,b),gb.init(a,b)});function gR(a){return ee(gQ,a)}let gS=m("ZodJWT",(a,b)=>{cH.init(a,b),gb.init(a,b)});function gT(a){return ef(gS,a)}let gU=m("ZodCustomStringFormat",(a,b)=>{cI.init(a,b),gb.init(a,b)});function gV(a,b,c={}){return fE(gU,a,b,c)}function gW(a){return fE(gU,"hostname",fK.hostname,a)}function gX(a){return fE(gU,"hex",fK.hex,a)}function gY(a,b){let c=b?.enc??"hex",d=`${a}_${c}`,e=fK[d];if(!e)throw Error(`Unrecognized hash format: ${d}`);return fE(gU,d,e,b)}let gZ=m("ZodNumber",(a,b)=>{cJ.init(a,b),f7.init(a,b),a.gt=(b,c)=>a.check(eK(b,c)),a.gte=(b,c)=>a.check(eL(b,c)),a.min=(b,c)=>a.check(eL(b,c)),a.lt=(b,c)=>a.check(eI(b,c)),a.lte=(b,c)=>a.check(eJ(b,c)),a.max=(b,c)=>a.check(eJ(b,c)),a.int=b=>a.check(g0(b)),a.safe=b=>a.check(g0(b)),a.positive=b=>a.check(eK(0,b)),a.nonnegative=b=>a.check(eL(0,b)),a.negative=b=>a.check(eI(0,b)),a.nonpositive=b=>a.check(eJ(0,b)),a.multipleOf=(b,c)=>a.check(eQ(b,c)),a.step=(b,c)=>a.check(eQ(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function g$(a){return el(gZ,a)}let g_=m("ZodNumberFormat",(a,b)=>{cK.init(a,b),gZ.init(a,b)});function g0(a){return en(g_,a)}function g1(a){return eo(g_,a)}function g2(a){return ep(g_,a)}function g3(a){return eq(g_,a)}function g4(a){return er(g_,a)}let g5=m("ZodBoolean",(a,b)=>{cL.init(a,b),f7.init(a,b)});function g6(a){return es(g5,a)}let g7=m("ZodBigInt",(a,b)=>{cM.init(a,b),f7.init(a,b),a.gte=(b,c)=>a.check(eL(b,c)),a.min=(b,c)=>a.check(eL(b,c)),a.gt=(b,c)=>a.check(eK(b,c)),a.gte=(b,c)=>a.check(eL(b,c)),a.min=(b,c)=>a.check(eL(b,c)),a.lt=(b,c)=>a.check(eI(b,c)),a.lte=(b,c)=>a.check(eJ(b,c)),a.max=(b,c)=>a.check(eJ(b,c)),a.positive=b=>a.check(eK(BigInt(0),b)),a.negative=b=>a.check(eI(BigInt(0),b)),a.nonpositive=b=>a.check(eJ(BigInt(0),b)),a.nonnegative=b=>a.check(eL(BigInt(0),b)),a.multipleOf=(b,c)=>a.check(eQ(b,c));let c=a._zod.bag;a.minValue=c.minimum??null,a.maxValue=c.maximum??null,a.format=c.format??null});function g8(a){return eu(g7,a)}let g9=m("ZodBigIntFormat",(a,b)=>{cN.init(a,b),g7.init(a,b)});function ha(a){return ew(g9,a)}function hb(a){return ex(g9,a)}let hc=m("ZodSymbol",(a,b)=>{cO.init(a,b),f7.init(a,b)});function hd(a){return ey(hc,a)}let he=m("ZodUndefined",(a,b)=>{cP.init(a,b),f7.init(a,b)});function hf(a){return ez(he,a)}let hg=m("ZodNull",(a,b)=>{cQ.init(a,b),f7.init(a,b)});function hh(a){return eA(hg,a)}let hi=m("ZodAny",(a,b)=>{cR.init(a,b),f7.init(a,b)});function hj(){return eB(hi)}let hk=m("ZodUnknown",(a,b)=>{cS.init(a,b),f7.init(a,b)});function hl(){return eC(hk)}let hm=m("ZodNever",(a,b)=>{cT.init(a,b),f7.init(a,b)});function hn(a){return eD(hm,a)}let ho=m("ZodVoid",(a,b)=>{cU.init(a,b),f7.init(a,b)});function hp(a){return eE(ho,a)}let hq=m("ZodDate",(a,b)=>{cV.init(a,b),f7.init(a,b),a.min=(b,c)=>a.check(eL(b,c)),a.max=(b,c)=>a.check(eJ(b,c));let c=a._zod.bag;a.minDate=c.minimum?new Date(c.minimum):null,a.maxDate=c.maximum?new Date(c.maximum):null});function hr(a){return eF(hq,a)}let hs=m("ZodArray",(a,b)=>{cX.init(a,b),f7.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(eV(b,c)),a.nonempty=b=>a.check(eV(1,b)),a.max=(b,c)=>a.check(eU(b,c)),a.length=(b,c)=>a.check(eW(b,c)),a.unwrap=()=>a.element});function ht(a,b){return e9(hs,a,b)}function hu(a){return hP(Object.keys(a._zod.def.shape))}let hv=m("ZodObject",(a,b)=>{c0.init(a,b),f7.init(a,b),fL.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>hP(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:hl()}),a.loose=()=>a.clone({...a._zod.def,catchall:hl()}),a.strict=()=>a.clone({...a._zod.def,catchall:hn()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>fL.extend(a,b),a.safeExtend=b=>fL.safeExtend(a,b),a.merge=b=>fL.merge(a,b),a.pick=b=>fL.pick(a,b),a.omit=b=>fL.omit(a,b),a.partial=(...b)=>fL.partial(hX,a,b[0]),a.required=(...b)=>fL.required(h4,a,b[0])});function hw(a,b){return new hv({type:"object",shape:a??{},...fL.normalizeParams(b)})}function hx(a,b){return new hv({type:"object",shape:a,catchall:hn(),...fL.normalizeParams(b)})}function hy(a,b){return new hv({type:"object",shape:a,catchall:hl(),...fL.normalizeParams(b)})}let hz=m("ZodUnion",(a,b)=>{c2.init(a,b),f7.init(a,b),a.options=b.options});function hA(a,b){return new hz({type:"union",options:a,...fL.normalizeParams(b)})}let hB=m("ZodDiscriminatedUnion",(a,b)=>{hz.init(a,b),c3.init(a,b)});function hC(a,b,c){return new hB({type:"union",options:b,discriminator:a,...fL.normalizeParams(c)})}let hD=m("ZodIntersection",(a,b)=>{c4.init(a,b),f7.init(a,b)});function hE(a,b){return new hD({type:"intersection",left:a,right:b})}let hF=m("ZodTuple",(a,b)=>{c6.init(a,b),f7.init(a,b),a.rest=b=>a.clone({...a._zod.def,rest:b})});function hG(a,b,c){let d=b instanceof ce,e=d?c:b;return new hF({type:"tuple",items:a,rest:d?b:null,...fL.normalizeParams(e)})}let hH=m("ZodRecord",(a,b)=>{c8.init(a,b),f7.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function hI(a,b,c){return new hH({type:"record",keyType:a,valueType:b,...fL.normalizeParams(c)})}function hJ(a,b,c){let d=Y(a);return d._zod.values=void 0,new hH({type:"record",keyType:d,valueType:b,...fL.normalizeParams(c)})}let hK=m("ZodMap",(a,b)=>{c9.init(a,b),f7.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function hL(a,b,c){return new hK({type:"map",keyType:a,valueType:b,...fL.normalizeParams(c)})}let hM=m("ZodSet",(a,b)=>{db.init(a,b),f7.init(a,b),a.min=(...b)=>a.check(eS(...b)),a.nonempty=b=>a.check(eS(1,b)),a.max=(...b)=>a.check(eR(...b)),a.size=(...b)=>a.check(eT(...b))});function hN(a,b){return new hM({type:"set",valueType:a,...fL.normalizeParams(b)})}let hO=m("ZodEnum",(a,b)=>{dd.init(a,b),f7.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new hO({...b,checks:[],...fL.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new hO({...b,checks:[],...fL.normalizeParams(d),entries:e})}});function hP(a,b){return new hO({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...fL.normalizeParams(b)})}function hQ(a,b){return new hO({type:"enum",entries:a,...fL.normalizeParams(b)})}let hR=m("ZodLiteral",(a,b)=>{de.init(a,b),f7.init(a,b),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function hS(a,b){return new hR({type:"literal",values:Array.isArray(a)?a:[a],...fL.normalizeParams(b)})}let hT=m("ZodFile",(a,b)=>{df.init(a,b),f7.init(a,b),a.min=(b,c)=>a.check(eS(b,c)),a.max=(b,c)=>a.check(eR(b,c)),a.mime=(b,c)=>a.check(e2(Array.isArray(b)?b:[b],c))});function hU(a){return fk(hT,a)}let hV=m("ZodTransform",(a,b)=>{dg.init(a,b),f7.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new p(a.constructor.name);c.addIssue=d=>{"string"==typeof d?c.issues.push(fL.issue(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),c.issues.push(fL.issue(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}});function hW(a){return new hV({type:"transform",transform:a})}let hX=m("ZodOptional",(a,b)=>{di.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType});function hY(a){return new hX({type:"optional",innerType:a})}let hZ=m("ZodNullable",(a,b)=>{dj.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType});function h$(a){return new hZ({type:"nullable",innerType:a})}function h_(a){return hY(h$(a))}let h0=m("ZodDefault",(a,b)=>{dk.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function h1(a,b){return new h0({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():fL.shallowClone(b)}})}let h2=m("ZodPrefault",(a,b)=>{dm.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType});function h3(a,b){return new h2({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():fL.shallowClone(b)}})}let h4=m("ZodNonOptional",(a,b)=>{dn.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType});function h5(a,b){return new h4({type:"nonoptional",innerType:a,...fL.normalizeParams(b)})}let h6=m("ZodSuccess",(a,b)=>{dq.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType});function h7(a){return new h6({type:"success",innerType:a})}let h8=m("ZodCatch",(a,b)=>{dr.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function h9(a,b){return new h8({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})}let ia=m("ZodNaN",(a,b)=>{ds.init(a,b),f7.init(a,b)});function ib(a){return eH(ia,a)}let ic=m("ZodPipe",(a,b)=>{dt.init(a,b),f7.init(a,b),a.in=b.in,a.out=b.out});function id(a,b){return new ic({type:"pipe",in:a,out:b})}let ie=m("ZodCodec",(a,b)=>{ic.init(a,b),dv.init(a,b)});function ig(a,b,c){return new ie({type:"pipe",in:a,out:b,transform:c.decode,reverseTransform:c.encode})}let ih=m("ZodReadonly",(a,b)=>{dy.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType});function ii(a){return new ih({type:"readonly",innerType:a})}let ij=m("ZodTemplateLiteral",(a,b)=>{dA.init(a,b),f7.init(a,b)});function ik(a,b){return new ij({type:"template_literal",parts:a,...fL.normalizeParams(b)})}let il=m("ZodLazy",(a,b)=>{dD.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.getter()});function im(a){return new il({type:"lazy",getter:a})}let io=m("ZodPromise",(a,b)=>{dC.init(a,b),f7.init(a,b),a.unwrap=()=>a._zod.def.innerType});function ip(a){return new io({type:"promise",innerType:a})}let iq=m("ZodFunction",(a,b)=>{dB.init(a,b),f7.init(a,b)});function ir(a){return new iq({type:"function",input:Array.isArray(a?.input)?hG(a?.input):a?.input??ht(hl()),output:a?.output??hl()})}let is=m("ZodCustom",(a,b)=>{dE.init(a,b),f7.init(a,b)});function it(a){let b=new bQ({check:"custom"});return b._zod.check=a,b}function iu(a,b){return fx(is,a??(()=>!0),b)}function iv(a,b={}){return fy(is,a,b)}function iw(a){return fz(a)}let ix=fB,iy=fC;function iz(a,b={error:`Input not instance of ${a.name}`}){let c=new is({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...fL.normalizeParams(b)});return c._zod.bag.Class=a,c}let iA=(...a)=>fD({Codec:ie,Boolean:g5,String:f9},...a);function iB(a){let b=im(()=>hA([ga(a),g$(),g6(),hh(),ht(b),hI(ga(),b)]));return b}function iC(a,b){return id(hW(a),b)}let iD={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511};var iE=class extends Error{constructor(a="INTERNAL_SERVER_ERROR",b,c={},d="number"==typeof a?a:iD[a]){super(b?.message,b?.cause?{cause:b.cause}:void 0),this.status=a,this.body=b,this.headers=c,this.statusCode=d,this.name="APIError",this.status=a,this.headers=c,this.statusCode=d,this.body=b?{code:b?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...b}:void 0}},iF=class extends iE{constructor(a,b){super(400,{message:a,code:"VALIDATION_ERROR"}),this.message=a,this.issues=b,this.issues=b}},iG=class extends Error{constructor(a){super(a),this.name="BetterCallError"}};let iH=function(a,b){class c extends a{#a;constructor(...a){if(function(){let a=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===a?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(a,"writable")?a.writable:void 0!==a.set}()){const b=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...a),Error.stackTraceLimit=b}else super(...a);const b=Error().stack;b&&(this.#a=function(a){let b=a.split("\n    at ");return b.length<=1?a:(b.splice(1,1),b.join("\n    at "))}(b.replace(/^Error/,this.name)))}get errorStack(){return this.#a}}return Object.defineProperty(c.prototype,"constructor",{get:()=>b,enumerable:!1,configurable:!0}),c}(iE,Error),iI=/^application\/([a-z0-9.+-]*\+)?json/i;async function iJ(a,b){let c=a.headers.get("content-type")||"",d=c.toLowerCase();if(a.body){if(b&&b.length>0&&!b.some(a=>{let b=d.split(";")[0].trim(),c=a.toLowerCase().trim();return b===c||b.includes(c)})){if(!d)throw new iH(415,{message:`Content-Type is required. Allowed types: ${b.join(", ")}`,code:"UNSUPPORTED_MEDIA_TYPE"});throw new iH(415,{message:`Content-Type "${c}" is not allowed. Allowed types: ${b.join(", ")}`,code:"UNSUPPORTED_MEDIA_TYPE"})}if(iI.test(d))return await a.json();if(d.includes("application/x-www-form-urlencoded")){let b=await a.formData(),c={};return b.forEach((a,b)=>{c[b]=a.toString()}),c}if(d.includes("multipart/form-data")){let b=await a.formData(),c={};return b.forEach((a,b)=>{c[b]=a}),c}return d.includes("text/plain")?await a.text():d.includes("application/octet-stream")?await a.arrayBuffer():d.includes("application/pdf")||d.includes("image/")||d.includes("video/")?await a.blob():d.includes("application/stream")||a.body instanceof ReadableStream?a.body:await a.text()}}function iK(a){return a instanceof iH||a?.name==="APIError"}async function iL(a){try{return{data:await a,error:null}}catch(a){return{data:null,error:a}}}function iM(a,b){if(a instanceof Response)return b?.headers instanceof Headers&&b.headers.forEach((b,c)=>{a.headers.set(c,b)}),a;if(a&&"object"==typeof a&&"_flag"in a&&"json"===a._flag){let c=a.body,d=a.routerResponse;if(d instanceof Response)return d;let e=new Headers;if(d?.headers){let a=new Headers(d.headers);for(let[b,c]of a.entries())a.set(b,c)}if(a.headers)for(let[b,c]of new Headers(a.headers).entries())e.set(b,c);if(b?.headers)for(let[a,c]of new Headers(b.headers).entries())e.set(a,c);return e.set("Content-Type","application/json"),new Response(JSON.stringify(c),{...d,headers:e,status:a.status??b?.status??d?.status,statusText:b?.statusText??d?.statusText})}if(iK(a))return iM(a.body,{status:b?.status??a.statusCode,statusText:a.status.toString(),headers:b?.headers||a.headers});let c=a,d=new Headers(b?.headers);if(a){if("string"==typeof a)c=a,d.set("Content-Type","text/plain");else if(a instanceof ArrayBuffer||ArrayBuffer.isView(a))c=a,d.set("Content-Type","application/octet-stream");else if(a instanceof Blob)c=a,d.set("Content-Type",a.type||"application/octet-stream");else if(a instanceof FormData)c=a;else if(a instanceof URLSearchParams)c=a,d.set("Content-Type","application/x-www-form-urlencoded");else if(a instanceof ReadableStream)c=a,d.set("Content-Type","application/octet-stream");else if(function(a){if(void 0===a)return!1;let b=typeof a;return"string"===b||"number"===b||"boolean"===b||null===b||"object"===b&&(!!Array.isArray(a)||!a.buffer&&(a.constructor&&"Object"===a.constructor.name||"function"==typeof a.toJSON))}(a)){let b,e;b=0,e=new WeakMap,c=JSON.stringify(a,(a,c)=>{if("bigint"==typeof c)return c.toString();if("object"==typeof c&&null!==c){if(e.has(c))return`[Circular ref-${e.get(c)}]`;e.set(c,b++)}return c},void 0),d.set("Content-Type","application/json")}}else null===a&&(c=JSON.stringify(null)),d.set("content-type","application/json");return new Response(c,{...b,headers:d})}async function iN(a,b={}){let c={body:b.body,query:b.query};if(a.body){let d=await a.body["~standard"].validate(b.body);if(d.issues)return{data:null,error:iO(d.issues,"body")};c.body=d.value}if(a.query){let d=await a.query["~standard"].validate(b.query);if(d.issues)return{data:null,error:iO(d.issues,"query")};c.query=d.value}return a.requireHeaders&&!b.headers?{data:null,error:{message:"Headers is required",issues:[]}}:a.requireRequest&&!b.request?{data:null,error:{message:"Request is required",issues:[]}}:{data:c,error:null}}function iO(a,b){return{message:a.map(a=>`[${a.path?.length?`${b}.`+a.path.map(a=>"object"==typeof a?a.key:a).join("."):b}] ${a.message}`).join("; "),issues:a}}let iP={name:"HMAC",hash:"SHA-256"},iQ=async a=>{let b="string"==typeof a?new TextEncoder().encode(a):a;return await f().importKey("raw",b,iP,!1,["sign","verify"])},iR=async(a,b,c)=>{try{let d=atob(a),e=new Uint8Array(d.length);for(let a=0,b=d.length;a<b;a++)e[a]=d.charCodeAt(a);return await f().verify(iP,c,e,new TextEncoder().encode(b))}catch(a){return!1}},iS=async(a,b)=>{let c=await iQ(b);return btoa(String.fromCharCode(...new Uint8Array(await f().sign(iP.name,c,new TextEncoder().encode(a)))))},iT=async(a,b)=>{let c=await iS(a,b);return encodeURIComponent(a=`${a}.${c}`)},iU=(a,b)=>{let c=a;if(b)if("secure"===b)c="__Secure-"+a;else{if("host"!==b)return;c="__Host-"+a}return c},iV=(a,b,c={})=>{let d;if(d=c?.prefix==="secure"?`__Secure-${a}=${b}`:c?.prefix==="host"?`__Host-${a}=${b}`:`${a}=${b}`,a.startsWith("__Secure-")&&!c.secure&&(c.secure=!0),a.startsWith("__Host-")&&(c.secure||(c.secure=!0),"/"!==c.path&&(c.path="/"),c.domain&&(c.domain=void 0)),c&&"number"==typeof c.maxAge&&c.maxAge>=0){if(c.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");d+=`; Max-Age=${Math.floor(c.maxAge)}`}if(c.domain&&"host"!==c.prefix&&(d+=`; Domain=${c.domain}`),c.path&&(d+=`; Path=${c.path}`),c.expires){if(c.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");d+=`; Expires=${c.expires.toUTCString()}`}return c.httpOnly&&(d+="; HttpOnly"),c.secure&&(d+="; Secure"),c.sameSite&&(d+=`; SameSite=${c.sameSite.charAt(0).toUpperCase()+c.sameSite.slice(1)}`),c.partitioned&&(c.secure||(c.secure=!0),d+="; Partitioned"),d},iW=async(a,b,c,d)=>iV(a,b=await iT(b,c),d),iX=async(a,{options:b,path:c})=>{let d,e=new Headers,{data:f,error:g}=await iN(b,a);if(g)throw new iF(g.message,g.issues);let h="headers"in a?a.headers instanceof Headers?a.headers:new Headers(a.headers):"request"in a&&a.request instanceof Request?a.request.headers:null,i=h?.get("cookie"),j=i?function(a){if("string"!=typeof a)throw TypeError("argument str must be a string");let b=new Map,c=0;for(;c<a.length;){let d=a.indexOf("=",c);if(-1===d)break;let e=a.indexOf(";",c);if(-1===e)e=a.length;else if(e<d){c=a.lastIndexOf(";",d-1)+1;continue}let f=a.slice(c,d).trim();if(!b.has(f)){let c=a.slice(d+1,e).trim();34===c.codePointAt(0)&&(c=c.slice(1,-1)),b.set(f,function(a){try{return a.includes("%")?decodeURIComponent(a):a}catch{return a}}(c))}c=e+1}return b}(i):void 0,k={...a,body:f.body,query:f.query,path:a.path||c||"virtual:",context:"context"in a&&a.context?a.context:{},returned:void 0,headers:a?.headers,request:a?.request,params:"params"in a?a.params:void 0,method:a.method,setHeader:(a,b)=>{e.set(a,b)},getHeader:a=>h?h.get(a):null,getCookie:(a,b)=>{let c=iU(a,b);return c&&j?.get(c)||null},getSignedCookie:async(a,b,c)=>{let d=iU(a,c);if(!d)return null;let e=j?.get(d);if(!e)return null;let f=e.lastIndexOf(".");if(f<1)return null;let g=e.substring(0,f),h=e.substring(f+1);return 44===h.length&&h.endsWith("=")?!!await iR(h,g,await iQ(b))&&g:null},setCookie:(a,b,c)=>{var d;let f=iV(a,d=encodeURIComponent(d=b),c);return e.append("set-cookie",f),f},setSignedCookie:async(a,b,c,d)=>{let f=await iW(a,b,c,d);return e.append("set-cookie",f),f},redirect:a=>(e.set("location",a),new iH("FOUND",void 0,e)),error:(a,b,c)=>new iH(a,b,c),setStatus:a=>{d=a},json:(b,c)=>a.asResponse?{body:c?.body||b,routerResponse:c,_flag:"json"}:b,responseHeaders:e,get responseStatus(){return d}};for(let a of b.use||[]){let b=await a({...k,returnHeaders:!0,asResponse:!1});b.response&&Object.assign(k.context,b.response),b.headers&&b.headers.forEach((a,b)=>{k.responseHeaders.set(b,a)})}return k};function iY(a,b,c){let d="string"==typeof a?a:void 0,e="object"==typeof b?b:a,f="function"==typeof b?b:c;if(("GET"===e.method||"HEAD"===e.method)&&e.body)throw new iG("Body is not allowed with GET or HEAD methods");if(d&&/\/{2,}/.test(d))throw new iG("Path cannot contain consecutive slashes");let g=async(...a)=>{let b=a[0]||{},{data:c,error:g}=await iL(iX(b,{options:e,path:d}));if(g){if(!(g instanceof iF))throw g;throw e.onValidationError&&await e.onValidationError({message:g.message,issues:g.issues}),new iH(400,{message:g.message,code:"VALIDATION_ERROR"})}let h=await f(c).catch(async a=>{if(iK(a)){let c=e.onAPIError;if(c&&await c(a),b.asResponse)return a}throw a}),i=c.responseHeaders,j=c.responseStatus;return b.asResponse?iM(h,{headers:i,status:j}):b.returnHeaders?b.returnStatus?{headers:i,response:h,status:j}:{headers:i,response:h}:b.returnStatus?{response:h,status:j}:h};return g.options=e,g.path=d,g}function iZ(a,b){let c=async c=>{let d="function"==typeof a?a:b,e=await iX(c,{options:"function"==typeof a?{}:a,path:"/"});if(!d)throw Error("handler must be defined");let f=await d(e),g=e.responseHeaders;return c.returnHeaders?{headers:g,response:f}:f};return c.options="function"==typeof a?{}:a,c}iY.create=a=>(b,c,d)=>iY(b,{...c,use:[...c?.use||[],...a?.use||[]]},d),iZ.create=a=>function(b,c){if("function"==typeof b)return iZ({use:a?.use},b);if(!c)throw Error("Middleware handler is required");return iZ({...b,method:"*",use:[...a?.use||[],...b.use||[]]},c)};let i$={};function i_(a){switch(a.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function i0(a){let b=[];return a.metadata?.openapi?.parameters?b.push(...a.metadata.openapi.parameters):a.query instanceof hv&&Object.entries(a.query.shape).forEach(([a,c])=>{c instanceof hv&&b.push({name:a,in:"query",schema:{type:i_(c),..."minLength"in c&&c.minLength?{minLength:c.minLength}:{},description:c.description}})}),b}function i1(a){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...a}}async function i2(a,b){return Object.entries(a).forEach(([a,b])=>{let c=b.options;if(!(!b.path||c.metadata?.SERVER_ONLY)&&("GET"===c.method&&(i$[b.path]={get:{tags:["Default",...c.metadata?.openapi?.tags||[]],description:c.metadata?.openapi?.description,operationId:c.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:i0(c),responses:i1(c.metadata?.openapi?.responses)}}),"POST"===c.method)){let a=function(a){if(a.metadata?.openapi?.requestBody)return a.metadata.openapi.requestBody;if(a.body&&(a.body instanceof hv||a.body instanceof hX)){let b=a.body.shape;if(!b)return;let c={},d=[];return Object.entries(b).forEach(([a,b])=>{b instanceof hv&&(c[a]={type:i_(b),description:b.description},b instanceof hX||d.push(a))}),{required:!(a.body instanceof hX)&&!!a.body,content:{"application/json":{schema:{type:"object",properties:c,required:d}}}}}}(c);i$[b.path]={post:{tags:["Default",...c.metadata?.openapi?.tags||[]],description:c.metadata?.openapi?.description,operationId:c.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:i0(c),...a?{requestBody:a}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:i1(c.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{schemas:{}},security:[{apiKeyCookie:[]}],servers:[{url:b?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:i$}}let i3=(a,b)=>{if(!b?.openapi?.disabled){let c={path:"/api/reference",...b?.openapi};a.openapi=iY(c.path,{method:"GET"},async b=>{let d,e;return new Response((d=await i2(a),e=c.scalar,`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(d)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${e?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(e.logo)}`:void 0} ,
	   	theme: ${e?.theme||"saturn"},
        metaData: {
			title: ${e?.title||"Open API Reference"},
			description: ${e?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`),{headers:{"Content-Type":"text/html"}})})}let c=h(),d=h();for(let b of Object.values(a))if(!(!b.options||!b.path||b.options?.metadata?.SERVER_ONLY))for(let a of Array.isArray(b.options?.method)?b.options.method:[b.options?.method])k(c,a,b.path,b);if(b?.routerMiddleware?.length)for(let{path:a,middleware:c}of b.routerMiddleware)k(d,"*",a,c);let e=async a=>{let e=new URL(a.url),f=e.pathname,g=b?.basePath&&"/"!==b.basePath?f.split(b.basePath).reduce((a,c,d)=>(0!==d&&(d>1?a.push(`${b.basePath}${c}`):a.push(c)),a),[]).join(""):e.pathname;if(!g?.length||/\/{2,}/.test(g))return new Response(null,{status:404,statusText:"Not Found"});let h=function(a,b="",c,d){47===c.charCodeAt(c.length-1)&&(c=c.slice(0,-1));let e=a.static[c];if(e&&e.methods){let a=e.methods[b]||e.methods[""];if(void 0!==a)return a[0]}let f=i(c),g=function a(b,c,d,e,f){if(f===e.length){if(c.methods){let a=c.methods[d]||c.methods[""];if(a)return a}if(c.param&&c.param.methods){let a=c.param.methods[d]||c.param.methods[""];if(a){let b=a[0].paramsMap;if(b?.[b?.length-1]?.[2])return a}}if(c.wildcard&&c.wildcard.methods){let a=c.wildcard.methods[d]||c.wildcard.methods[""];if(a){let b=a[0].paramsMap;if(b?.[b?.length-1]?.[2])return a}}return}let g=e[f];if(c.static){let h=c.static[g];if(h){let c=a(b,h,d,e,f+1);if(c)return c}}if(c.param){let h=a(b,c.param,d,e,f+1);if(h){if(c.param.hasRegexParam){let a=h.find(a=>a.paramsRegexp[f]?.test(g))||h.find(a=>!a.paramsRegexp[f]);return a?[a]:void 0}return h}}if(c.wildcard&&c.wildcard.methods)return c.wildcard.methods[d]||c.wildcard.methods[""]}(a,a.root,b,f,0)?.[0];if(void 0!==g)return{data:g.data,params:g.paramsMap?j(f,g.paramsMap):void 0}}(c,a.method,g);if(g.endsWith("/")!==h?.data?.path?.endsWith("/")&&!b?.skipTrailingSlashes||!h?.data)return new Response(null,{status:404,statusText:"Not Found"});let k={};e.searchParams.forEach((a,b)=>{b in k?Array.isArray(k[b])?k[b].push(a):k[b]=[k[b],a]:k[b]=a});let l=h.data;try{let c=l.options.metadata?.allowedMediaTypes||b?.allowedMediaTypes,e={path:g,method:a.method,headers:a.headers,params:h.params?JSON.parse(JSON.stringify(h.params)):{},request:a,body:l.options.disableBody?void 0:await iJ(l.options.cloneRequest?a.clone():a,c),query:k,_flag:"router",asResponse:!0,context:b?.routerContext},f=function(a,b="",c,d){47===c.charCodeAt(c.length-1)&&(c=c.slice(0,-1));let e=i(c);return(function a(b,c,d,e,f,g=[]){let h=e[f];if(c.wildcard&&c.wildcard.methods){let a=c.wildcard.methods[d]||c.wildcard.methods[""];a&&g.push(...a)}if(c.param&&(a(b,c.param,d,e,f+1,g),f===e.length&&c.param.methods)){let a=c.param.methods[d]||c.param.methods[""];if(a){let b=a[0].paramsMap;b?.[b?.length-1]?.[2]&&g.push(...a)}}let i=c.static?.[h];if(i&&a(b,i,d,e,f+1,g),f===e.length&&c.methods){let a=c.methods[d]||c.methods[""];a&&g.push(...a)}return g})(a,a.root,b,e,0).map(a=>({data:a.data,params:a.paramsMap?j(e,a.paramsMap):void 0}))}(d,"*",g);if(f?.length)for(let{data:a,params:b}of f){let c=await a({...e,params:b,asResponse:!1});if(c instanceof Response)return c}return await l(e)}catch(a){if(b?.onError)try{let c=await b.onError(a);if(c instanceof Response)return iM(c)}catch(a){if(iK(a))return iM(a);throw a}if(b?.throwError)throw a;if(iK(a))return iM(a);return console.error("# SERVER_ERROR: ",a),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async a=>{let c=await b?.onRequest?.(a);if(c instanceof Response)return c;let d=await e(c instanceof Request?c:a),f=await b?.onResponse?.(d);return f instanceof Response?f:d},endpoints:a}};a.s(["APIError",()=>iH,"createEndpoint",()=>iY,"createMiddleware",()=>iZ,"createRouter",()=>i3,"toResponse",()=>iM],54900);let i4=(a,b="ms")=>new Date(Date.now()+("sec"===b?1e3*a:a)),i5=new WeakMap;function i6(a,b){let c=b.fields,d={};for(let b in a){let e=c[b];if(!e){d[b]=a[b];continue}!1!==e.returned&&(d[b]=a[b])}return d}function i7(a,b){i5.has(a)||i5.set(a,new Map);let c=i5.get(a);if(c.has(b))return c.get(b);let d={..."user"===b?a.user?.additionalFields:{},..."session"===b?a.session?.additionalFields:{}};for(let c of a.plugins||[])c.schema&&c.schema[b]&&(d={...d,...c.schema[b].fields});return i5.get(a).set(b,d),d}function i8(a,b){return{...i6(b,{fields:i7(a,"user")}),id:b.id}}function i9(a,b){return i6(b,{fields:i7(a,"account")})}function ja(a,b){return i6(b,{fields:i7(a,"session")})}function jb(a,b){let c=b.action||"create",d=b.fields,e=Object.assign(Object.create(null),null);for(let b in d){if(b in a){if(!1===d[b].input){if(void 0!==d[b].defaultValue&&"update"!==c){e[b]=d[b].defaultValue;continue}if(a[b])throw new iH("BAD_REQUEST",{message:`${b} is not allowed to be set`});continue}if(d[b].validator?.input&&void 0!==a[b]){let c=d[b].validator.input["~standard"].validate(a[b]);if(c instanceof Promise)throw new iH("INTERNAL_SERVER_ERROR",{message:"Async validation is not supported for additional fields"});if("issues"in c&&c.issues)throw new iH("BAD_REQUEST",{message:c.issues[0]?.message||"Validation Error"});e[b]=c.value;continue}if(d[b].transform?.input&&void 0!==a[b]){e[b]=d[b].transform?.input(a[b]);continue}e[b]=a[b];continue}if(void 0!==d[b].defaultValue&&"create"===c){if("function"==typeof d[b].defaultValue){e[b]=d[b].defaultValue();continue}e[b]=d[b].defaultValue;continue}if(d[b].required&&"create"===c)throw new iH("BAD_REQUEST",{message:`${b} is required`})}return e}function jc(a,b={},c){return jb(b,{fields:i7(a,"user"),action:c})}function jd(a,b){return jb(b||{},{fields:i7(a,"user")})}function je(a,b){return jb(b,{fields:i7(a,"account")})}function jf(a,b){return jb(b,{fields:i7(a,"session")})}function jg(a,b){if(!b)return a;for(let c in b){let d=b[c]?.modelName;for(let e in d&&(a[c].modelName=d),a[c].fields){let d=b[c]?.fields?.[e];d&&(a[c].fields[e].fieldName=d)}}return a}a.s(["a",()=>jb,"c",()=>jc,"i",()=>jd,"l",()=>i8,"n",()=>je,"o",()=>jf,"r",()=>i9,"s",()=>ja,"t",()=>jg,"u",()=>i4],73236);var jh=a.i(70755),ji=class{#b=void 0;run(a,b){let c=this.#b;this.#b=a;let d=b();return d instanceof Promise?d.finally(()=>{this.#b=c}):(this.#b=c,d)}getStore(){return this.#b}};let jj=import("node:async_hooks").then(a=>a.AsyncLocalStorage).catch(a=>{if("AsyncLocalStorage"in globalThis)return globalThis.AsyncLocalStorage;if(jh.c.CONVEX_CLOUD_URL||jh.c.CONVEX_SITE_URL)return ji;throw console.warn("[better-auth] Warning: AsyncLocalStorage is not available in this environment. Some features may not work as expected."),console.warn("[better-auth] Please read more about this warning at https://better-auth.com/docs/installation#mount-handler"),console.warn("[better-auth] If you are using Cloudflare Workers, please see: https://developers.cloudflare.com/workers/configuration/compatibility-flags/#nodejs-compatibility-flag"),a});async function jk(){let a=await jj;if(null!==a)return a;throw Error("getAsyncLocalStorage is only available in server code")}a.s(["t",()=>jk],11115);let jl=null,jm=async()=>(jl||(jl=new(await jk())),jl);async function jn(){return jm()}async function jo(){let a=(await jm()).getStore();if(!a)throw Error("No auth context found. Please make sure you are calling this function within a `runWithEndpointContext` callback.");return a}async function jp(a,b){return(await jm()).run(a,b)}let jq=null,jr=async()=>(jq||(jq=new(await jk())),jq);async function js(){return jr()}async function jt(){return void 0!==(await jr()).getStore()}async function ju(){let a=(await jr()).getStore();if(!a)throw Error("No request state found. Please make sure you are calling this function within a `runWithRequestState` callback.");return a}async function jv(a,b){return(await jr()).run(a,b)}function jw(a){let b=Object.freeze({});return{get ref(){return b},async get(){let c=await ju();if(!c.has(b)){let d=await a();return c.set(b,d),d}return c.get(b)},async set(a){(await ju()).set(b,a)}}}let jx=null,jy=async()=>(jx||(jx=new(await jk())),jx),jz=async()=>jy(),jA=async a=>jy().then(b=>b.getStore()||a).catch(()=>a),jB=async(a,b)=>jy().then(c=>c.run(a,b)).catch(a=>{throw a}),jC=async(a,b)=>jy().then(c=>a.transaction(async a=>c.run(a,b))).catch(a=>{throw a});a.s(["a",()=>jw,"c",()=>jt,"d",()=>jn,"f",()=>jp,"i",()=>jC,"l",()=>jv,"n",()=>jz,"o",()=>ju,"r",()=>jB,"s",()=>js,"t",()=>jA,"u",()=>jo],83354);let jD={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function jE(a){r({customError:a})}function jF(){return r().customError}function jG(a){return dU(f9,a)}function jH(a){return em(gZ,a)}function jI(a){return et(g5,a)}function jJ(a){return ev(g7,a)}function jK(a){return eG(hq,a)}fJ||(fJ={}),a.s(["ZodFirstPartyTypeKind",()=>fJ,"ZodIssueCode",0,jD,"getErrorMap",()=>jF,"setErrorMap",()=>jE],58277),a.s(["bigint",()=>jJ,"boolean",()=>jI,"date",()=>jK,"number",()=>jH,"string",()=>jG],58483),r(dH()),a.s([],22157),a.i(22157),a.i(38005),a.i(85679),a.i(51152),a.i(13399),a.i(9419),a.i(61802),a.i(72385);var jL=fL,jM=fK;a.i(94551),a.s(["ar",0,function(){let a,b;return{localeError:(a={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}},b={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"},c=>{switch(c.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${c.expected}، ولكن تم إدخال ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`مدخلات غير مقبولة: يفترض إدخال ${_(c.values[0])}`;return`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` أكبر من اللازم: يفترض أن تكون ${c.origin??"القيمة"} ${b} ${c.maximum.toString()} ${d.unit??"عنصر"}`;return`أكبر من اللازم: يفترض أن تكون ${c.origin??"القيمة"} ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`أصغر من اللازم: يفترض لـ ${c.origin} أن يكون ${b} ${c.minimum.toString()} ${d.unit}`;return`أصغر من اللازم: يفترض لـ ${c.origin} أن يكون ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`نَص غير مقبول: يجب أن يبدأ بـ "${c.prefix}"`;if("ends_with"===c.format)return`نَص غير مقبول: يجب أن ينتهي بـ "${c.suffix}"`;if("includes"===c.format)return`نَص غير مقبول: يجب أن يتضمَّن "${c.includes}"`;if("regex"===c.format)return`نَص غير مقبول: يجب أن يطابق النمط ${c.pattern}`;return`${b[c.format]??c.format} غير مقبول`;case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${c.divisor}`;case"unrecognized_keys":return`معرف${c.keys.length>1?"ات":""} غريب${c.keys.length>1?"ة":""}: ${y(c.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${c.origin}`;case"invalid_union":default:return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${c.origin}`}})}},"az",0,function(){let a,b;return{localeError:(a={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Yanlış dəyər: g\xf6zlənilən ${c.expected}, daxil olan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Yanlış dəyər: g\xf6zlənilən ${_(c.values[0])}`;return`Yanlış se\xe7im: aşağıdakılardan biri olmalıdır: ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${c.origin??"dəyər"} ${b}${c.maximum.toString()} ${d.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${c.origin??"dəyər"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`\xc7ox ki\xe7ik: g\xf6zlənilən ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlənilən ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Yanlış mətn: "${c.prefix}" ilə başlamalıdır`;if("ends_with"===c.format)return`Yanlış mətn: "${c.suffix}" ilə bitməlidir`;if("includes"===c.format)return`Yanlış mətn: "${c.includes}" daxil olmalıdır`;if("regex"===c.format)return`Yanlış mətn: ${c.pattern} şablonuna uyğun olmalıdır`;return`Yanlış ${b[c.format]??c.format}`;case"not_multiple_of":return`Yanlış ədəd: ${c.divisor} ilə b\xf6l\xfcnə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan a\xe7ar${c.keys.length>1?"lar":""}: ${y(c.keys,", ")}`;case"invalid_key":return`${c.origin} daxilində yanlış a\xe7ar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${c.origin} daxilində yanlış dəyər`;default:return`Yanlış dəyər`}})}},"be",0,function(){let a,b;return{localeError:(a={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}},b={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"},c=>{switch(c.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${c.expected}, атрымана ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"лік";case"object":if(Array.isArray(a))return"масіў";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Няправільны ўвод: чакалася ${_(c.values[0])}`;return`Няправільны варыянт: чакаўся адзін з ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d){let a=dG(Number(c.maximum),d.unit.one,d.unit.few,d.unit.many);return`Занадта вялікі: чакалася, што ${c.origin??"значэнне"} павінна ${d.verb} ${b}${c.maximum.toString()} ${a}`}return`Занадта вялікі: чакалася, што ${c.origin??"значэнне"} павінна быць ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d){let a=dG(Number(c.minimum),d.unit.one,d.unit.few,d.unit.many);return`Занадта малы: чакалася, што ${c.origin} павінна ${d.verb} ${b}${c.minimum.toString()} ${a}`}return`Занадта малы: чакалася, што ${c.origin} павінна быць ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Няправільны радок: павінен пачынацца з "${c.prefix}"`;if("ends_with"===c.format)return`Няправільны радок: павінен заканчвацца на "${c.suffix}"`;if("includes"===c.format)return`Няправільны радок: павінен змяшчаць "${c.includes}"`;if("regex"===c.format)return`Няправільны радок: павінен адпавядаць шаблону ${c.pattern}`;return`Няправільны ${b[c.format]??c.format}`;case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${c.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${c.keys.length>1?"ключы":"ключ"}: ${y(c.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${c.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${c.origin}`;default:return`Няправільны ўвод`}})}},"bg",0,function(){let a,b;return{localeError:(a={string:{unit:"символа",verb:"да съдържа"},file:{unit:"байта",verb:"да съдържа"},array:{unit:"елемента",verb:"да съдържа"},set:{unit:"елемента",verb:"да съдържа"}},b={regex:"вход",email:"имейл адрес",url:"URL",emoji:"емоджи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO време",date:"ISO дата",time:"ISO време",duration:"ISO продължителност",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"base64-кодиран низ",base64url:"base64url-кодиран низ",json_string:"JSON низ",e164:"E.164 номер",jwt:"JWT",template_literal:"вход"},c=>{switch(c.code){case"invalid_type":return`Невалиден вход: очакван ${c.expected}, получен ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"число";case"object":if(Array.isArray(a))return"масив";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Невалиден вход: очакван ${_(c.values[0])}`;return`Невалидна опция: очаквано едно от ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Твърде голямо: очаква се ${c.origin??"стойност"} да съдържа ${b}${c.maximum.toString()} ${d.unit??"елемента"}`;return`Твърде голямо: очаква се ${c.origin??"стойност"} да бъде ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Твърде малко: очаква се ${c.origin} да съдържа ${b}${c.minimum.toString()} ${d.unit}`;return`Твърде малко: очаква се ${c.origin} да бъде ${b}${c.minimum.toString()}`}case"invalid_format":{if("starts_with"===c.format)return`Невалиден низ: трябва да започва с "${c.prefix}"`;if("ends_with"===c.format)return`Невалиден низ: трябва да завършва с "${c.suffix}"`;if("includes"===c.format)return`Невалиден низ: трябва да включва "${c.includes}"`;if("regex"===c.format)return`Невалиден низ: трябва да съвпада с ${c.pattern}`;let a="Невалиден";return"emoji"===c.format&&(a="Невалидно"),"datetime"===c.format&&(a="Невалидно"),"date"===c.format&&(a="Невалидна"),"time"===c.format&&(a="Невалидно"),"duration"===c.format&&(a="Невалидна"),`${a} ${b[c.format]??c.format}`}case"not_multiple_of":return`Невалидно число: трябва да бъде кратно на ${c.divisor}`;case"unrecognized_keys":return`Неразпознат${c.keys.length>1?"и":""} ключ${c.keys.length>1?"ове":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Невалиден ключ в ${c.origin}`;case"invalid_union":return"Невалиден вход";case"invalid_element":return`Невалидна стойност в ${c.origin}`;default:return`Невалиден вход`}})}},"ca",0,function(){let a,b;return{localeError:(a={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},b={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},c=>{switch(c.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${c.expected}, s'ha rebut ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Valor inv\xe0lid: s'esperava ${_(c.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${y(c.values," o ")}`;case"too_big":{let b=c.inclusive?"com a màxim":"menys de",d=a[c.origin]??null;if(d)return`Massa gran: s'esperava que ${c.origin??"el valor"} contingu\xe9s ${b} ${c.maximum.toString()} ${d.unit??"elements"}`;return`Massa gran: s'esperava que ${c.origin??"el valor"} fos ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"com a mínim":"més de",d=a[c.origin]??null;if(d)return`Massa petit: s'esperava que ${c.origin} contingu\xe9s ${b} ${c.minimum.toString()} ${d.unit}`;return`Massa petit: s'esperava que ${c.origin} fos ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${c.prefix}"`;if("ends_with"===c.format)return`Format inv\xe0lid: ha d'acabar amb "${c.suffix}"`;if("includes"===c.format)return`Format inv\xe0lid: ha d'incloure "${c.includes}"`;if("regex"===c.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${c.pattern}`;return`Format inv\xe0lid per a ${b[c.format]??c.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${c.divisor}`;case"unrecognized_keys":return`Clau${c.keys.length>1?"s":""} no reconeguda${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${c.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element inv\xe0lid a ${c.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let a,b;return{localeError:(a={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}},b={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"},c=>{switch(c.code){case"invalid_type":return`Neplatn\xfd vstup: oček\xe1v\xe1no ${c.expected}, obdrženo ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(a))return"pole";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Neplatn\xfd vstup: oček\xe1v\xe1no ${_(c.values[0])}`;return`Neplatn\xe1 možnost: oček\xe1v\xe1na jedna z hodnot ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Hodnota je př\xedliš velk\xe1: ${c.origin??"hodnota"} mus\xed m\xedt ${b}${c.maximum.toString()} ${d.unit??"prvků"}`;return`Hodnota je př\xedliš velk\xe1: ${c.origin??"hodnota"} mus\xed b\xfdt ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Hodnota je př\xedliš mal\xe1: ${c.origin??"hodnota"} mus\xed m\xedt ${b}${c.minimum.toString()} ${d.unit??"prvků"}`;return`Hodnota je př\xedliš mal\xe1: ${c.origin??"hodnota"} mus\xed b\xfdt ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Neplatn\xfd řetězec: mus\xed zač\xednat na "${c.prefix}"`;if("ends_with"===c.format)return`Neplatn\xfd řetězec: mus\xed končit na "${c.suffix}"`;if("includes"===c.format)return`Neplatn\xfd řetězec: mus\xed obsahovat "${c.includes}"`;if("regex"===c.format)return`Neplatn\xfd řetězec: mus\xed odpov\xeddat vzoru ${c.pattern}`;return`Neplatn\xfd form\xe1t ${b[c.format]??c.format}`;case"not_multiple_of":return`Neplatn\xe9 č\xedslo: mus\xed b\xfdt n\xe1sobkem ${c.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xedče: ${y(c.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xedč v ${c.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${c.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},b={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"},c={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},d=>{var e,f,g,h;switch(d.code){case"invalid_type":return`Ugyldigt input: forventede ${b[e=d.expected]??e}, fik ${b[f=(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"tal";case"object":if(Array.isArray(a))return"liste";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name;return"objekt"}return b})(d.input)]??f}`;case"invalid_value":if(1===d.values.length)return`Ugyldig v\xe6rdi: forventede ${_(d.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${y(d.values,"|")}`;case"too_big":{let c=d.inclusive?"<=":"<",e=a[d.origin]??null,f=b[g=d.origin]??g;if(e)return`For stor: forventede ${f??"value"} ${e.verb} ${c} ${d.maximum.toString()} ${e.unit??"elementer"}`;return`For stor: forventede ${f??"value"} havde ${c} ${d.maximum.toString()}`}case"too_small":{let c=d.inclusive?">=":">",e=a[d.origin]??null,f=b[h=d.origin]??h;if(e)return`For lille: forventede ${f} ${e.verb} ${c} ${d.minimum.toString()} ${e.unit}`;return`For lille: forventede ${f} havde ${c} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ugyldig streng: skal starte med "${d.prefix}"`;if("ends_with"===d.format)return`Ugyldig streng: skal ende med "${d.suffix}"`;if("includes"===d.format)return`Ugyldig streng: skal indeholde "${d.includes}"`;if("regex"===d.format)return`Ugyldig streng: skal matche m\xf8nsteret ${d.pattern}`;return`Ugyldig ${c[d.format]??d.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${y(d.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${d.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${d.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let a,b;return{localeError:(a={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},b={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},c=>{switch(c.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${c.expected}, erhalten ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"Zahl";case"object":if(Array.isArray(a))return"Array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ung\xfcltige Eingabe: erwartet ${_(c.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Zu gro\xdf: erwartet, dass ${c.origin??"Wert"} ${b}${c.maximum.toString()} ${d.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${c.origin??"Wert"} ${b}${c.maximum.toString()} ist`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Zu klein: erwartet, dass ${c.origin} ${b}${c.minimum.toString()} ${d.unit} hat`;return`Zu klein: erwartet, dass ${c.origin} ${b}${c.minimum.toString()} ist`}case"invalid_format":if("starts_with"===c.format)return`Ung\xfcltiger String: muss mit "${c.prefix}" beginnen`;if("ends_with"===c.format)return`Ung\xfcltiger String: muss mit "${c.suffix}" enden`;if("includes"===c.format)return`Ung\xfcltiger String: muss "${c.includes}" enthalten`;if("regex"===c.format)return`Ung\xfcltiger String: muss dem Muster ${c.pattern} entsprechen`;return`Ung\xfcltig: ${b[c.format]??c.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${c.divisor} sein`;case"unrecognized_keys":return`${c.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${y(c.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${c.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${c.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,dH,"eo",0,function(){let a,b;return{localeError:(a={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},b={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},c=>{switch(c.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${c.expected}, riceviĝis ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombro";case"object":if(Array.isArray(a))return"tabelo";if(null===a)return"senvalora";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Nevalida enigo: atendiĝis ${_(c.values[0])}`;return`Nevalida opcio: atendiĝis unu el ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Tro granda: atendiĝis ke ${c.origin??"valoro"} havu ${b}${c.maximum.toString()} ${d.unit??"elementojn"}`;return`Tro granda: atendiĝis ke ${c.origin??"valoro"} havu ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Tro malgranda: atendiĝis ke ${c.origin} havu ${b}${c.minimum.toString()} ${d.unit}`;return`Tro malgranda: atendiĝis ke ${c.origin} estu ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Nevalida karaktraro: devas komenciĝi per "${c.prefix}"`;if("ends_with"===c.format)return`Nevalida karaktraro: devas finiĝi per "${c.suffix}"`;if("includes"===c.format)return`Nevalida karaktraro: devas inkluzivi "${c.includes}"`;if("regex"===c.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${c.pattern}`;return`Nevalida ${b[c.format]??c.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${c.divisor}`;case"unrecognized_keys":return`Nekonata${c.keys.length>1?"j":""} ŝlosilo${c.keys.length>1?"j":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${c.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${c.origin}`}})}},"es",0,function(){return{localeError:(()=>{let a={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},b={string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};function c(a){return b[a]??a}let d={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return b=>{switch(b.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${c(b.expected)}, recibido ${c((a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype)return a.constructor.name;return"object"}return b})(b.input))}`;case"invalid_value":if(1===b.values.length)return`Entrada inv\xe1lida: se esperaba ${_(b.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${y(b.values,"|")}`;case"too_big":{let d=b.inclusive?"<=":"<",e=a[b.origin]??null,f=c(b.origin);if(e)return`Demasiado grande: se esperaba que ${f??"valor"} tuviera ${d}${b.maximum.toString()} ${e.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${f??"valor"} fuera ${d}${b.maximum.toString()}`}case"too_small":{let d=b.inclusive?">=":">",e=a[b.origin]??null,f=c(b.origin);if(e)return`Demasiado peque\xf1o: se esperaba que ${f} tuviera ${d}${b.minimum.toString()} ${e.unit}`;return`Demasiado peque\xf1o: se esperaba que ${f} fuera ${d}${b.minimum.toString()}`}case"invalid_format":if("starts_with"===b.format)return`Cadena inv\xe1lida: debe comenzar con "${b.prefix}"`;if("ends_with"===b.format)return`Cadena inv\xe1lida: debe terminar en "${b.suffix}"`;if("includes"===b.format)return`Cadena inv\xe1lida: debe incluir "${b.includes}"`;if("regex"===b.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${b.pattern}`;return`Inv\xe1lido ${d[b.format]??b.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${b.divisor}`;case"unrecognized_keys":return`Llave${b.keys.length>1?"s":""} desconocida${b.keys.length>1?"s":""}: ${y(b.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${c(b.origin)}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inv\xe1lido en ${c(b.origin)}`;default:return`Entrada inv\xe1lida`}}})()}},"fa",0,function(){let a,b;return{localeError:(a={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}},b={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"},c=>{switch(c.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${c.expected} می‌بود، ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"عدد";case"object":if(Array.isArray(a))return"آرایه";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} دریافت شد`;case"invalid_value":if(1===c.values.length)return`ورودی نامعتبر: می‌بایست ${_(c.values[0])} می‌بود`;return`گزینه نامعتبر: می‌بایست یکی از ${y(c.values,"|")} می‌بود`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`خیلی بزرگ: ${c.origin??"مقدار"} باید ${b}${c.maximum.toString()} ${d.unit??"عنصر"} باشد`;return`خیلی بزرگ: ${c.origin??"مقدار"} باید ${b}${c.maximum.toString()} باشد`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`خیلی کوچک: ${c.origin} باید ${b}${c.minimum.toString()} ${d.unit} باشد`;return`خیلی کوچک: ${c.origin} باید ${b}${c.minimum.toString()} باشد`}case"invalid_format":if("starts_with"===c.format)return`رشته نامعتبر: باید با "${c.prefix}" شروع شود`;if("ends_with"===c.format)return`رشته نامعتبر: باید با "${c.suffix}" تمام شود`;if("includes"===c.format)return`رشته نامعتبر: باید شامل "${c.includes}" باشد`;if("regex"===c.format)return`رشته نامعتبر: باید با الگوی ${c.pattern} مطابقت داشته باشد`;return`${b[c.format]??c.format} نامعتبر`;case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${c.divisor} باشد`;case"unrecognized_keys":return`کلید${c.keys.length>1?"های":""} ناشناس: ${y(c.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${c.origin}`;case"invalid_union":default:return`ورودی نامعتبر`;case"invalid_element":return`مقدار نامعتبر در ${c.origin}`}})}},"fi",0,function(){let a,b;return{localeError:(a={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}},b={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},c=>{switch(c.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${c.expected}, oli ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${_(c.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Liian suuri: ${d.subject} t\xe4ytyy olla ${b}${c.maximum.toString()} ${d.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Liian pieni: ${d.subject} t\xe4ytyy olla ${b}${c.minimum.toString()} ${d.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${c.prefix}"`;if("ends_with"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${c.suffix}"`;if("includes"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${c.includes}"`;if("regex"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${c.pattern}`;return`Virheellinen ${b[c.format]??c.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${c.divisor} monikerta`;case"unrecognized_keys":return`${c.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${y(c.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let a,b;return{localeError:(a={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}},b={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},c=>{switch(c.code){case"invalid_type":return`Entr\xe9e invalide : ${c.expected} attendu, ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombre";case"object":if(Array.isArray(a))return"tableau";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} re\xe7u`;case"invalid_value":if(1===c.values.length)return`Entr\xe9e invalide : ${_(c.values[0])} attendu`;return`Option invalide : une valeur parmi ${y(c.values,"|")} attendue`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Trop grand : ${c.origin??"valeur"} doit ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"élément(s)"}`;return`Trop grand : ${c.origin??"valeur"} doit \xeatre ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Trop petit : ${c.origin} doit ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Trop petit : ${c.origin} doit \xeatre ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Cha\xeene invalide : doit commencer par "${c.prefix}"`;if("ends_with"===c.format)return`Cha\xeene invalide : doit se terminer par "${c.suffix}"`;if("includes"===c.format)return`Cha\xeene invalide : doit inclure "${c.includes}"`;if("regex"===c.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${c.pattern}`;return`${b[c.format]??c.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${c.divisor}`;case"unrecognized_keys":return`Cl\xe9${c.keys.length>1?"s":""} non reconnue${c.keys.length>1?"s":""} : ${y(c.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${c.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${c.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let a,b;return{localeError:(a={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}},b={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},c=>{switch(c.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${c.expected}, re\xe7u ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Entr\xe9e invalide : attendu ${_(c.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"≤":"<",d=a[c.origin]??null;if(d)return`Trop grand : attendu que ${c.origin??"la valeur"} ait ${b}${c.maximum.toString()} ${d.unit}`;return`Trop grand : attendu que ${c.origin??"la valeur"} soit ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"≥":">",d=a[c.origin]??null;if(d)return`Trop petit : attendu que ${c.origin} ait ${b}${c.minimum.toString()} ${d.unit}`;return`Trop petit : attendu que ${c.origin} soit ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Cha\xeene invalide : doit commencer par "${c.prefix}"`;if("ends_with"===c.format)return`Cha\xeene invalide : doit se terminer par "${c.suffix}"`;if("includes"===c.format)return`Cha\xeene invalide : doit inclure "${c.includes}"`;if("regex"===c.format)return`Cha\xeene invalide : doit correspondre au motif ${c.pattern}`;return`${b[c.format]??c.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${c.divisor}`;case"unrecognized_keys":return`Cl\xe9${c.keys.length>1?"s":""} non reconnue${c.keys.length>1?"s":""} : ${y(c.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${c.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${c.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let a,b,c,d,e,f,g,h;return{localeError:(a={string:{label:"מחרוזת",gender:"f"},number:{label:"מספר",gender:"m"},boolean:{label:"ערך בוליאני",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"תאריך",gender:"m"},array:{label:"מערך",gender:"m"},object:{label:"אובייקט",gender:"m"},null:{label:"ערך ריק (null)",gender:"m"},undefined:{label:"ערך לא מוגדר (undefined)",gender:"m"},symbol:{label:"סימבול (Symbol)",gender:"m"},function:{label:"פונקציה",gender:"f"},map:{label:"מפה (Map)",gender:"f"},set:{label:"קבוצה (Set)",gender:"f"},file:{label:"קובץ",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"ערך לא ידוע",gender:"m"},value:{label:"ערך",gender:"m"}},b={string:{unit:"תווים",shortLabel:"קצר",longLabel:"ארוך"},file:{unit:"בייטים",shortLabel:"קטן",longLabel:"גדול"},array:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},set:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},number:{unit:"",shortLabel:"קטן",longLabel:"גדול"}},c=b=>b?a[b]:void 0,d=b=>{let d=c(b);return d?d.label:b??a.unknown.label},e=a=>`ה${d(a)}`,f=a=>{let b=c(a);return"f"===(b?.gender??"m")?"צריכה להיות":"צריך להיות"},g=a=>a?b[a]??null:null,h={regex:{label:"קלט",gender:"m"},email:{label:"כתובת אימייל",gender:"f"},url:{label:"כתובת רשת",gender:"f"},emoji:{label:"אימוג'י",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"תאריך וזמן ISO",gender:"m"},date:{label:"תאריך ISO",gender:"m"},time:{label:"זמן ISO",gender:"m"},duration:{label:"משך זמן ISO",gender:"m"},ipv4:{label:"כתובת IPv4",gender:"f"},ipv6:{label:"כתובת IPv6",gender:"f"},cidrv4:{label:"טווח IPv4",gender:"m"},cidrv6:{label:"טווח IPv6",gender:"m"},base64:{label:"מחרוזת בבסיס 64",gender:"f"},base64url:{label:"מחרוזת בבסיס 64 לכתובות רשת",gender:"f"},json_string:{label:"מחרוזת JSON",gender:"f"},e164:{label:"מספר E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"קלט",gender:"m"},includes:{label:"קלט",gender:"m"},lowercase:{label:"קלט",gender:"m"},starts_with:{label:"קלט",gender:"m"},uppercase:{label:"קלט",gender:"m"}},b=>{switch(b.code){case"invalid_type":{let c=d(b.expected),e=(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name;return"object";default:return b}})(b.input),f=a[e]?.label??e;return`קלט לא תקין: צריך להיות ${c}, התקבל ${f}`}case"invalid_value":{if(1===b.values.length)return`ערך לא תקין: הערך חייב להיות ${_(b.values[0])}`;let a=b.values.map(a=>_(a));if(2===b.values.length)return`ערך לא תקין: האפשרויות המתאימות הן ${a[0]} או ${a[1]}`;let c=a[a.length-1],d=a.slice(0,-1).join(", ");return`ערך לא תקין: האפשרויות המתאימות הן ${d} או ${c}`}case"too_big":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.longLabel??"ארוך"} מדי: ${c} צריכה להכיל ${b.maximum.toString()} ${a?.unit??""} ${b.inclusive?"או פחות":"לכל היותר"}`.trim();if("number"===b.origin){let a=b.inclusive?`קטן או שווה ל-${b.maximum}`:`קטן מ-${b.maximum}`;return`גדול מדי: ${c} צריך להיות ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"צריכה":"צריך",e=b.inclusive?`${b.maximum} ${a?.unit??""} או פחות`:`פחות מ-${b.maximum} ${a?.unit??""}`;return`גדול מדי: ${c} ${d} להכיל ${e}`.trim()}let d=b.inclusive?"<=":"<",h=f(b.origin??"value");if(a?.unit)return`${a.longLabel} מדי: ${c} ${h} ${d}${b.maximum.toString()} ${a.unit}`;return`${a?.longLabel??"גדול"} מדי: ${c} ${h} ${d}${b.maximum.toString()}`}case"too_small":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.shortLabel??"קצר"} מדי: ${c} צריכה להכיל ${b.minimum.toString()} ${a?.unit??""} ${b.inclusive?"או יותר":"לפחות"}`.trim();if("number"===b.origin){let a=b.inclusive?`גדול או שווה ל-${b.minimum}`:`גדול מ-${b.minimum}`;return`קטן מדי: ${c} צריך להיות ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"צריכה":"צריך";if(1===b.minimum&&b.inclusive){let a=(b.origin,"לפחות פריט אחד");return`קטן מדי: ${c} ${d} להכיל ${a}`}let e=b.inclusive?`${b.minimum} ${a?.unit??""} או יותר`:`יותר מ-${b.minimum} ${a?.unit??""}`;return`קטן מדי: ${c} ${d} להכיל ${e}`.trim()}let d=b.inclusive?">=":">",h=f(b.origin??"value");if(a?.unit)return`${a.shortLabel} מדי: ${c} ${h} ${d}${b.minimum.toString()} ${a.unit}`;return`${a?.shortLabel??"קטן"} מדי: ${c} ${h} ${d}${b.minimum.toString()}`}case"invalid_format":{if("starts_with"===b.format)return`המחרוזת חייבת להתחיל ב "${b.prefix}"`;if("ends_with"===b.format)return`המחרוזת חייבת להסתיים ב "${b.suffix}"`;if("includes"===b.format)return`המחרוזת חייבת לכלול "${b.includes}"`;if("regex"===b.format)return`המחרוזת חייבת להתאים לתבנית ${b.pattern}`;let a=h[b.format],c=a?.label??b.format,d=a?.gender??"m";return`${c} לא ${"f"===d?"תקינה":"תקין"}`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${b.divisor}`;case"unrecognized_keys":return`מפתח${b.keys.length>1?"ות":""} לא מזוה${b.keys.length>1?"ים":"ה"}: ${y(b.keys,", ")}`;case"invalid_key":return`שדה לא תקין באובייקט`;case"invalid_union":return"קלט לא תקין";case"invalid_element":{let a=e(b.origin??"array");return`ערך לא תקין ב${a}`}default:return`קלט לא תקין`}})}},"hu",0,function(){let a,b;return{localeError:(a={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},b={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"},c=>{switch(c.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${c.expected}, a kapott \xe9rt\xe9k ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"szám";case"object":if(Array.isArray(a))return"tömb";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${_(c.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`T\xfal nagy: ${c.origin??"érték"} m\xe9rete t\xfal nagy ${b}${c.maximum.toString()} ${d.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${c.origin??"érték"} t\xfal nagy: ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${c.origin} m\xe9rete t\xfal kicsi ${b}${c.minimum.toString()} ${d.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${c.origin} t\xfal kicsi ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`\xc9rv\xe9nytelen string: "${c.prefix}" \xe9rt\xe9kkel kell kezdődnie`;if("ends_with"===c.format)return`\xc9rv\xe9nytelen string: "${c.suffix}" \xe9rt\xe9kkel kell v\xe9gződnie`;if("includes"===c.format)return`\xc9rv\xe9nytelen string: "${c.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===c.format)return`\xc9rv\xe9nytelen string: ${c.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${b[c.format]??c.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${c.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${c.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${c.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"id",0,function(){let a,b;return{localeError:(a={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},b={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Input tidak valid: diharapkan ${c.expected}, diterima ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input tidak valid: diharapkan ${_(c.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Terlalu besar: diharapkan ${c.origin??"value"} memiliki ${b}${c.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: diharapkan ${c.origin??"value"} menjadi ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Terlalu kecil: diharapkan ${c.origin} memiliki ${b}${c.minimum.toString()} ${d.unit}`;return`Terlalu kecil: diharapkan ${c.origin} menjadi ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`String tidak valid: harus dimulai dengan "${c.prefix}"`;if("ends_with"===c.format)return`String tidak valid: harus berakhir dengan "${c.suffix}"`;if("includes"===c.format)return`String tidak valid: harus menyertakan "${c.includes}"`;if("regex"===c.format)return`String tidak valid: harus sesuai pola ${c.pattern}`;return`${b[c.format]??c.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${c.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${c.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${c.origin}`}})}},"is",0,function(){let a,b;return{localeError:(a={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}},b={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"},c=>{switch(c.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"númer";case"object":if(Array.isArray(a))return"fylki";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} \xfear sem \xe1 a\xf0 vera ${c.expected}`;case"invalid_value":if(1===c.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${_(c.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin??"gildi"} hafi ${b}${c.maximum.toString()} ${d.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin??"gildi"} s\xe9 ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin} hafi ${b}${c.minimum.toString()} ${d.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${c.origin} s\xe9 ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${c.prefix}"`;if("ends_with"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${c.suffix}"`;if("includes"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${c.includes}"`;if("regex"===c.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${c.pattern}`;return`Rangt ${b[c.format]??c.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${c.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${c.keys.length>1?"ir lyklar":"ur lykill"}: ${y(c.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${c.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${c.origin}`}})}},"it",0,function(){let a,b;return{localeError:(a={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},b={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Input non valido: atteso ${c.expected}, ricevuto ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"numero";case"object":if(Array.isArray(a))return"vettore";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input non valido: atteso ${_(c.values[0])}`;return`Opzione non valida: atteso uno tra ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Troppo grande: ${c.origin??"valore"} deve avere ${b}${c.maximum.toString()} ${d.unit??"elementi"}`;return`Troppo grande: ${c.origin??"valore"} deve essere ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Troppo piccolo: ${c.origin} deve avere ${b}${c.minimum.toString()} ${d.unit}`;return`Troppo piccolo: ${c.origin} deve essere ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Stringa non valida: deve iniziare con "${c.prefix}"`;if("ends_with"===c.format)return`Stringa non valida: deve terminare con "${c.suffix}"`;if("includes"===c.format)return`Stringa non valida: deve includere "${c.includes}"`;if("regex"===c.format)return`Stringa non valida: deve corrispondere al pattern ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${c.divisor}`;case"unrecognized_keys":return`Chiav${c.keys.length>1?"i":"e"} non riconosciut${c.keys.length>1?"e":"a"}: ${y(c.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${c.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${c.origin}`}})}},"ja",0,function(){let a,b;return{localeError:(a={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}},b={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"},c=>{switch(c.code){case"invalid_type":return`無効な入力: ${c.expected}が期待されましたが、${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"数値";case"object":if(Array.isArray(a))return"配列";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}が入力されました`;case"invalid_value":if(1===c.values.length)return`無効な入力: ${_(c.values[0])}が期待されました`;return`無効な選択: ${y(c.values,"、")}のいずれかである必要があります`;case"too_big":{let b=c.inclusive?"以下である":"より小さい",d=a[c.origin]??null;if(d)return`大きすぎる値: ${c.origin??"値"}は${c.maximum.toString()}${d.unit??"要素"}${b}必要があります`;return`大きすぎる値: ${c.origin??"値"}は${c.maximum.toString()}${b}必要があります`}case"too_small":{let b=c.inclusive?"以上である":"より大きい",d=a[c.origin]??null;if(d)return`小さすぎる値: ${c.origin}は${c.minimum.toString()}${d.unit}${b}必要があります`;return`小さすぎる値: ${c.origin}は${c.minimum.toString()}${b}必要があります`}case"invalid_format":if("starts_with"===c.format)return`無効な文字列: "${c.prefix}"で始まる必要があります`;if("ends_with"===c.format)return`無効な文字列: "${c.suffix}"で終わる必要があります`;if("includes"===c.format)return`無効な文字列: "${c.includes}"を含む必要があります`;if("regex"===c.format)return`無効な文字列: パターン${c.pattern}に一致する必要があります`;return`無効な${b[c.format]??c.format}`;case"not_multiple_of":return`無効な数値: ${c.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${c.keys.length>1?"群":""}: ${y(c.keys,"、")}`;case"invalid_key":return`${c.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${c.origin}内の無効な値`;default:return`無効な入力`}})}},"ka",0,function(){let a,b;return{localeError:(a={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}},b={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"},c=>{switch(c.code){case"invalid_type":return`არასწორი შეყვანა: მოსალოდნელი ${c.expected}, მიღებული ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"რიცხვი";case"object":if(Array.isArray(a))return"მასივი";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return({string:"სტრინგი",boolean:"ბულეანი",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"ფუნქცია"})[b]??b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`არასწორი შეყვანა: მოსალოდნელი ${_(c.values[0])}`;return`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${y(c.values,"|")}-დან`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`ზედმეტად დიდი: მოსალოდნელი ${c.origin??"მნიშვნელობა"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit}`;return`ზედმეტად დიდი: მოსალოდნელი ${c.origin??"მნიშვნელობა"} იყოს ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`ზედმეტად პატარა: მოსალოდნელი ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`ზედმეტად პატარა: მოსალოდნელი ${c.origin} იყოს ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`არასწორი სტრინგი: უნდა იწყებოდეს "${c.prefix}"-ით`;if("ends_with"===c.format)return`არასწორი სტრინგი: უნდა მთავრდებოდეს "${c.suffix}"-ით`;if("includes"===c.format)return`არასწორი სტრინგი: უნდა შეიცავდეს "${c.includes}"-ს`;if("regex"===c.format)return`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${c.pattern}`;return`არასწორი ${b[c.format]??c.format}`;case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${c.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${c.keys.length>1?"ები":"ი"}: ${y(c.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${c.origin}-ში`;case"invalid_union":return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${c.origin}-ში`;default:return`არასწორი შეყვანა`}})}},"kh",0,function(){return dI()},"km",0,dI,"ko",0,function(){let a,b;return{localeError:(a={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}},b={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"},c=>{switch(c.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${c.expected}, 받은 타입은 ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}입니다`;case"invalid_value":if(1===c.values.length)return`잘못된 입력: 값은 ${_(c.values[0])} 이어야 합니다`;return`잘못된 옵션: ${y(c.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{let b=c.inclusive?"이하":"미만",d="미만"===b?"이어야 합니다":"여야 합니다",e=a[c.origin]??null,f=e?.unit??"요소";if(e)return`${c.origin??"값"}이 너무 큽니다: ${c.maximum.toString()}${f} ${b}${d}`;return`${c.origin??"값"}이 너무 큽니다: ${c.maximum.toString()} ${b}${d}`}case"too_small":{let b=c.inclusive?"이상":"초과",d="이상"===b?"이어야 합니다":"여야 합니다",e=a[c.origin]??null,f=e?.unit??"요소";if(e)return`${c.origin??"값"}이 너무 작습니다: ${c.minimum.toString()}${f} ${b}${d}`;return`${c.origin??"값"}이 너무 작습니다: ${c.minimum.toString()} ${b}${d}`}case"invalid_format":if("starts_with"===c.format)return`잘못된 문자열: "${c.prefix}"(으)로 시작해야 합니다`;if("ends_with"===c.format)return`잘못된 문자열: "${c.suffix}"(으)로 끝나야 합니다`;if("includes"===c.format)return`잘못된 문자열: "${c.includes}"을(를) 포함해야 합니다`;if("regex"===c.format)return`잘못된 문자열: 정규식 ${c.pattern} 패턴과 일치해야 합니다`;return`잘못된 ${b[c.format]??c.format}`;case"not_multiple_of":return`잘못된 숫자: ${c.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${y(c.keys,", ")}`;case"invalid_key":return`잘못된 키: ${c.origin}`;case"invalid_union":default:return`잘못된 입력`;case"invalid_element":return`잘못된 값: ${c.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let a={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function b(b,c,d,e){let f=a[b]??null;return null===f?f:{unit:f.unit[c],verb:f.verb[e][d?"inclusive":"notInclusive"]}}let c={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"};return a=>{switch(a.code){case"invalid_type":var d;return`Gautas tipas ${dJ(typeof(d=a.input),d)}, o tikėtasi - ${dJ(a.expected)}`;case"invalid_value":if(1===a.values.length)return`Privalo būti ${_(a.values[0])}`;return`Privalo būti vienas iš ${y(a.values,"|")} pasirinkimų`;case"too_big":{let c=dJ(a.origin),d=b(a.origin,dL(Number(a.maximum)),a.inclusive??!1,"smaller");if(d?.verb)return`${dK(c??a.origin??"reikšmė")} ${d.verb} ${a.maximum.toString()} ${d.unit??"elementų"}`;let e=a.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${dK(c??a.origin??"reikšmė")} turi būti ${e} ${a.maximum.toString()} ${d?.unit}`}case"too_small":{let c=dJ(a.origin),d=b(a.origin,dL(Number(a.minimum)),a.inclusive??!1,"bigger");if(d?.verb)return`${dK(c??a.origin??"reikšmė")} ${d.verb} ${a.minimum.toString()} ${d.unit??"elementų"}`;let e=a.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${dK(c??a.origin??"reikšmė")} turi būti ${e} ${a.minimum.toString()} ${d?.unit}`}case"invalid_format":if("starts_with"===a.format)return`Eilutė privalo prasidėti "${a.prefix}"`;if("ends_with"===a.format)return`Eilutė privalo pasibaigti "${a.suffix}"`;if("includes"===a.format)return`Eilutė privalo įtraukti "${a.includes}"`;if("regex"===a.format)return`Eilutė privalo atitikti ${a.pattern}`;return`Neteisingas ${c[a.format]??a.format}`;case"not_multiple_of":return`Skaičius privalo būti ${a.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${a.keys.length>1?"i":"as"} rakt${a.keys.length>1?"ai":"as"}: ${y(a.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga įvestis";case"invalid_element":{let b=dJ(a.origin);return`${dK(b??a.origin??"reikšmė")} turi klaidingą įvestį`}}}})()}},"mk",0,function(){let a,b;return{localeError:(a={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}},b={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"},c=>{switch(c.code){case"invalid_type":return`Грешен внес: се очекува ${c.expected}, примено ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"број";case"object":if(Array.isArray(a))return"низа";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Invalid input: expected ${_(c.values[0])}`;return`Грешана опција: се очекува една ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Премногу голем: се очекува ${c.origin??"вредноста"} да има ${b}${c.maximum.toString()} ${d.unit??"елементи"}`;return`Премногу голем: се очекува ${c.origin??"вредноста"} да биде ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Премногу мал: се очекува ${c.origin} да има ${b}${c.minimum.toString()} ${d.unit}`;return`Премногу мал: се очекува ${c.origin} да биде ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Неважечка низа: мора да започнува со "${c.prefix}"`;if("ends_with"===c.format)return`Неважечка низа: мора да завршува со "${c.suffix}"`;if("includes"===c.format)return`Неважечка низа: мора да вклучува "${c.includes}"`;if("regex"===c.format)return`Неважечка низа: мора да одгоара на патернот ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Грешен број: мора да биде делив со ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${y(c.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${c.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${c.origin}`;default:return`Грешен внес`}})}},"ms",0,function(){let a,b;return{localeError:(a={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},b={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Input tidak sah: dijangka ${c.expected}, diterima ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombor";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input tidak sah: dijangka ${_(c.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Terlalu besar: dijangka ${c.origin??"nilai"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: dijangka ${c.origin??"nilai"} adalah ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Terlalu kecil: dijangka ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Terlalu kecil: dijangka ${c.origin} adalah ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`String tidak sah: mesti bermula dengan "${c.prefix}"`;if("ends_with"===c.format)return`String tidak sah: mesti berakhir dengan "${c.suffix}"`;if("includes"===c.format)return`String tidak sah: mesti mengandungi "${c.includes}"`;if("regex"===c.format)return`String tidak sah: mesti sepadan dengan corak ${c.pattern}`;return`${b[c.format]??c.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${c.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${y(c.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${c.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${c.origin}`}})}},"nl",0,function(){let a,b;return{localeError:(a={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}},b={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},c=>{switch(c.code){case"invalid_type":return`Ongeldige invoer: verwacht ${c.expected}, ontving ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"getal";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ongeldige invoer: verwacht ${_(c.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Te groot: verwacht dat ${c.origin??"waarde"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"elementen"}`;return`Te groot: verwacht dat ${c.origin??"waarde"} ${b}${c.maximum.toString()} is`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Te klein: verwacht dat ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Te klein: verwacht dat ${c.origin} ${b}${c.minimum.toString()} is`}case"invalid_format":if("starts_with"===c.format)return`Ongeldige tekst: moet met "${c.prefix}" beginnen`;if("ends_with"===c.format)return`Ongeldige tekst: moet op "${c.suffix}" eindigen`;if("includes"===c.format)return`Ongeldige tekst: moet "${c.includes}" bevatten`;if("regex"===c.format)return`Ongeldige tekst: moet overeenkomen met patroon ${c.pattern}`;return`Ongeldig: ${b[c.format]??c.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${c.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${c.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${c.origin}`}})}},"no",0,function(){let a,b;return{localeError:(a={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}},b={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Ugyldig input: forventet ${c.expected}, fikk ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"tall";case"object":if(Array.isArray(a))return"liste";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ugyldig verdi: forventet ${_(c.values[0])}`;return`Ugyldig valg: forventet en av ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`For stor(t): forventet ${c.origin??"value"} til \xe5 ha ${b}${c.maximum.toString()} ${d.unit??"elementer"}`;return`For stor(t): forventet ${c.origin??"value"} til \xe5 ha ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`For lite(n): forventet ${c.origin} til \xe5 ha ${b}${c.minimum.toString()} ${d.unit}`;return`For lite(n): forventet ${c.origin} til \xe5 ha ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ugyldig streng: m\xe5 starte med "${c.prefix}"`;if("ends_with"===c.format)return`Ugyldig streng: m\xe5 ende med "${c.suffix}"`;if("includes"===c.format)return`Ugyldig streng: m\xe5 inneholde "${c.includes}"`;if("regex"===c.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${c.pattern}`;return`Ugyldig ${b[c.format]??c.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${y(c.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${c.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${c.origin}`}})}},"ota",0,function(){let a,b;return{localeError:(a={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}},b={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"},c=>{switch(c.code){case"invalid_type":return`F\xe2sit giren: umulan ${c.expected}, alınan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"numara";case"object":if(Array.isArray(a))return"saf";if(null===a)return"gayb";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`F\xe2sit giren: umulan ${_(c.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Fazla b\xfcy\xfck: ${c.origin??"value"}, ${b}${c.maximum.toString()} ${d.unit??"elements"} sahip olmalıydı.`;return`Fazla b\xfcy\xfck: ${c.origin??"value"}, ${b}${c.maximum.toString()} olmalıydı.`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Fazla k\xfc\xe7\xfck: ${c.origin}, ${b}${c.minimum.toString()} ${d.unit} sahip olmalıydı.`;return`Fazla k\xfc\xe7\xfck: ${c.origin}, ${b}${c.minimum.toString()} olmalıydı.`}case"invalid_format":if("starts_with"===c.format)return`F\xe2sit metin: "${c.prefix}" ile başlamalı.`;if("ends_with"===c.format)return`F\xe2sit metin: "${c.suffix}" ile bitmeli.`;if("includes"===c.format)return`F\xe2sit metin: "${c.includes}" ihtiv\xe2 etmeli.`;if("regex"===c.format)return`F\xe2sit metin: ${c.pattern} nakşına uymalı.`;return`F\xe2sit ${b[c.format]??c.format}`;case"not_multiple_of":return`F\xe2sit sayı: ${c.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`${c.origin} i\xe7in tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${c.origin} i\xe7in tanınmayan kıymet var.`;default:return`Kıymet tanınamadı.`}})}},"pl",0,function(){let a,b;return{localeError:(a={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}},b={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"},c=>{switch(c.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${c.expected}, otrzymano ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"liczba";case"object":if(Array.isArray(a))return"tablica";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Nieprawidłowe dane wejściowe: oczekiwano ${_(c.values[0])}`;return`Nieprawidłowa opcja: oczekiwano jednej z wartości ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Za duża wartość: oczekiwano, że ${c.origin??"wartość"} będzie mieć ${b}${c.maximum.toString()} ${d.unit??"elementów"}`;return`Zbyt duż(y/a/e): oczekiwano, że ${c.origin??"wartość"} będzie wynosić ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Za mała wartość: oczekiwano, że ${c.origin??"wartość"} będzie mieć ${b}${c.minimum.toString()} ${d.unit??"elementów"}`;return`Zbyt mał(y/a/e): oczekiwano, że ${c.origin??"wartość"} będzie wynosić ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi zaczynać się od "${c.prefix}"`;if("ends_with"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi kończyć się na "${c.suffix}"`;if("includes"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi zawierać "${c.includes}"`;if("regex"===c.format)return`Nieprawidłowy ciąg znak\xf3w: musi odpowiadać wzorcowi ${c.pattern}`;return`Nieprawidłow(y/a/e) ${b[c.format]??c.format}`;case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${c.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${c.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${c.origin}`;default:return`Nieprawidłowe dane wejściowe`}})}},"ps",0,function(){let a,b;return{localeError:(a={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}},b={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"},c=>{switch(c.code){case"invalid_type":return`ناسم ورودي: باید ${c.expected} وای, مګر ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"عدد";case"object":if(Array.isArray(a))return"ارې";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} ترلاسه شو`;case"invalid_value":if(1===c.values.length)return`ناسم ورودي: باید ${_(c.values[0])} وای`;return`ناسم انتخاب: باید یو له ${y(c.values,"|")} څخه وای`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`ډیر لوی: ${c.origin??"ارزښت"} باید ${b}${c.maximum.toString()} ${d.unit??"عنصرونه"} ولري`;return`ډیر لوی: ${c.origin??"ارزښت"} باید ${b}${c.maximum.toString()} وي`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`ډیر کوچنی: ${c.origin} باید ${b}${c.minimum.toString()} ${d.unit} ولري`;return`ډیر کوچنی: ${c.origin} باید ${b}${c.minimum.toString()} وي`}case"invalid_format":if("starts_with"===c.format)return`ناسم متن: باید د "${c.prefix}" سره پیل شي`;if("ends_with"===c.format)return`ناسم متن: باید د "${c.suffix}" سره پای ته ورسيږي`;if("includes"===c.format)return`ناسم متن: باید "${c.includes}" ولري`;if("regex"===c.format)return`ناسم متن: باید د ${c.pattern} سره مطابقت ولري`;return`${b[c.format]??c.format} ناسم دی`;case"not_multiple_of":return`ناسم عدد: باید د ${c.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${c.keys.length>1?"کلیډونه":"کلیډ"}: ${y(c.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${c.origin} کې`;case"invalid_union":default:return`ناسمه ورودي`;case"invalid_element":return`ناسم عنصر په ${c.origin} کې`}})}},"pt",0,function(){let a,b;return{localeError:(a={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},b={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},c=>{switch(c.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${c.expected}, recebido ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"número";case"object":if(Array.isArray(a))return"array";if(null===a)return"nulo";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Entrada inv\xe1lida: esperado ${_(c.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Muito grande: esperado que ${c.origin??"valor"} tivesse ${b}${c.maximum.toString()} ${d.unit??"elementos"}`;return`Muito grande: esperado que ${c.origin??"valor"} fosse ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Muito pequeno: esperado que ${c.origin} tivesse ${b}${c.minimum.toString()} ${d.unit}`;return`Muito pequeno: esperado que ${c.origin} fosse ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Texto inv\xe1lido: deve come\xe7ar com "${c.prefix}"`;if("ends_with"===c.format)return`Texto inv\xe1lido: deve terminar com "${c.suffix}"`;if("includes"===c.format)return`Texto inv\xe1lido: deve incluir "${c.includes}"`;if("regex"===c.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${c.pattern}`;return`${b[c.format]??c.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${c.divisor}`;case"unrecognized_keys":return`Chave${c.keys.length>1?"s":""} desconhecida${c.keys.length>1?"s":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${c.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inv\xe1lido em ${c.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let a,b;return{localeError:(a={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}},b={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"},c=>{switch(c.code){case"invalid_type":return`Неверный ввод: ожидалось ${c.expected}, получено ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"число";case"object":if(Array.isArray(a))return"массив";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Неверный ввод: ожидалось ${_(c.values[0])}`;return`Неверный вариант: ожидалось одно из ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d){let a=dM(Number(c.maximum),d.unit.one,d.unit.few,d.unit.many);return`Слишком большое значение: ожидалось, что ${c.origin??"значение"} будет иметь ${b}${c.maximum.toString()} ${a}`}return`Слишком большое значение: ожидалось, что ${c.origin??"значение"} будет ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d){let a=dM(Number(c.minimum),d.unit.one,d.unit.few,d.unit.many);return`Слишком маленькое значение: ожидалось, что ${c.origin} будет иметь ${b}${c.minimum.toString()} ${a}`}return`Слишком маленькое значение: ожидалось, что ${c.origin} будет ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Неверная строка: должна начинаться с "${c.prefix}"`;if("ends_with"===c.format)return`Неверная строка: должна заканчиваться на "${c.suffix}"`;if("includes"===c.format)return`Неверная строка: должна содержать "${c.includes}"`;if("regex"===c.format)return`Неверная строка: должна соответствовать шаблону ${c.pattern}`;return`Неверный ${b[c.format]??c.format}`;case"not_multiple_of":return`Неверное число: должно быть кратным ${c.divisor}`;case"unrecognized_keys":return`Нераспознанн${c.keys.length>1?"ые":"ый"} ключ${c.keys.length>1?"и":""}: ${y(c.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${c.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${c.origin}`;default:return`Неверные входные данные`}})}},"sl",0,function(){let a,b;return{localeError:(a={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},b={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"},c=>{switch(c.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${c.expected}, prejeto ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"število";case"object":if(Array.isArray(a))return"tabela";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Neveljaven vnos: pričakovano ${_(c.values[0])}`;return`Neveljavna možnost: pričakovano eno izmed ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Preveliko: pričakovano, da bo ${c.origin??"vrednost"} imelo ${b}${c.maximum.toString()} ${d.unit??"elementov"}`;return`Preveliko: pričakovano, da bo ${c.origin??"vrednost"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Premajhno: pričakovano, da bo ${c.origin} imelo ${b}${c.minimum.toString()} ${d.unit}`;return`Premajhno: pričakovano, da bo ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Neveljaven niz: mora se začeti z "${c.prefix}"`;if("ends_with"===c.format)return`Neveljaven niz: mora se končati z "${c.suffix}"`;if("includes"===c.format)return`Neveljaven niz: mora vsebovati "${c.includes}"`;if("regex"===c.format)return`Neveljaven niz: mora ustrezati vzorcu ${c.pattern}`;return`Neveljaven ${b[c.format]??c.format}`;case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${c.divisor}`;case"unrecognized_keys":return`Neprepoznan${c.keys.length>1?"i ključi":" ključ"}: ${y(c.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${c.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${c.origin}`}})}},"sv",0,function(){let a,b;return{localeError:(a={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}},b={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},c=>{switch(c.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${c.expected}, fick ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"antal";case"object":if(Array.isArray(a))return"lista";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${_(c.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${c.origin??"värdet"} att ha ${b}${c.maximum.toString()} ${d.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${c.origin??"värdet"} att ha ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${c.origin??"värdet"} att ha ${b}${c.minimum.toString()} ${d.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${c.origin??"värdet"} att ha ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${c.prefix}"`;if("ends_with"===c.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${c.suffix}"`;if("includes"===c.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${c.includes}"`;if("regex"===c.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${c.pattern}"`;return`Ogiltig(t) ${b[c.format]??c.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${y(c.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${c.origin??"värdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${c.origin??"värdet"}`}})}},"ta",0,function(){let a,b;return{localeError:(a={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}},b={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${c.expected}, பெறப்பட்டது ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"எண் அல்லாதது":"எண்";case"object":if(Array.isArray(a))return"அணி";if(null===a)return"வெறுமை";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${_(c.values[0])}`;return`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${y(c.values,"|")} இல் ஒன்று`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${c.origin??"மதிப்பு"} ${b}${c.maximum.toString()} ${d.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`;return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${c.origin??"மதிப்பு"} ${b}${c.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${c.origin} ${b}${c.minimum.toString()} ${d.unit} ஆக இருக்க வேண்டும்`;return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${c.origin} ${b}${c.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":if("starts_with"===c.format)return`தவறான சரம்: "${c.prefix}" இல் தொடங்க வேண்டும்`;if("ends_with"===c.format)return`தவறான சரம்: "${c.suffix}" இல் முடிவடைய வேண்டும்`;if("includes"===c.format)return`தவறான சரம்: "${c.includes}" ஐ உள்ளடக்க வேண்டும்`;if("regex"===c.format)return`தவறான சரம்: ${c.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`;return`தவறான ${b[c.format]??c.format}`;case"not_multiple_of":return`தவறான எண்: ${c.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${c.keys.length>1?"கள்":""}: ${y(c.keys,", ")}`;case"invalid_key":return`${c.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${c.origin} இல் தவறான மதிப்பு`;default:return`தவறான உள்ளீடு`}})}},"th",0,function(){let a,b;return{localeError:(a={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}},b={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"},c=>{switch(c.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${c.expected} แต่ได้รับ ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":if(Array.isArray(a))return"อาร์เรย์ (Array)";if(null===a)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`ค่าไม่ถูกต้อง: ควรเป็น ${_(c.values[0])}`;return`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"ไม่เกิน":"น้อยกว่า",d=a[c.origin]??null;if(d)return`เกินกำหนด: ${c.origin??"ค่า"} ควรมี${b} ${c.maximum.toString()} ${d.unit??"รายการ"}`;return`เกินกำหนด: ${c.origin??"ค่า"} ควรมี${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"อย่างน้อย":"มากกว่า",d=a[c.origin]??null;if(d)return`น้อยกว่ากำหนด: ${c.origin} ควรมี${b} ${c.minimum.toString()} ${d.unit}`;return`น้อยกว่ากำหนด: ${c.origin} ควรมี${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${c.prefix}"`;if("ends_with"===c.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${c.suffix}"`;if("includes"===c.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${c.includes}" อยู่ในข้อความ`;if("regex"===c.format)return`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${c.pattern}`;return`รูปแบบไม่ถูกต้อง: ${b[c.format]??c.format}`;case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${c.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${y(c.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${c.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${c.origin}`;default:return`ข้อมูลไม่ถูกต้อง`}})}},"tr",0,function(){let a,b;return{localeError:(a={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}},b={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"},c=>{switch(c.code){case"invalid_type":return`Ge\xe7ersiz değer: beklenen ${c.expected}, alınan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ge\xe7ersiz değer: beklenen ${_(c.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aşağıdakilerden biri olmalı: ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`\xc7ok b\xfcy\xfck: beklenen ${c.origin??"değer"} ${b}${c.maximum.toString()} ${d.unit??"öğe"}`;return`\xc7ok b\xfcy\xfck: beklenen ${c.origin??"değer"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`\xc7ok k\xfc\xe7\xfck: beklenen ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ge\xe7ersiz metin: "${c.prefix}" ile başlamalı`;if("ends_with"===c.format)return`Ge\xe7ersiz metin: "${c.suffix}" ile bitmeli`;if("includes"===c.format)return`Ge\xe7ersiz metin: "${c.includes}" i\xe7ermeli`;if("regex"===c.format)return`Ge\xe7ersiz metin: ${c.pattern} desenine uymalı`;return`Ge\xe7ersiz ${b[c.format]??c.format}`;case"not_multiple_of":return`Ge\xe7ersiz sayı: ${c.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${c.keys.length>1?"lar":""}: ${y(c.keys,", ")}`;case"invalid_key":return`${c.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${c.origin} i\xe7inde ge\xe7ersiz değer`;default:return`Ge\xe7ersiz değer`}})}},"ua",0,function(){return dN()},"uk",0,dN,"ur",0,function(){let a,b;return{localeError:(a={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}},b={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"},c=>{switch(c.code){case"invalid_type":return`غلط ان پٹ: ${c.expected} متوقع تھا، ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"نمبر";case"object":if(Array.isArray(a))return"آرے";if(null===a)return"نل";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} موصول ہوا`;case"invalid_value":if(1===c.values.length)return`غلط ان پٹ: ${_(c.values[0])} متوقع تھا`;return`غلط آپشن: ${y(c.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`بہت بڑا: ${c.origin??"ویلیو"} کے ${b}${c.maximum.toString()} ${d.unit??"عناصر"} ہونے متوقع تھے`;return`بہت بڑا: ${c.origin??"ویلیو"} کا ${b}${c.maximum.toString()} ہونا متوقع تھا`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`بہت چھوٹا: ${c.origin} کے ${b}${c.minimum.toString()} ${d.unit} ہونے متوقع تھے`;return`بہت چھوٹا: ${c.origin} کا ${b}${c.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":if("starts_with"===c.format)return`غلط سٹرنگ: "${c.prefix}" سے شروع ہونا چاہیے`;if("ends_with"===c.format)return`غلط سٹرنگ: "${c.suffix}" پر ختم ہونا چاہیے`;if("includes"===c.format)return`غلط سٹرنگ: "${c.includes}" شامل ہونا چاہیے`;if("regex"===c.format)return`غلط سٹرنگ: پیٹرن ${c.pattern} سے میچ ہونا چاہیے`;return`غلط ${b[c.format]??c.format}`;case"not_multiple_of":return`غلط نمبر: ${c.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${c.keys.length>1?"ز":""}: ${y(c.keys,"، ")}`;case"invalid_key":return`${c.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${c.origin} میں غلط ویلیو`;default:return`غلط ان پٹ`}})}},"vi",0,function(){let a,b;return{localeError:(a={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}},b={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"},c=>{switch(c.code){case"invalid_type":return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${c.expected}, nhận được ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"số";case"object":if(Array.isArray(a))return"mảng";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${_(c.values[0])}`;return`T\xf9y chọn kh\xf4ng hợp lệ: mong đợi một trong c\xe1c gi\xe1 trị ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Qu\xe1 lớn: mong đợi ${c.origin??"giá trị"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"phần tử"}`;return`Qu\xe1 lớn: mong đợi ${c.origin??"giá trị"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Qu\xe1 nhỏ: mong đợi ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Qu\xe1 nhỏ: mong đợi ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải bắt đầu bằng "${c.prefix}"`;if("ends_with"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải kết th\xfac bằng "${c.suffix}"`;if("includes"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải bao gồm "${c.includes}"`;if("regex"===c.format)return`Chuỗi kh\xf4ng hợp lệ: phải khớp với mẫu ${c.pattern}`;return`${b[c.format]??c.format} kh\xf4ng hợp lệ`;case"not_multiple_of":return`Số kh\xf4ng hợp lệ: phải l\xe0 bội số của ${c.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng được nhận dạng: ${y(c.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hợp lệ trong ${c.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Gi\xe1 trị kh\xf4ng hợp lệ trong ${c.origin}`;default:return`Đầu v\xe0o kh\xf4ng hợp lệ`}})}},"yo",0,function(){let a,b;return{localeError:(a={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}},b={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"},c=>{switch(c.code){case"invalid_type":return`\xccb\xe1wọl\xe9 aṣ\xecṣe: a n\xed l\xe1ti fi ${c.expected}, \xe0mọ̀ a r\xed ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nọ́mbà";case"object":if(Array.isArray(a))return"akopọ";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`\xccb\xe1wọl\xe9 aṣ\xecṣe: a n\xed l\xe1ti fi ${_(c.values[0])}`;return`\xc0ṣ\xe0y\xe0n aṣ\xecṣe: yan ọ̀kan l\xe1ra ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`T\xf3 pọ̀ j\xf9: a n\xed l\xe1ti jẹ́ p\xe9 ${c.origin??"iye"} ${d.verb} ${b}${c.maximum} ${d.unit}`;return`T\xf3 pọ̀ j\xf9: a n\xed l\xe1ti jẹ́ ${b}${c.maximum}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`K\xe9r\xe9 ju: a n\xed l\xe1ti jẹ́ p\xe9 ${c.origin} ${d.verb} ${b}${c.minimum} ${d.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti jẹ́ ${b}${c.minimum}`}case"invalid_format":if("starts_with"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀l\xfa "${c.prefix}"`;if("ends_with"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ par\xed pẹ̀l\xfa "${c.suffix}"`;if("includes"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ n\xed "${c.includes}"`;if("regex"===c.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ b\xe1 \xe0pẹẹrẹ mu ${c.pattern}`;return`Aṣ\xecṣe: ${b[c.format]??c.format}`;case"not_multiple_of":return`Nọ́mb\xe0 aṣ\xecṣe: gbọ́dọ̀ jẹ́ \xe8y\xe0 p\xedp\xedn ti ${c.divisor}`;case"unrecognized_keys":return`Bọt\xecn\xec \xe0\xecmọ̀: ${y(c.keys,", ")}`;case"invalid_key":return`Bọt\xecn\xec aṣ\xecṣe n\xedn\xfa ${c.origin}`;case"invalid_union":default:return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣ\xecṣe n\xedn\xfa ${c.origin}`}})}},"zhCN",0,function(){let a,b;return{localeError:(a={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}},b={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"},c=>{switch(c.code){case"invalid_type":return`无效输入：期望 ${c.expected}，实际接收 ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"非数字(NaN)":"数字";case"object":if(Array.isArray(a))return"数组";if(null===a)return"空值(null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`无效输入：期望 ${_(c.values[0])}`;return`无效选项：期望以下之一 ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`数值过大：期望 ${c.origin??"值"} ${b}${c.maximum.toString()} ${d.unit??"个元素"}`;return`数值过大：期望 ${c.origin??"值"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`数值过小：期望 ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`数值过小：期望 ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`无效字符串：必须以 "${c.prefix}" 开头`;if("ends_with"===c.format)return`无效字符串：必须以 "${c.suffix}" 结尾`;if("includes"===c.format)return`无效字符串：必须包含 "${c.includes}"`;if("regex"===c.format)return`无效字符串：必须满足正则表达式 ${c.pattern}`;return`无效${b[c.format]??c.format}`;case"not_multiple_of":return`无效数字：必须是 ${c.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${y(c.keys,", ")}`;case"invalid_key":return`${c.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${c.origin} 中包含无效值(value)`;default:return`无效输入`}})}},"zhTW",0,function(){let a,b;return{localeError:(a={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}},b={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"},c=>{switch(c.code){case"invalid_type":return`無效的輸入值：預期為 ${c.expected}，但收到 ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`無效的輸入值：預期為 ${_(c.values[0])}`;return`無效的選項：預期為以下其中之一 ${y(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`數值過大：預期 ${c.origin??"值"} 應為 ${b}${c.maximum.toString()} ${d.unit??"個元素"}`;return`數值過大：預期 ${c.origin??"值"} 應為 ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`數值過小：預期 ${c.origin} 應為 ${b}${c.minimum.toString()} ${d.unit}`;return`數值過小：預期 ${c.origin} 應為 ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`無效的字串：必須以 "${c.prefix}" 開頭`;if("ends_with"===c.format)return`無效的字串：必須以 "${c.suffix}" 結尾`;if("includes"===c.format)return`無效的字串：必須包含 "${c.includes}"`;if("regex"===c.format)return`無效的字串：必須符合格式 ${c.pattern}`;return`無效的 ${b[c.format]??c.format}`;case"not_multiple_of":return`無效的數字：必須為 ${c.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${c.keys.length>1?"們":""}：${y(c.keys,"、")}`;case"invalid_key":return`${c.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${c.origin} 中有無效的值`;default:return`無效的輸入值`}})}}],31238);var jN=a.i(31238);a.i(64166),a.i(66004),a.i(63571),a.i(76403);var jO=a.i(95288);a.s(["$ZodAny",0,cR,"$ZodArray",0,cX,"$ZodAsyncError",()=>o,"$ZodBase64",0,cC,"$ZodBase64URL",0,cE,"$ZodBigInt",0,cM,"$ZodBigIntFormat",0,cN,"$ZodBoolean",0,cL,"$ZodCIDRv4",0,cz,"$ZodCIDRv6",0,cA,"$ZodCUID",0,cn,"$ZodCUID2",0,co,"$ZodCatch",0,dr,"$ZodCheck",0,bQ,"$ZodCheckBigIntFormat",0,bW,"$ZodCheckEndsWith",0,b7,"$ZodCheckGreaterThan",0,bT,"$ZodCheckIncludes",0,b5,"$ZodCheckLengthEquals",0,b0,"$ZodCheckLessThan",0,bS,"$ZodCheckLowerCase",0,b3,"$ZodCheckMaxLength",0,b$,"$ZodCheckMaxSize",0,bX,"$ZodCheckMimeType",0,ca,"$ZodCheckMinLength",0,b_,"$ZodCheckMinSize",0,bY,"$ZodCheckMultipleOf",0,bU,"$ZodCheckNumberFormat",0,bV,"$ZodCheckOverwrite",0,cb,"$ZodCheckProperty",0,b9,"$ZodCheckRegex",0,b2,"$ZodCheckSizeEquals",0,bZ,"$ZodCheckStartsWith",0,b6,"$ZodCheckStringFormat",0,b1,"$ZodCheckUpperCase",0,b4,"$ZodCodec",0,dv,"$ZodCustom",0,dE,"$ZodCustomStringFormat",0,cI,"$ZodDate",0,cV,"$ZodDefault",0,dk,"$ZodDiscriminatedUnion",0,c3,"$ZodE164",0,cF,"$ZodEmail",0,cj,"$ZodEmoji",0,cl,"$ZodEncodeError",()=>p,"$ZodEnum",0,dd,"$ZodError",0,aA,"$ZodFile",0,df,"$ZodFunction",0,dB,"$ZodGUID",0,ch,"$ZodIPv4",0,cw,"$ZodIPv6",0,cx,"$ZodISODate",0,ct,"$ZodISODateTime",0,cs,"$ZodISODuration",0,cv,"$ZodISOTime",0,cu,"$ZodIntersection",0,c4,"$ZodJWT",0,cH,"$ZodKSUID",0,cr,"$ZodLazy",0,dD,"$ZodLiteral",0,de,"$ZodMAC",0,cy,"$ZodMap",0,c9,"$ZodNaN",0,ds,"$ZodNanoID",0,cm,"$ZodNever",0,cT,"$ZodNonOptional",0,dn,"$ZodNull",0,cQ,"$ZodNullable",0,dj,"$ZodNumber",0,cJ,"$ZodNumberFormat",0,cK,"$ZodObject",0,c_,"$ZodObjectJIT",0,c0,"$ZodOptional",0,di,"$ZodPipe",0,dt,"$ZodPrefault",0,dm,"$ZodPromise",0,dC,"$ZodReadonly",0,dy,"$ZodRealError",0,aB,"$ZodRecord",0,c8,"$ZodRegistry",()=>dQ,"$ZodSet",0,db,"$ZodString",0,cf,"$ZodStringFormat",0,cg,"$ZodSuccess",0,dq,"$ZodSymbol",0,cO,"$ZodTemplateLiteral",0,dA,"$ZodTransform",0,dg,"$ZodTuple",0,c6,"$ZodType",0,ce,"$ZodULID",0,cp,"$ZodURL",0,ck,"$ZodUUID",0,ci,"$ZodUndefined",0,cP,"$ZodUnion",0,c2,"$ZodUnknown",0,cS,"$ZodVoid",0,cU,"$ZodXID",0,cq,"$brand",0,n,"$constructor",()=>m,"$input",0,dP,"$output",0,dO,"Doc",()=>cc,"JSONSchema",0,jO,"JSONSchemaGenerator",()=>fF,"NEVER",0,l,"TimePrecision",0,eg,"_any",()=>eB,"_array",()=>e9,"_base64",()=>ec,"_base64url",()=>ed,"_bigint",()=>eu,"_boolean",()=>es,"_catch",()=>fr,"_check",()=>fA,"_cidrv4",()=>ea,"_cidrv6",()=>eb,"_coercedBigint",()=>ev,"_coercedBoolean",()=>et,"_coercedDate",()=>eG,"_coercedNumber",()=>em,"_coercedString",()=>dU,"_cuid",()=>d2,"_cuid2",()=>d3,"_custom",()=>fx,"_date",()=>eF,"_decode",0,aR,"_decodeAsync",0,aV,"_default",()=>fo,"_discriminatedUnion",()=>fb,"_e164",()=>ee,"_email",()=>dV,"_emoji",()=>d0,"_encode",0,aP,"_encodeAsync",0,aT,"_endsWith",()=>e0,"_enum",()=>fh,"_file",()=>fk,"_float32",()=>eo,"_float64",()=>ep,"_gt",()=>eK,"_gte",()=>eL,"_guid",()=>dW,"_includes",()=>e$,"_int",()=>en,"_int32",()=>eq,"_int64",()=>ew,"_intersection",()=>fc,"_ipv4",()=>d7,"_ipv6",()=>d8,"_isoDate",()=>ei,"_isoDateTime",()=>eh,"_isoDuration",()=>ek,"_isoTime",()=>ej,"_jwt",()=>ef,"_ksuid",()=>d6,"_lazy",()=>fv,"_length",()=>eW,"_literal",()=>fj,"_lowercase",()=>eY,"_lt",()=>eI,"_lte",()=>eJ,"_mac",()=>d9,"_map",()=>ff,"_max",()=>eJ,"_maxLength",()=>eU,"_maxSize",()=>eR,"_mime",()=>e2,"_min",()=>eL,"_minLength",()=>eV,"_minSize",()=>eS,"_multipleOf",()=>eQ,"_nan",()=>eH,"_nanoid",()=>d1,"_nativeEnum",()=>fi,"_negative",()=>eN,"_never",()=>eD,"_nonnegative",()=>eP,"_nonoptional",()=>fp,"_nonpositive",()=>eO,"_normalize",()=>e4,"_null",()=>eA,"_nullable",()=>fn,"_number",()=>el,"_optional",()=>fm,"_overwrite",()=>e3,"_parse",0,aH,"_parseAsync",0,aJ,"_pipe",()=>fs,"_positive",()=>eM,"_promise",()=>fw,"_property",()=>e1,"_readonly",()=>ft,"_record",()=>fe,"_refine",()=>fy,"_regex",()=>eX,"_safeDecode",0,aZ,"_safeDecodeAsync",0,a1,"_safeEncode",0,aX,"_safeEncodeAsync",0,a_,"_safeParse",0,aL,"_safeParseAsync",0,aN,"_set",()=>fg,"_size",()=>eT,"_slugify",()=>e8,"_startsWith",()=>e_,"_string",()=>dT,"_stringFormat",()=>fE,"_stringbool",()=>fD,"_success",()=>fq,"_superRefine",()=>fz,"_symbol",()=>ey,"_templateLiteral",()=>fu,"_toLowerCase",()=>e6,"_toUpperCase",()=>e7,"_transform",()=>fl,"_trim",()=>e5,"_tuple",()=>fd,"_uint32",()=>er,"_uint64",()=>ex,"_ulid",()=>d4,"_undefined",()=>ez,"_union",()=>fa,"_unknown",()=>eC,"_uppercase",()=>eZ,"_url",()=>d_,"_uuid",()=>dX,"_uuidv4",()=>dY,"_uuidv6",()=>dZ,"_uuidv7",()=>d$,"_void",()=>eE,"_xid",()=>d5,"clone",()=>Y,"config",()=>r,"decode",0,aS,"decodeAsync",0,aW,"describe",()=>fB,"encode",0,aQ,"encodeAsync",0,aU,"flattenError",()=>aC,"formatError",()=>aD,"globalConfig",0,q,"globalRegistry",0,dS,"isValidBase64",()=>cB,"isValidBase64URL",()=>cD,"isValidJWT",()=>cG,"locales",0,jN,"meta",()=>fC,"parse",0,aI,"parseAsync",0,aK,"prettifyError",()=>aG,"regexes",0,jM,"registry",()=>dR,"safeDecode",0,a$,"safeDecodeAsync",0,a2,"safeEncode",0,aY,"safeEncodeAsync",0,a0,"safeParse",0,aM,"safeParseAsync",0,aO,"toDotPath",()=>aF,"toJSONSchema",()=>fG,"treeifyError",()=>aE,"util",0,jL,"version",0,cd],29642);var jP=a.i(29642);a.i(94219),a.i(88476),a.s(["endsWith",()=>e0,"gt",()=>eK,"gte",()=>eL,"includes",()=>e$,"length",()=>eW,"lowercase",()=>eY,"lt",()=>eI,"lte",()=>eJ,"maxLength",()=>eU,"maxSize",()=>eR,"mime",()=>e2,"minLength",()=>eV,"minSize",()=>eS,"multipleOf",()=>eQ,"negative",()=>eN,"nonnegative",()=>eP,"nonpositive",()=>eO,"normalize",()=>e4,"overwrite",()=>e3,"positive",()=>eM,"property",()=>e1,"regex",()=>eX,"size",()=>eT,"slugify",()=>e8,"startsWith",()=>e_,"toLowerCase",()=>e6,"toUpperCase",()=>e7,"trim",()=>e5,"uppercase",()=>eZ],54375),a.i(54375),a.i(75160),a.i(73590),a.i(58277),a.s(["$brand",0,n,"ZodFirstPartyTypeKind",()=>fJ,"ZodIssueCode",0,jD,"config",()=>r,"getErrorMap",()=>jF,"setErrorMap",()=>jE],29126),a.i(29126);var fK=fK,fL=fL,jQ=a.i(18850),jR=a.i(58483);a.s(["$brand",0,n,"$input",0,dP,"$output",0,dO,"NEVER",0,l,"TimePrecision",0,eg,"ZodAny",0,hi,"ZodArray",0,hs,"ZodBase64",0,gM,"ZodBase64URL",0,gO,"ZodBigInt",0,g7,"ZodBigIntFormat",0,g9,"ZodBoolean",0,g5,"ZodCIDRv4",0,gI,"ZodCIDRv6",0,gK,"ZodCUID",0,gs,"ZodCUID2",0,gu,"ZodCatch",0,h8,"ZodCodec",0,ie,"ZodCustom",0,is,"ZodCustomStringFormat",0,gU,"ZodDate",0,hq,"ZodDefault",0,h0,"ZodDiscriminatedUnion",0,hB,"ZodE164",0,gQ,"ZodEmail",0,gc,"ZodEmoji",0,go,"ZodEnum",0,hO,"ZodError",0,fV,"ZodFile",0,hT,"ZodFirstPartyTypeKind",()=>fJ,"ZodFunction",0,iq,"ZodGUID",0,ge,"ZodIPv4",0,gC,"ZodIPv6",0,gG,"ZodISODate",0,fO,"ZodISODateTime",0,fM,"ZodISODuration",0,fS,"ZodISOTime",0,fQ,"ZodIntersection",0,hD,"ZodIssueCode",0,jD,"ZodJWT",0,gS,"ZodKSUID",0,gA,"ZodLazy",0,il,"ZodLiteral",0,hR,"ZodMAC",0,gE,"ZodMap",0,hK,"ZodNaN",0,ia,"ZodNanoID",0,gq,"ZodNever",0,hm,"ZodNonOptional",0,h4,"ZodNull",0,hg,"ZodNullable",0,hZ,"ZodNumber",0,gZ,"ZodNumberFormat",0,g_,"ZodObject",0,hv,"ZodOptional",0,hX,"ZodPipe",0,ic,"ZodPrefault",0,h2,"ZodPromise",0,io,"ZodReadonly",0,ih,"ZodRealError",0,fW,"ZodRecord",0,hH,"ZodSet",0,hM,"ZodString",0,f9,"ZodStringFormat",0,gb,"ZodSuccess",0,h6,"ZodSymbol",0,hc,"ZodTemplateLiteral",0,ij,"ZodTransform",0,hV,"ZodTuple",0,hF,"ZodType",0,f7,"ZodULID",0,gw,"ZodURL",0,gl,"ZodUUID",0,gg,"ZodUndefined",0,he,"ZodUnion",0,hz,"ZodUnknown",0,hk,"ZodVoid",0,ho,"ZodXID",0,gy,"_ZodString",0,f8,"_default",()=>h1,"_function",()=>ir,"any",()=>hj,"array",()=>ht,"base64",()=>gN,"base64url",()=>gP,"bigint",()=>g8,"boolean",()=>g6,"catch",()=>h9,"check",()=>it,"cidrv4",()=>gJ,"cidrv6",()=>gL,"clone",()=>Y,"codec",()=>ig,"coerce",0,jR,"config",()=>r,"core",0,jP,"cuid",()=>gt,"cuid2",()=>gv,"custom",()=>iu,"date",()=>hr,"decode",0,f0,"decodeAsync",0,f2,"describe",0,ix,"discriminatedUnion",()=>hC,"e164",()=>gR,"email",()=>gd,"emoji",()=>gp,"encode",0,f_,"encodeAsync",0,f1,"endsWith",()=>e0,"enum",()=>hP,"file",()=>hU,"flattenError",()=>aC,"float32",()=>g1,"float64",()=>g2,"formatError",()=>aD,"function",()=>ir,"getErrorMap",()=>jF,"globalRegistry",0,dS,"gt",()=>eK,"gte",()=>eL,"guid",()=>gf,"hash",()=>gY,"hex",()=>gX,"hostname",()=>gW,"httpUrl",()=>gn,"includes",()=>e$,"instanceof",()=>iz,"int",()=>g0,"int32",()=>g3,"int64",()=>ha,"intersection",()=>hE,"ipv4",()=>gD,"ipv6",()=>gH,"iso",0,jQ,"json",()=>iB,"jwt",()=>gT,"keyof",()=>hu,"ksuid",()=>gB,"lazy",()=>im,"length",()=>eW,"literal",()=>hS,"locales",0,jN,"looseObject",()=>hy,"lowercase",()=>eY,"lt",()=>eI,"lte",()=>eJ,"mac",()=>gF,"map",()=>hL,"maxLength",()=>eU,"maxSize",()=>eR,"meta",0,iy,"mime",()=>e2,"minLength",()=>eV,"minSize",()=>eS,"multipleOf",()=>eQ,"nan",()=>ib,"nanoid",()=>gr,"nativeEnum",()=>hQ,"negative",()=>eN,"never",()=>hn,"nonnegative",()=>eP,"nonoptional",()=>h5,"nonpositive",()=>eO,"normalize",()=>e4,"null",()=>hh,"nullable",()=>h$,"nullish",()=>h_,"number",()=>g$,"object",()=>hw,"optional",()=>hY,"overwrite",()=>e3,"parse",0,fX,"parseAsync",0,fY,"partialRecord",()=>hJ,"pipe",()=>id,"positive",()=>eM,"prefault",()=>h3,"preprocess",()=>iC,"prettifyError",()=>aG,"promise",()=>ip,"property",()=>e1,"readonly",()=>ii,"record",()=>hI,"refine",()=>iv,"regex",()=>eX,"regexes",()=>fK,"registry",()=>dR,"safeDecode",0,f4,"safeDecodeAsync",0,f6,"safeEncode",0,f3,"safeEncodeAsync",0,f5,"safeParse",0,fZ,"safeParseAsync",0,f$,"set",()=>hN,"setErrorMap",()=>jE,"size",()=>eT,"slugify",()=>e8,"startsWith",()=>e_,"strictObject",()=>hx,"string",()=>ga,"stringFormat",()=>gV,"stringbool",0,iA,"success",()=>h7,"superRefine",()=>iw,"symbol",()=>hd,"templateLiteral",()=>ik,"toJSONSchema",()=>fG,"toLowerCase",()=>e6,"toUpperCase",()=>e7,"transform",()=>hW,"treeifyError",()=>aE,"trim",()=>e5,"tuple",()=>hG,"uint32",()=>g4,"uint64",()=>hb,"ulid",()=>gx,"undefined",()=>hf,"union",()=>hA,"unknown",()=>hl,"uppercase",()=>eZ,"url",()=>gm,"util",()=>fL,"uuid",()=>gh,"uuidv4",()=>gi,"uuidv6",()=>gj,"uuidv7",()=>gk,"void",()=>hp,"xid",()=>gz],54757);var jS=a.i(56771);a.s([],12793);var jT=jS;a.s(["safeJSONParse",()=>jT.n],37937),a.i(91511);var jU=a.i(58);function jV(a){return a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function jW(a,b,c){let d="",e=0,f=0;for(let c of a)for(e=e<<8|c,f+=8;f>=6;)f-=6,d+=b[e>>f&63];if(f>0&&(d+=b[e<<6-f&63]),c){let a=(4-d.length%4)%4;d+="=".repeat(a)}return d}function jX(a,b){let c=new Map;for(let a=0;a<b.length;a++)c.set(b[a],a);let d=[],e=0,f=0;for(let b of a){if("="===b)break;let a=c.get(b);if(void 0===a)throw Error(`Invalid Base64 character: ${b}`);e=e<<6|a,(f+=6)>=8&&(f-=8,d.push(e>>f&255))}return Uint8Array.from(d)}let jY={encode(a,b={}){let c=jV(!1);return jW("string"==typeof a?new TextEncoder().encode(a):new Uint8Array(a),c,b.padding??!0)},decode(a){"string"!=typeof a&&(a=new TextDecoder().decode(a));let b=jV(a.includes("-")||a.includes("_"));return jX(a,b)}},jZ={encode(a,b={}){let c=jV(!0);return jW("string"==typeof a?new TextEncoder().encode(a):new Uint8Array(a),c,b.padding??!0)},decode(a){let b=jV(a.includes("-")||a.includes("_"));return jX(a,b)}};function j$(a,b){return{digest:async c=>{let d=new TextEncoder,e="string"==typeof c?d.encode(c):c,g=await f().digest(a,e);return"hex"===b?Array.from(new Uint8Array(g)).map(a=>a.toString(16).padStart(2,"0")).join(""):"base64"===b||"base64url"===b||"base64urlnopad"===b?b.includes("url")?jZ.encode(g,{padding:"base64urlnopad"!==b}):jY.encode(g):g}}}function j_(a){if("boolean"!=typeof a)throw Error(`boolean expected, not ${a}`)}function j0(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function j1(a,b,c=""){let d=a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name,e=a?.length,f=void 0!==b;if(!d||f&&e!==b)throw Error((c&&`"${c}" `)+"expected Uint8Array"+(f?` of length ${b}`:"")+", got "+(d?`length=${e}`:`type=${typeof a}`));return a}function j2(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function j3(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function j4(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}a.s(["base64",()=>jY,"base64Url",()=>jZ],694),a.s(["createHash",()=>j$],99685);let j5=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],j6="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,j7=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function j8(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function j9(a,b,c=!0){if(void 0===b)return new Uint8Array(a);if(b.length!==a)throw Error('"output" expected Uint8Array of length '+a+", got: "+b.length);if(c&&b.byteOffset%4!=0)throw Error("invalid output, must be aligned");return b}function ka(a){return Uint8Array.from(a)}function kb(a=32){let b="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof b?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return b.getRandomValues(new Uint8Array(a))}function kc(a,b=kb){let{nonceLength:c}=a;j0(c);let d=(a,b)=>{let c=function(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];j1(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}(a,b);return b.fill(0),c};return(e,...f)=>({encrypt(g){j1(g);let h=b(c),i=a(e,h,...f).encrypt(g);return i instanceof Promise?i.then(a=>d(h,a)):d(h,i)},decrypt(b){j1(b);let d=b.subarray(0,c),g=b.subarray(c);return a(e,d,...f).decrypt(g)}})}let kd=a=>Uint8Array.from(a.split(""),a=>a.charCodeAt(0)),ke=kd("expand 16-byte k"),kf=kd("expand 32-byte k"),kg=j3(ke),kh=j3(kf);function ki(a,b){return a<<b|a>>>32-b}function kj(a){return a.byteOffset%4==0}let kk=0x100000000-1,kl=Uint32Array.of();function km(a,b){let{allowShortKeys:c,extendNonceFn:d,counterLength:e,counterRight:f,rounds:g}=function(a,b){if(null==b||"object"!=typeof b)throw Error("options must be defined");return Object.assign(a,b)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},b);if("function"!=typeof a)throw Error("core must be a function");return j0(e),j0(g),j_(f),j_(c),(b,h,i,j,k=0)=>{let l,m;j1(b,void 0,"key"),j1(h,void 0,"nonce"),j1(i,void 0,"data");let n=i.length;if(void 0===j&&(j=new Uint8Array(n)),j1(j,void 0,"output"),j0(k),k<0||k>=kk)throw Error("arx: counter overflow");if(j.length<n)throw Error(`arx: output (${j.length}) is shorter than data (${n})`);let o=[],p=b.length;if(32===p)o.push(l=ka(b)),m=kh;else if(16===p&&c)(l=new Uint8Array(32)).set(b),l.set(b,16),m=kg,o.push(l);else throw j1(b,32,"arx key"),Error("invalid key size");kj(h)||o.push(h=ka(h));let q=j3(l);if(d){if(24!==h.length)throw Error("arx: extended nonce must be 24 bytes");d(m,q,j3(h.subarray(0,16)),q),h=h.subarray(16)}let r=16-e;if(r!==h.length)throw Error(`arx: nonce must be ${r} or 16 bytes`);if(12!==r){let a=new Uint8Array(12);a.set(h,f?0:12-h.length),h=a,o.push(h)}return!function(a,b,c,d,e,f,g,h){let i=e.length,j=new Uint8Array(64),k=j3(j),l=kj(e)&&kj(f),m=l?j3(e):kl,n=l?j3(f):kl;for(let o=0;o<i;g++){if(a(b,c,d,k,g,h),g>=kk)throw Error("arx: counter overflow");let p=Math.min(64,i-o);if(l&&64===p){let a=o/4;if(o%4!=0)throw Error("arx: invalid block position");for(let b=0,c;b<16;b++)n[c=a+b]=m[c]^k[b];o+=64;continue}for(let a=0,b;a<p;a++)f[b=o+a]=e[b]^j[a];o+=p}}(a,m,q,j3(h),i,j,k,g),j4(...o),j}}function kn(a,b){return 255&a[b++]|(255&a[b++])<<8}class ko{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(a){const b=kn(a=ka(j1(a,32,"key")),0),c=kn(a,2),d=kn(a,4),e=kn(a,6),f=kn(a,8),g=kn(a,10),h=kn(a,12),i=kn(a,14);this.r[0]=8191&b,this.r[1]=(b>>>13|c<<3)&8191,this.r[2]=(c>>>10|d<<6)&7939,this.r[3]=(d>>>7|e<<9)&8191,this.r[4]=(e>>>4|f<<12)&255,this.r[5]=f>>>1&8190,this.r[6]=(f>>>14|g<<2)&8191,this.r[7]=(g>>>11|h<<5)&8065,this.r[8]=(h>>>8|i<<8)&8191,this.r[9]=i>>>5&127;for(let b=0;b<8;b++)this.pad[b]=kn(a,16+2*b)}process(a,b,c=!1){let{h:d,r:e}=this,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],n=e[8],o=e[9],p=kn(a,b+0),q=kn(a,b+2),r=kn(a,b+4),s=kn(a,b+6),t=kn(a,b+8),u=kn(a,b+10),v=kn(a,b+12),w=kn(a,b+14),x=d[0]+(8191&p),y=d[1]+((p>>>13|q<<3)&8191),z=d[2]+((q>>>10|r<<6)&8191),A=d[3]+((r>>>7|s<<9)&8191),B=d[4]+((s>>>4|t<<12)&8191),C=d[5]+(t>>>1&8191),D=d[6]+((t>>>14|u<<2)&8191),E=d[7]+((u>>>11|v<<5)&8191),F=d[8]+((v>>>8|w<<8)&8191),G=d[9]+(w>>>5|2048*!c),H=0,I=0+x*f+5*o*y+5*n*z+5*m*A+5*l*B;H=I>>>13,I&=8191,I+=5*k*C+5*j*D+5*i*E+5*h*F+5*g*G,H+=I>>>13,I&=8191;let J=H+x*g+y*f+5*o*z+5*n*A+5*m*B;H=J>>>13,J&=8191,J+=5*l*C+5*k*D+5*j*E+5*i*F+5*h*G,H+=J>>>13,J&=8191;let K=H+x*h+y*g+z*f+5*o*A+5*n*B;H=K>>>13,K&=8191,K+=5*m*C+5*l*D+5*k*E+5*j*F+5*i*G,H+=K>>>13,K&=8191;let L=H+x*i+y*h+z*g+A*f+5*o*B;H=L>>>13,L&=8191,L+=5*n*C+5*m*D+5*l*E+5*k*F+5*j*G,H+=L>>>13,L&=8191;let M=H+x*j+y*i+z*h+A*g+B*f;H=M>>>13,M&=8191,M+=5*o*C+5*n*D+5*m*E+5*l*F+5*k*G,H+=M>>>13,M&=8191;let N=H+x*k+y*j+z*i+A*h+B*g;H=N>>>13,N&=8191,N+=C*f+5*o*D+5*n*E+5*m*F+5*l*G,H+=N>>>13,N&=8191;let O=H+x*l+y*k+z*j+A*i+B*h;H=O>>>13,O&=8191,O+=C*g+D*f+5*o*E+5*n*F+5*m*G,H+=O>>>13,O&=8191;let P=H+x*m+y*l+z*k+A*j+B*i;H=P>>>13,P&=8191,P+=C*h+D*g+E*f+5*o*F+5*n*G,H+=P>>>13,P&=8191;let Q=H+x*n+y*m+z*l+A*k+B*j;H=Q>>>13,Q&=8191,Q+=C*i+D*h+E*g+F*f+5*o*G,H+=Q>>>13,Q&=8191;let R=H+x*o+y*n+z*m+A*l+B*k;H=R>>>13,R&=8191,R+=C*j+D*i+E*h+F*g+G*f,H+=R>>>13,R&=8191,I=8191&(H=(H=(H<<2)+H|0)+I|0),H>>>=13,J+=H,d[0]=I,d[1]=J,d[2]=K,d[3]=L,d[4]=M,d[5]=N,d[6]=O,d[7]=P,d[8]=Q,d[9]=R}finalize(){let{h:a,pad:b}=this,c=new Uint16Array(10),d=a[1]>>>13;a[1]&=8191;for(let b=2;b<10;b++)a[b]+=d,d=a[b]>>>13,a[b]&=8191;a[0]+=5*d,d=a[0]>>>13,a[0]&=8191,a[1]+=d,d=a[1]>>>13,a[1]&=8191,a[2]+=d,c[0]=a[0]+5,d=c[0]>>>13,c[0]&=8191;for(let b=1;b<10;b++)c[b]=a[b]+d,d=c[b]>>>13,c[b]&=8191;c[9]-=8192;let e=(1^d)-1;for(let a=0;a<10;a++)c[a]&=e;e=~e;for(let b=0;b<10;b++)a[b]=a[b]&e|c[b];a[0]=(a[0]|a[1]<<13)&65535,a[1]=(a[1]>>>3|a[2]<<10)&65535,a[2]=(a[2]>>>6|a[3]<<7)&65535,a[3]=(a[3]>>>9|a[4]<<4)&65535,a[4]=(a[4]>>>12|a[5]<<1|a[6]<<14)&65535,a[5]=(a[6]>>>2|a[7]<<11)&65535,a[6]=(a[7]>>>5|a[8]<<8)&65535,a[7]=(a[8]>>>8|a[9]<<5)&65535;let f=a[0]+b[0];a[0]=65535&f;for(let c=1;c<8;c++)f=(a[c]+b[c]|0)+(f>>>16)|0,a[c]=65535&f;j4(c)}update(a){j2(this),j1(a);let{buffer:b,blockLen:c}=this,d=(a=ka(a)).length;for(let e=0;e<d;){let f=Math.min(c-this.pos,d-e);if(f===c){for(;c<=d-e;e+=c)this.process(a,e);continue}b.set(a.subarray(e,e+f),this.pos),this.pos+=f,e+=f,this.pos===c&&(this.process(b,0,!1),this.pos=0)}return this}destroy(){j4(this.h,this.r,this.buffer,this.pad)}digestInto(a){j2(this);j1(a,void 0,"output");let b=this.outputLen;if(a.length<b)throw Error("digestInto() expects output buffer of length at least "+b);this.finished=!0;let{buffer:c,h:d}=this,{pos:e}=this;if(e){for(c[e++]=1;e<16;e++)c[e]=0;this.process(c,0,!0)}this.finalize();let f=0;for(let b=0;b<8;b++)a[f++]=d[b]>>>0,a[f++]=d[b]>>>8;return a}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}}let kp=(fH=a=>new ko(a),(d=(a,b)=>fH(b).update(a).digest()).outputLen=(e=fH(new Uint8Array(32))).outputLen,d.blockLen=e.blockLen,d.create=a=>fH(a),d);function kq(a,b,c,d,e,f=20){let g=a[0],h=a[1],i=a[2],j=a[3],k=b[0],l=b[1],m=b[2],n=b[3],o=b[4],p=b[5],q=b[6],r=b[7],s=c[0],t=c[1],u=c[2],v=g,w=h,x=i,y=j,z=k,A=l,B=m,C=n,D=o,E=p,F=q,G=r,H=e,I=s,J=t,K=u;for(let a=0;a<f;a+=2)D=D+(H=ki(H^(v=v+z|0),16))|0,v=v+(z=ki(z^D,12))|0,D=D+(H=ki(H^v,8))|0,z=ki(z^D,7),E=E+(I=ki(I^(w=w+A|0),16))|0,w=w+(A=ki(A^E,12))|0,E=E+(I=ki(I^w,8))|0,A=ki(A^E,7),F=F+(J=ki(J^(x=x+B|0),16))|0,x=x+(B=ki(B^F,12))|0,F=F+(J=ki(J^x,8))|0,B=ki(B^F,7),G=G+(K=ki(K^(y=y+C|0),16))|0,y=y+(C=ki(C^G,12))|0,G=G+(K=ki(K^y,8))|0,C=ki(C^G,7),F=F+(K=ki(K^(v=v+A|0),16))|0,v=v+(A=ki(A^F,12))|0,F=F+(K=ki(K^v,8))|0,A=ki(A^F,7),G=G+(H=ki(H^(w=w+B|0),16))|0,w=w+(B=ki(B^G,12))|0,G=G+(H=ki(H^w,8))|0,B=ki(B^G,7),D=D+(I=ki(I^(x=x+C|0),16))|0,x=x+(C=ki(C^D,12))|0,D=D+(I=ki(I^x,8))|0,C=ki(C^D,7),E=E+(J=ki(J^(y=y+z|0),16))|0,y=y+(z=ki(z^E,12))|0,E=E+(J=ki(J^y,8))|0,z=ki(z^E,7);let L=0;d[L++]=g+v|0,d[L++]=h+w|0,d[L++]=i+x|0,d[L++]=j+y|0,d[L++]=k+z|0,d[L++]=l+A|0,d[L++]=m+B|0,d[L++]=n+C|0,d[L++]=o+D|0,d[L++]=p+E|0,d[L++]=q+F|0,d[L++]=r+G|0,d[L++]=e+H|0,d[L++]=s+I|0,d[L++]=t+J|0,d[L++]=u+K|0}let kr=km(kq,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ks=km(kq,{counterRight:!1,counterLength:8,extendNonceFn:function(a,b,c,d){let e=a[0],f=a[1],g=a[2],h=a[3],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],q=c[0],r=c[1],s=c[2],t=c[3];for(let a=0;a<20;a+=2)m=m+(q=ki(q^(e=e+i|0),16))|0,e=e+(i=ki(i^m,12))|0,m=m+(q=ki(q^e,8))|0,i=ki(i^m,7),n=n+(r=ki(r^(f=f+j|0),16))|0,f=f+(j=ki(j^n,12))|0,n=n+(r=ki(r^f,8))|0,j=ki(j^n,7),o=o+(s=ki(s^(g=g+k|0),16))|0,g=g+(k=ki(k^o,12))|0,o=o+(s=ki(s^g,8))|0,k=ki(k^o,7),p=p+(t=ki(t^(h=h+l|0),16))|0,h=h+(l=ki(l^p,12))|0,p=p+(t=ki(t^h,8))|0,l=ki(l^p,7),o=o+(t=ki(t^(e=e+j|0),16))|0,e=e+(j=ki(j^o,12))|0,o=o+(t=ki(t^e,8))|0,j=ki(j^o,7),p=p+(q=ki(q^(f=f+k|0),16))|0,f=f+(k=ki(k^p,12))|0,p=p+(q=ki(q^f,8))|0,k=ki(k^p,7),m=m+(r=ki(r^(g=g+l|0),16))|0,g=g+(l=ki(l^m,12))|0,m=m+(r=ki(r^g,8))|0,l=ki(l^m,7),n=n+(s=ki(s^(h=h+i|0),16))|0,h=h+(i=ki(i^n,12))|0,n=n+(s=ki(s^h,8))|0,i=ki(i^n,7);let u=0;d[u++]=e,d[u++]=f,d[u++]=g,d[u++]=h,d[u++]=q,d[u++]=r,d[u++]=s,d[u++]=t},allowShortKeys:!1}),kt=new Uint8Array(16),ku=(a,b)=>{a.update(b);let c=b.length%16;c&&a.update(kt.subarray(c))},kv=new Uint8Array(32);function kw(a,b,c,d,e){var f,g;let h,i;void 0!==e&&j1(e,void 0,"AAD");let j=a(b,c,kv),k=(f=d.length,g=e?e.length:0,j_(!0),(i=new DataView((h=new Uint8Array(16)).buffer,h.byteOffset,h.byteLength)).setBigUint64(0,BigInt(g),!0),i.setBigUint64(8,BigInt(f),!0),h),l=kp.create(j);e&&ku(l,e),ku(l,d),l.update(k);let m=l.digest();return j4(j,k),m}let kx=a=>(b,c,d)=>({encrypt(e,f){let g=e.length;(f=j9(g+16,f,!1)).set(e);let h=f.subarray(0,-16);a(b,c,h,h,1);let i=kw(a,b,c,h,d);return f.set(i,g),j4(i),f},decrypt(e,f){f=j9(e.length-16,f,!1);let g=e.subarray(0,-16),h=e.subarray(-16),i=kw(a,b,c,g,d);if(!function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}(h,i))throw Error("invalid tag");return f.set(e.subarray(0,-16)),a(b,c,f,f,1),j4(i),f}});kx(kr);let ky=((a,b)=>{function c(d,...e){if(j1(d,void 0,"key"),!j5)throw Error("Non little-endian hardware is not yet supported");void 0!==a.nonceLength&&j1(e[0],a.varSizeNonce?void 0:a.nonceLength,"nonce");let f=a.tagLength;f&&void 0!==e[1]&&j1(e[1],void 0,"AAD");let g=b(d,...e),h=(a,b)=>{if(void 0!==b){if(2!==a)throw Error("cipher output not supported");j1(b,void 0,"output")}},i=!1;return{encrypt(a,b){if(i)throw Error("cannot encrypt() twice with same key + nonce");return i=!0,j1(a),h(g.encrypt.length,b),g.encrypt(a,b)},decrypt(a,b){if(j1(a),f&&a.length<f)throw Error('"ciphertext" expected length bigger than tagLength='+f);return h(g.decrypt.length,b),g.decrypt(a,b)}}}return Object.assign(c,a),c})({blockSize:64,nonceLength:24,tagLength:16},kx(ks));function kz(a,b=""){if(!Number.isSafeInteger(a)||a<0){let c=b&&`"${b}" `;throw Error(`${c}expected integer >= 0, got ${a}`)}}function kA(a,b,c=""){let d=a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name,e=a?.length,f=void 0!==b;if(!d||f&&e!==b)throw Error((c&&`"${c}" `)+"expected Uint8Array"+(f?` of length ${b}`:"")+", got "+(d?`length=${e}`:`type=${typeof a}`));return a}function kB(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash must wrapped by utils.createHasher");kz(a.outputLen),kz(a.blockLen)}function kC(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function kD(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function kE(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}function kF(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function kG(a,b){return a<<32-b|a>>>b}function kH(a,b){return a<<b|a>>>32-b>>>0}let kI=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?a=>a:function(a){for(let c=0;c<a.length;c++){var b;a[c]=(b=a[c])<<24&0xff000000|b<<8&0xff0000|b>>>8&65280|b>>>24&255}return a},kJ="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex;function kK(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}let kL=async()=>{};async function kM(a,b,c){let d=Date.now();for(let e=0;e<a;e++){c(e);let a=Date.now()-d;a>=0&&a<b||(await kL(),d+=a)}}function kN(a,b=""){if("string"==typeof a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}return kA(a,void 0,b)}function kO(a,b){if(void 0!==b&&"[object Object]"!==({}).toString.call(b))throw Error("options must be object or undefined");return Object.assign(a,b)}class kP{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(a,b){if(kB(a),kA(b,void 0,"key"),this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,d=new Uint8Array(c);d.set(b.length>c?a.create().update(b).digest():b);for(let a=0;a<d.length;a++)d[a]^=54;this.iHash.update(d),this.oHash=a.create();for(let a=0;a<d.length;a++)d[a]^=106;this.oHash.update(d),kE(d)}update(a){return kC(this),this.iHash.update(a),this}digestInto(a){kC(this),kA(a,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||=Object.create(Object.getPrototypeOf(this),{});let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let kQ=(a,b,c)=>new kP(a,b).update(c).digest();kQ.create=(a,b)=>new kP(a,b);let kR=Uint8Array.of(0),kS=Uint8Array.of(),kT=(a,b,c,d,e)=>{var f;return function(a,b,c,d=32){kB(a),kz(d,"length");let e=a.outputLen;if(d>255*e)throw Error("Length must be <= 255*HashLen");let f=Math.ceil(d/e);void 0===c?c=kS:kA(c,void 0,"info");let g=new Uint8Array(f*e),h=kQ.create(a,b),i=h._cloneInto(),j=new Uint8Array(h.outputLen);for(let a=0;a<f;a++)kR[0]=a+1,i.update(0===a?kS:j).update(c).update(kR).digestInto(j),g.set(j,e*a),h._cloneInto(i);return h.destroy(),i.destroy(),kE(j,kR),g.slice(0,d)}(a,(f=c,kB(a),void 0===f&&(f=new Uint8Array(a.outputLen)),kQ(a,f,b)),d,e)};class kU{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(a,b,c,d){this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.buffer=new Uint8Array(a),this.view=kF(this.buffer)}update(a){kC(this),kA(a);let{view:b,buffer:c,blockLen:d}=this,e=a.length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=kF(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){kC(this);kA(a,void 0,"digestInto() output");let b=this.outputLen;if(a.length<b)throw Error('"digestInto() output" expected to be of length >='+b);this.finished=!0;let{buffer:c,view:d,blockLen:e,isLE:f}=this,{pos:g}=this;c[g++]=128,kE(this.buffer.subarray(g)),this.padOffset>e-g&&(this.process(d,0),g=0);for(let a=g;a<e;a++)c[a]=0;d.setBigUint64(e-8,BigInt(8*this.length),f),this.process(d,0);let h=kF(a),i=this.outputLen;if(i%4)throw Error("_sha2: outputLen must be aligned to 32bit");let j=i/4,k=this.get();if(j>k.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<j;a++)h.setUint32(4*a,k[a],f)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){(a||=new this.constructor).set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.destroyed=f,a.finished=e,a.length=d,a.pos=g,d%b&&a.buffer.set(c),a}clone(){return this._cloneInto()}}let kV=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),kW=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),kX=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),kY=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),kZ=BigInt(0x100000000-1),k$=BigInt(32),k_=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),k0=new Uint32Array(64);class k1 extends kU{constructor(a){super(64,a,8,!1)}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)k0[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=k0[a-15],c=k0[a-2],d=kG(b,7)^kG(b,18)^b>>>3,e=kG(c,17)^kG(c,19)^c>>>10;k0[a]=e+k0[a-7]+d+k0[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){var k,l,m,n;let b=j+(kG(g,6)^kG(g,11)^kG(g,25))+((k=g)&h^~k&i)+k_[a]+k0[a]|0,o=(kG(c,2)^kG(c,13)^kG(c,22))+((l=c)&(m=d)^l&(n=e)^m&n)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+o|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){kE(k0)}destroy(){this.set(0,0,0,0,0,0,0,0),kE(this.buffer)}}class k2 extends k1{A=0|kV[0];B=0|kV[1];C=0|kV[2];D=0|kV[3];E=0|kV[4];F=0|kV[5];G=0|kV[6];H=0|kV[7];constructor(){super(32)}}let k3=function(a,b=!1){let c=a.length,d=new Uint32Array(c),e=new Uint32Array(c);for(let f=0;f<c;f++){let{h:c,l:g}=function(a,b=!1){return b?{h:Number(a&kZ),l:Number(a>>k$&kZ)}:{h:0|Number(a>>k$&kZ),l:0|Number(a&kZ)}}(a[f],b);[d[f],e[f]]=[c,g]}return[d,e]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),k4=k3[0],k5=k3[1],k6=new Uint32Array(80),k7=new Uint32Array(80),k8=function(a,b={}){let c=(b,c)=>a(c).update(b).digest(),d=a(void 0);return c.outputLen=d.outputLen,c.blockLen=d.blockLen,c.create=b=>a(b),Object.assign(c,b),Object.freeze(c)}(()=>new k2,{oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,1])}),k9=new TextEncoder,la=new TextDecoder;function lb(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function lc(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function ld(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return lc(c,b,0),lc(c,a%0x100000000,4),c}function le(a){let b=new Uint8Array(4);return lc(b,a),b}function lf(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);if(d>127)throw TypeError("non-ASCII string encountered in encode()");b[c]=d}return b}function lg(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:la.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=la.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/");try{var c=b;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(c);let a=atob(c),d=new Uint8Array(a.length);for(let b=0;b<a.length;b++)d[b]=a.charCodeAt(b);return d}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function lh(a){let b=a;return("string"==typeof b&&(b=k9.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):(function(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=[];for(let c=0;c<a.length;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join(""))})(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}a.s(["concat",()=>lb,"decoder",0,la,"encode",()=>lf,"encoder",0,k9,"uint32be",()=>le,"uint64be",()=>ld],89822),a.s(["decode",()=>lg,"encode",()=>lh],9634);let li=Symbol();class lj extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class lk extends lj{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class ll extends lj{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class lm extends lj{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class ln extends lj{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class lo extends lj{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class lp extends lj{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class lq extends lj{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class lr extends lj{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class ls extends lj{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class lt extends lj{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class lu extends lj{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(a="no applicable key found in the JSON Web Key Set",b){super(a,b)}}class lv extends lj{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}class lw extends lj{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(a="request timed out",b){super(a,b)}}class lx extends lj{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(a="signature verification failed",b){super(a,b)}}function ly(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new ln(`Unsupported JWE Algorithm: ${a}`)}}function lz(a,b){if(b.length<<3!==ly(a))throw new lp("Invalid Initialization Vector length")}function lA(a,b){let c=a.byteLength<<3;if(c!==b)throw new lp(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)}a.s(["JOSEAlgNotAllowed",()=>lm,"JOSEError",()=>lj,"JOSENotSupported",()=>ln,"JWEDecryptionFailed",()=>lo,"JWEInvalid",()=>lp,"JWKInvalid",()=>ls,"JWKSInvalid",()=>lt,"JWKSMultipleMatchingKeys",()=>lv,"JWKSNoMatchingKey",()=>lu,"JWKSTimeout",()=>lw,"JWSInvalid",()=>lq,"JWSSignatureVerificationFailed",()=>lx,"JWTClaimValidationFailed",()=>lk,"JWTExpired",()=>ll,"JWTInvalid",()=>lr],72328);let lB=(a,b="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`);function lC(a){return parseInt(a.name.slice(4),10)}function lD(a,b){if(b&&!a.usages.includes(b))throw TypeError(`CryptoKey does not support this operation, its usages must include ${b}.`)}function lE(a,b,c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==a.algorithm.name)throw lB("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw lB(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==a.algorithm.name)throw lB("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw lB(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":break;default:throw lB("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==a.algorithm.name)throw lB("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==a.algorithm.name)throw lB("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(lC(a.algorithm.hash)!==c)throw lB(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}lD(a,c)}function lF(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let lG=(a,...b)=>lF("Key must be ",a,...b),lH=(a,b,...c)=>lF(`Key for the ${a} algorithm must be `,b,...c);function lI(a){if(!lJ(a))throw Error("CryptoKey instance expected")}let lJ=a=>{if(a?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return a instanceof CryptoKey}catch{return!1}},lK=a=>a?.[Symbol.toStringTag]==="KeyObject",lL=a=>lJ(a)||lK(a);async function lM(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(lG(c,"Uint8Array"));let f=parseInt(a.slice(1,4),10),g=await crypto.subtle.importKey("raw",c.subarray(f>>3),"AES-CBC",!1,["encrypt"]),h=await crypto.subtle.importKey("raw",c.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),i=new Uint8Array(await crypto.subtle.encrypt({iv:d,name:"AES-CBC"},g,b)),j=lb(e,d,i,ld(e.length<<3));return{ciphertext:i,tag:new Uint8Array((await crypto.subtle.sign("HMAC",h,j)).slice(0,f>>3)),iv:d}}async function lN(a,b,c,d,e){let f;c instanceof Uint8Array?f=await crypto.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(lE(c,a,"encrypt"),f=c);let g=new Uint8Array(await crypto.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),h=g.slice(-16);return{ciphertext:g.slice(0,-16),tag:h,iv:d}}async function lO(a,b,c,d,e){if(!lJ(c)&&!(c instanceof Uint8Array))throw TypeError(lG(c,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(d)lz(a,d);else d=crypto.getRandomValues(new Uint8Array(ly(a)>>3));switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&lA(c,parseInt(a.slice(-3),10)),lM(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&lA(c,parseInt(a.slice(1,4),10)),lN(a,b,c,d,e);default:throw new ln("Unsupported JWE Content Encryption Algorithm")}}function lP(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function lQ(a,b,c){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"AES-KW",!0,[c]):(lE(a,b,c),a)}async function lR(a,b,c){let d=await lQ(b,a,"wrapKey");lP(d,a);let e=await crypto.subtle.importKey("raw",c,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",e,d,"AES-KW"))}async function lS(a,b,c){let d=await lQ(b,a,"unwrapKey");lP(d,a);let e=await crypto.subtle.unwrapKey("raw",c,d,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",e))}async function lT(a,b){let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(c,b))}function lU(a){return lb(le(a.length),a)}async function lV(a,b,c){let d=b>>3,e=Math.ceil(d/32),f=new Uint8Array(32*e);for(let b=1;b<=e;b++){let d=new Uint8Array(4+a.length+c.length);d.set(le(b),0),d.set(a,4),d.set(c,4+a.length);let e=await lT("sha256",d);f.set(e,(b-1)*32)}return f.slice(0,d)}async function lW(a,b,c,d,e=new Uint8Array,f=new Uint8Array){var g;lE(a,"ECDH"),lE(b,"ECDH","deriveBits");let h=lb(lU(lf(c)),lU(e),lU(f),le(d),new Uint8Array);return lV(new Uint8Array(await crypto.subtle.deriveBits({name:a.algorithm.name,public:a},b,"X25519"===(g=a).algorithm.name?256:Math.ceil(parseInt(g.algorithm.namedCurve.slice(-3),10)/8)<<3)),d,h)}function lX(a){switch(a.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===a.algorithm.name}}async function lY(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new lp("PBES2 Salt Input must be 8 or more octets");let e=lb(lf(b),Uint8Array.of(0),a),f=parseInt(b.slice(13,16),10),g={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},h=await (d instanceof Uint8Array?crypto.subtle.importKey("raw",d,"PBKDF2",!1,["deriveBits"]):(lE(d,b,"deriveBits"),d));return new Uint8Array(await crypto.subtle.deriveBits(g,h,f))}async function lZ(a,b,c,d=2048,e=crypto.getRandomValues(new Uint8Array(16))){let f=await lY(e,a,d,b);return{encryptedKey:await lR(a.slice(-6),f,c),p2c:d,p2s:lh(e)}}async function l$(a,b,c,d,e){let f=await lY(e,a,d,b);return lS(a.slice(-6),f,c)}function l_(a,b){if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}}let l0=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new ln(`alg ${a} is not supported either by JOSE or your javascript runtime`)}};async function l1(a,b,c){return lE(b,a,"encrypt"),l_(a,b),new Uint8Array(await crypto.subtle.encrypt(l0(a),b,c))}async function l2(a,b,c){return lE(b,a,"decrypt"),l_(a,b),new Uint8Array(await crypto.subtle.decrypt(l0(a),b,c))}function l3(a){if("object"!=typeof a||null===a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}a.s(["isObject",()=>l3],13730);let l4=a=>l3(a)&&"string"==typeof a.kty;async function l5(a){if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new ln('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new ln('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new ln('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new ln('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new ln('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),d={...a};return"AKP"!==d.kty&&delete d.alg,delete d.use,crypto.subtle.importKey("jwk",d,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)}let l6=async(a,c,d,e=!1)=>{let f=(b||=new WeakMap).get(a);if(f?.[d])return f[d];let g=await l5({...c,alg:d});return e&&Object.freeze(a),f?f[d]=g:b.set(a,{[d]:g}),g};async function l7(a,c){if(a instanceof Uint8Array||lJ(a))return a;if(lK(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return((a,c)=>{let d,e=(b||=new WeakMap).get(a);if(e?.[c])return e[c];let f="public"===a.type,g=!!f;if("x25519"===a.asymmetricKeyType){switch(c){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}d=a.toCryptoKey(a.asymmetricKeyType,g,f?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==c&&"Ed25519"!==c)throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(c!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let b;switch(c){case"RSA-OAEP":b="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":b="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":b="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":b="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(c.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:b},g,f?["encrypt"]:["decrypt"]);d=a.toCryptoKey({name:c.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:b},g,[f?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let b=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!b)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===c&&"P-256"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),"ES384"===c&&"P-384"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),"ES512"===c&&"P-521"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),c.startsWith("ECDH-ES")&&(d=a.toCryptoKey({name:"ECDH",namedCurve:b},g,f?[]:["deriveBits"]))}if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");return e?e[c]=d:b.set(a,{[c]:d}),d})(a,c)}catch(a){if(a instanceof TypeError)throw a}let d=a.export({format:"jwk"});return l6(a,d,c)}if(l4(a))return a.k?lg(a.k):l6(a,a,c,!0);throw Error("unreachable")}function l8(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new ln(`Unsupported JWE Algorithm: ${a}`)}}let l9=a=>crypto.getRandomValues(new Uint8Array(l8(a)>>3));async function ma(a){if(lK(a))if("secret"!==a.type)return a.export({format:"jwk"});else a=a.export();if(a instanceof Uint8Array)return{kty:"oct",k:lh(a)};if(!lJ(a))throw TypeError(lG(a,"CryptoKey","KeyObject","Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...f}=await crypto.subtle.exportKey("jwk",a);return"AKP"===f.kty&&(f.alg=d),f}async function mb(a){return ma(a)}async function mc(a,b){if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let c={name:"HMAC",hash:"SHA-256"},d=await crypto.subtle.generateKey(c,!1,["sign"]),e=new Uint8Array(await crypto.subtle.sign(c,d,a)),f=new Uint8Array(await crypto.subtle.sign(c,d,b)),g=0,h=-1;for(;++h<32;)g|=e[h]^f[h];return 0===g}async function md(a,b,c,d,e,f){let g,h;if(!(b instanceof Uint8Array))throw TypeError(lG(b,"Uint8Array"));let i=parseInt(a.slice(1,4),10),j=await crypto.subtle.importKey("raw",b.subarray(i>>3),"AES-CBC",!1,["decrypt"]),k=await crypto.subtle.importKey("raw",b.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=lb(f,d,c,ld(f.length<<3)),m=new Uint8Array((await crypto.subtle.sign("HMAC",k,l)).slice(0,i>>3));try{g=await mc(e,m)}catch{}if(!g)throw new lo;try{h=new Uint8Array(await crypto.subtle.decrypt({iv:d,name:"AES-CBC"},j,c))}catch{}if(!h)throw new lo;return h}async function me(a,b,c,d,e,f){let g;b instanceof Uint8Array?g=await crypto.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(lE(b,a,"decrypt"),g=b);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:f,iv:d,name:"AES-GCM",tagLength:128},g,lb(c,e)))}catch{throw new lo}}async function mf(a,b,c,d,e,f){if(!lJ(b)&&!(b instanceof Uint8Array))throw TypeError(lG(b,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!d)throw new lp("JWE Initialization Vector missing");if(!e)throw new lp("JWE Authentication Tag missing");switch(lz(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&lA(b,parseInt(a.slice(-3),10)),md(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&lA(b,parseInt(a.slice(1,4),10)),me(a,b,c,d,e,f);default:throw new ln("Unsupported JWE Content Encryption Algorithm")}}async function mg(a,b,c,d){let e=a.slice(0,7),f=await lO(e,c,b,d,new Uint8Array);return{encryptedKey:f.ciphertext,iv:lh(f.iv),tag:lh(f.tag)}}async function mh(a,b,c,d,e){return mf(a.slice(0,7),b,c,d,e,new Uint8Array)}async function mi(a,b,c,d,e={}){let f,g,h;switch(a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i;if(lI(c),!lX(c))throw new ln("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:j,apv:k}=e;i=e.epk?await l7(e.epk,a):(await crypto.subtle.generateKey(c.algorithm,!0,["deriveBits"])).privateKey;let{x:l,y:m,crv:n,kty:o}=await mb(i),p=await lW(c,i,"ECDH-ES"===a?b:a,"ECDH-ES"===a?l8(b):parseInt(a.slice(-5,-2),10),j,k);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),j&&(g.apu=lh(j)),k&&(g.apv=lh(k)),"ECDH-ES"===a){h=p;break}h=d||l9(b);let q=a.slice(-6);f=await lR(q,p,h);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||l9(b),lI(c),f=await l1(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||l9(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await lZ(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||l9(b),f=await lR(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||l9(b);let{iv:i}=e;({encryptedKey:f,...g}=await mg(a,c,h,i));break}default:throw new ln('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}}function mj(...a){let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0}function mk(a,b,c,d,e){let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new ln(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)}let ml=a=>a?.[Symbol.toStringTag],mm=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0};function mn(a,b,c){switch(a.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((a,b,c)=>{if(!(b instanceof Uint8Array)){if(l4(b)){if("oct"===b.kty&&"string"==typeof b.k&&mm(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!lL(b))throw TypeError(lH(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${ml(b)} instances for symmetric algorithms must be of type "secret"`)}})(a,b,c);break;default:((a,b,c)=>{if(l4(b))switch(c){case"decrypt":case"sign":if("oct"!==b.kty&&("AKP"===b.kty&&"string"==typeof b.priv||"string"==typeof b.d)&&mm(a,b,c))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if("oct"!==b.kty&&void 0===b.d&&void 0===b.priv&&mm(a,b,c))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!lL(b))throw TypeError(lH(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${ml(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${ml(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${ml(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${ml(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${ml(b)} instances for asymmetric algorithm encryption must be of type "public"`)}})(a,b,c)}}class mo{#c;#d;#e;#f;#g;#h;#i;#j;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#c=a}setKeyManagementParameters(a){if(this.#j)throw TypeError("setKeyManagementParameters can only be called once");return this.#j=a,this}setProtectedHeader(a){if(this.#d)throw TypeError("setProtectedHeader can only be called once");return this.#d=a,this}setSharedUnprotectedHeader(a){if(this.#e)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#e=a,this}setUnprotectedHeader(a){if(this.#f)throw TypeError("setUnprotectedHeader can only be called once");return this.#f=a,this}setAdditionalAuthenticatedData(a){return this.#g=a,this}setContentEncryptionKey(a){if(this.#h)throw TypeError("setContentEncryptionKey can only be called once");return this.#h=a,this}setInitializationVector(a){if(this.#i)throw TypeError("setInitializationVector can only be called once");return this.#i=a,this}async encrypt(a,b){let c,d,e,f,g,h;if(!this.#d&&!this.#f&&!this.#e)throw new lp("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!mj(this.#d,this.#f,this.#e))throw new lp("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let i={...this.#d,...this.#f,...this.#e};if(mk(lp,new Map,b?.crit,this.#d,i),void 0!==i.zip)throw new ln('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:j,enc:k}=i;if("string"!=typeof j||!j)throw new lp('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof k||!k)throw new lp('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#h&&("dir"===j||"ECDH-ES"===j))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${j}`);mn("dir"===j?k:j,a,"encrypt");{let e,f=await l7(a,j);({cek:d,encryptedKey:c,parameters:e}=await mi(j,k,f,this.#h,this.#j)),e&&(b&&li in b?this.#f?this.#f={...this.#f,...e}:this.setUnprotectedHeader(e):this.#d?this.#d={...this.#d,...e}:this.setProtectedHeader(e))}if(this.#d?g=lf(f=lh(JSON.stringify(this.#d))):(f="",g=new Uint8Array),this.#g){let a=lf(h=lh(this.#g));e=lb(g,lf("."),a)}else e=g;let{ciphertext:l,tag:m,iv:n}=await lO(k,this.#c,d,this.#i,e),o={ciphertext:lh(l)};return n&&(o.iv=lh(n)),m&&(o.tag=lh(m)),c&&(o.encrypted_key=lh(c)),h&&(o.aad=h),this.#d&&(o.protected=f),this.#e&&(o.unprotected=this.#e),this.#f&&(o.header=this.#f),o}}class mp{#k;constructor(a){this.#k=new mo(a)}setContentEncryptionKey(a){return this.#k.setContentEncryptionKey(a),this}setInitializationVector(a){return this.#k.setInitializationVector(a),this}setProtectedHeader(a){return this.#k.setProtectedHeader(a),this}setKeyManagementParameters(a){return this.#k.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this.#k.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let mq=a=>Math.floor(a.getTime()/1e3),mr=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function ms(a){let b,c=mr.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b}function mt(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let mu=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`;function mv(a,b,c={}){var d,e;let f,g;try{f=JSON.parse(la.decode(b))}catch{}if(!l3(f))throw new lr("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||mu(a.typ)!==mu(h)))throw new lk('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new lk(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new lk('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new lk('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new lk('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=ms(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=mq(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new lk('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new lk('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new lk('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new lk('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new ll('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:ms(m)))throw new ll('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new lk('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f}class mw{#l;constructor(a){if(!l3(a))throw TypeError("JWT Claims Set MUST be an object");this.#l=structuredClone(a)}data(){return k9.encode(JSON.stringify(this.#l))}get iss(){return this.#l.iss}set iss(a){this.#l.iss=a}get sub(){return this.#l.sub}set sub(a){this.#l.sub=a}get aud(){return this.#l.aud}set aud(a){this.#l.aud=a}set jti(a){this.#l.jti=a}set nbf(a){"number"==typeof a?this.#l.nbf=mt("setNotBefore",a):a instanceof Date?this.#l.nbf=mt("setNotBefore",mq(a)):this.#l.nbf=mq(new Date)+ms(a)}set exp(a){"number"==typeof a?this.#l.exp=mt("setExpirationTime",a):a instanceof Date?this.#l.exp=mt("setExpirationTime",mq(a)):this.#l.exp=mq(new Date)+ms(a)}set iat(a){void 0===a?this.#l.iat=mq(new Date):a instanceof Date?this.#l.iat=mt("setIssuedAt",mq(a)):"string"==typeof a?this.#l.iat=mt("setIssuedAt",mq(new Date)+ms(a)):this.#l.iat=mt("setIssuedAt",a)}}class mx{#h;#i;#j;#d;#m;#n;#o;#p;constructor(a={}){this.#p=new mw(a)}setIssuer(a){return this.#p.iss=a,this}setSubject(a){return this.#p.sub=a,this}setAudience(a){return this.#p.aud=a,this}setJti(a){return this.#p.jti=a,this}setNotBefore(a){return this.#p.nbf=a,this}setExpirationTime(a){return this.#p.exp=a,this}setIssuedAt(a){return this.#p.iat=a,this}setProtectedHeader(a){if(this.#d)throw TypeError("setProtectedHeader can only be called once");return this.#d=a,this}setKeyManagementParameters(a){if(this.#j)throw TypeError("setKeyManagementParameters can only be called once");return this.#j=a,this}setContentEncryptionKey(a){if(this.#h)throw TypeError("setContentEncryptionKey can only be called once");return this.#h=a,this}setInitializationVector(a){if(this.#i)throw TypeError("setInitializationVector can only be called once");return this.#i=a,this}replicateIssuerAsHeader(){return this.#m=!0,this}replicateSubjectAsHeader(){return this.#n=!0,this}replicateAudienceAsHeader(){return this.#o=!0,this}async encrypt(a,b){let c=new mp(this.#p.data());return this.#d&&(this.#m||this.#n||this.#o)&&(this.#d={...this.#d,iss:this.#m?this.#p.iss:void 0,sub:this.#n?this.#p.sub:void 0,aud:this.#o?this.#p.aud:void 0}),c.setProtectedHeader(this.#d),this.#i&&c.setInitializationVector(this.#i),this.#h&&c.setContentEncryptionKey(this.#h),this.#j&&c.setKeyManagementParameters(this.#j),c.encrypt(a,b)}}function my(a,b){let c=`SHA-${a.slice(-3)}`;switch(a){case"HS256":case"HS384":case"HS512":return{hash:c,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:c,name:"RSA-PSS",saltLength:parseInt(a.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:c,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:c,name:"ECDSA",namedCurve:b.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:a};default:throw new ln(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}async function mz(a,b,c){if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError(lG(b,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",b,{hash:`SHA-${a.slice(-3)}`,name:"HMAC"},!1,[c])}return!function(a,b,c){switch(b){case"HS256":case"HS384":case"HS512":{if("HMAC"!==a.algorithm.name)throw lB("HMAC");let c=parseInt(b.slice(2),10);if(lC(a.algorithm.hash)!==c)throw lB(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if("RSASSA-PKCS1-v1_5"!==a.algorithm.name)throw lB("RSASSA-PKCS1-v1_5");let c=parseInt(b.slice(2),10);if(lC(a.algorithm.hash)!==c)throw lB(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if("RSA-PSS"!==a.algorithm.name)throw lB("RSA-PSS");let c=parseInt(b.slice(2),10);if(lC(a.algorithm.hash)!==c)throw lB(`SHA-${c}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if("Ed25519"!==a.algorithm.name)throw lB("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":let d;if(d=a.algorithm,d.name!==b)throw lB(b);break;case"ES256":case"ES384":case"ES512":{if("ECDSA"!==a.algorithm.name)throw lB("ECDSA");let c=function(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(b);if(a.algorithm.namedCurve!==c)throw lB(c,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}lD(a,c)}(b,a,c),b}async function mA(a,b,c){let d=await mz(a,b,"sign");return l_(a,d),new Uint8Array(await crypto.subtle.sign(my(a,d.algorithm),d,c))}class mB{#l;#d;#f;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#l=a}setProtectedHeader(a){if(this.#d)throw TypeError("setProtectedHeader can only be called once");return this.#d=a,this}setUnprotectedHeader(a){if(this.#f)throw TypeError("setUnprotectedHeader can only be called once");return this.#f=a,this}async sign(a,b){let c,d,e,f;if(!this.#d&&!this.#f)throw new lq("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!mj(this.#d,this.#f))throw new lq("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...this.#d,...this.#f},h=mk(lq,new Map([["b64",!0]]),b?.crit,this.#d,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=this.#d.b64))throw new lq('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new lq('JWS "alg" (Algorithm) Header Parameter missing or invalid');mn(j,a,"sign"),i?d=lf(c=lh(this.#l)):(d=this.#l,c=""),this.#d?f=lf(e=lh(JSON.stringify(this.#d))):(e="",f=new Uint8Array);let k=lb(f,lf("."),d),l=await l7(a,j),m={signature:lh(await mA(j,l,k)),payload:c};return this.#f&&(m.header=this.#f),this.#d&&(m.protected=e),m}}class mC{#k;constructor(a){this.#k=new mB(a)}setProtectedHeader(a){return this.#k.setProtectedHeader(a),this}async sign(a,b){let c=await this.#k.sign(a,b);if(void 0===c.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}class mD{#d;#p;constructor(a={}){this.#p=new mw(a)}setIssuer(a){return this.#p.iss=a,this}setSubject(a){return this.#p.sub=a,this}setAudience(a){return this.#p.aud=a,this}setJti(a){return this.#p.jti=a,this}setNotBefore(a){return this.#p.nbf=a,this}setExpirationTime(a){return this.#p.exp=a,this}setIssuedAt(a){return this.#p.iat=a,this}setProtectedHeader(a){return this.#d=a,this}async sign(a,b){let c=new mC(this.#p.data());if(c.setProtectedHeader(this.#d),Array.isArray(this.#d?.crit)&&this.#d.crit.includes("b64")&&!1===this.#d.b64)throw new lr("JWTs MUST NOT use unencoded payload");return c.sign(a,b)}}var mE=a.i(9634),mE=mE;let mF=(a,b)=>{if("string"!=typeof a||!a)throw new ls(`${b} missing or invalid`)};async function mG(a,b){let c,d;if(l4(a))c=a;else if(lL(a))c=await mb(a);else throw TypeError(lG(a,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(c.kty){case"AKP":mF(c.alg,'"alg" (Algorithm) Parameter'),mF(c.pub,'"pub" (Public key) Parameter'),d={alg:c.alg,kty:c.kty,pub:c.pub};break;case"EC":mF(c.crv,'"crv" (Curve) Parameter'),mF(c.x,'"x" (X Coordinate) Parameter'),mF(c.y,'"y" (Y Coordinate) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x,y:c.y};break;case"OKP":mF(c.crv,'"crv" (Subtype of Key Pair) Parameter'),mF(c.x,'"x" (Public Key) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x};break;case"RSA":mF(c.e,'"e" (Exponent) Parameter'),mF(c.n,'"n" (Modulus) Parameter'),d={e:c.e,kty:c.kty,n:c.n};break;case"oct":mF(c.k,'"k" (Key Value) Parameter'),d={k:c.k,kty:c.kty};break;default:throw new ln('"kty" (Key Type) Parameter missing or unsupported')}let e=lf(JSON.stringify(d));return lh(await lT(b,e))}async function mH(a,b,c){let d;if(!l3(a))throw TypeError("JWK must be an object");switch(b??=a.alg,d??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return lg(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new ln('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return l5({...a,alg:b,ext:d});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return l5({...a,ext:d});case"EC":case"OKP":return l5({...a,alg:b,ext:d});default:throw new ln('Unsupported "kty" (Key Type) Parameter value')}}async function mI(a,b,c,d,e){switch(a){case"dir":if(void 0!==c)throw new lp("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new lp("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!l3(d.epk))throw new lp('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(lI(b),!lX(b))throw new ln("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await mH(d.epk,a);if(lI(g),void 0!==d.apu){if("string"!=typeof d.apu)throw new lp('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=lg(d.apu)}catch{throw new lp("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new lp('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=lg(d.apv)}catch{throw new lp("Failed to base64url decode the apv")}}let h=await lW(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?l8(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new lp("JWE Encrypted Key missing");return lS(a.slice(-6),h,c)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new lp("JWE Encrypted Key missing");return lI(b),l2(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new lp("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new lp('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new lp('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new lp('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=lg(d.p2s)}catch{throw new lp("Failed to base64url decode the p2s")}return l$(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new lp("JWE Encrypted Key missing");return lS(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new lp("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new lp('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new lp('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=lg(d.iv)}catch{throw new lp("Failed to base64url decode the iv")}try{f=lg(d.tag)}catch{throw new lp("Failed to base64url decode the tag")}return mh(a,b,c,e,f)}default:throw new ln('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function mJ(a,b){if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)}async function mK(a,b,c){let d,e,f,g,h,i,j;if(!l3(a))throw new lp("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new lp("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new lp("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new lp("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new lp("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new lp("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new lp("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new lp("JWE AAD incorrect type");if(void 0!==a.header&&!l3(a.header))throw new lp("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!l3(a.unprotected))throw new lp("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=lg(a.protected);d=JSON.parse(la.decode(b))}catch{throw new lp("JWE Protected Header is invalid")}if(!mj(d,a.header,a.unprotected))throw new lp("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(mk(lp,new Map,c?.crit,d,k),void 0!==k.zip)throw new ln('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new lp("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new lp("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&mJ("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&mJ("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new lm('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new lm('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=lg(a.encrypted_key)}catch{throw new lp("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0),mn("dir"===l?m:l,b,"decrypt");let q=await l7(b,l);try{f=await mI(l,q,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof lp||a instanceof ln)throw a;f=l9(m)}if(void 0!==a.iv)try{g=lg(a.iv)}catch{throw new lp("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=lg(a.tag)}catch{throw new lp("Failed to base64url decode the tag")}let r=void 0!==a.protected?lf(a.protected):new Uint8Array;i=void 0!==a.aad?lb(r,lf("."),lf(a.aad)):r;try{j=lg(a.ciphertext)}catch{throw new lp("Failed to base64url decode the ciphertext")}let s={plaintext:await mf(m,f,j,g,h,i)};if(void 0!==a.protected&&(s.protectedHeader=d),void 0!==a.aad)try{s.additionalAuthenticatedData=lg(a.aad)}catch{throw new lp("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(s.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(s.unprotectedHeader=a.header),p)?{...s,key:q}:s}async function mL(a,b,c){if(a instanceof Uint8Array&&(a=la.decode(a)),"string"!=typeof a)throw new lp("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new lp("Invalid Compact JWE");let j=await mK({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}async function mM(a,b,c){let d=await mL(a,b,c),e=mv(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new lk('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new lk('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new lk('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}async function mN(a,b,c,d){let e=await mz(a,b,"verify");l_(a,e);let f=my(a,e.algorithm);try{return await crypto.subtle.verify(f,e,c,d)}catch{return!1}}async function mO(a,b,c){let d,e;if(!l3(a))throw new lq("Flattened JWS must be an object");if(void 0===a.protected&&void 0===a.header)throw new lq('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new lq("JWS Protected Header incorrect type");if(void 0===a.payload)throw new lq("JWS Payload missing");if("string"!=typeof a.signature)throw new lq("JWS Signature missing or incorrect type");if(void 0!==a.header&&!l3(a.header))throw new lq("JWS Unprotected Header incorrect type");let f={};if(a.protected)try{let b=lg(a.protected);f=JSON.parse(la.decode(b))}catch{throw new lq("JWS Protected Header is invalid")}if(!mj(f,a.header))throw new lq("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...f,...a.header},h=mk(lq,new Map([["b64",!0]]),c?.crit,f,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=f.b64))throw new lq('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new lq('JWS "alg" (Algorithm) Header Parameter missing or invalid');let k=c&&mJ("algorithms",c.algorithms);if(k&&!k.has(j))throw new lm('"alg" (Algorithm) Header Parameter value not allowed');if(i){if("string"!=typeof a.payload)throw new lq("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new lq("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof b&&(b=await b(f,a),l=!0),mn(j,b,"verify");let m=lb(void 0!==a.protected?lf(a.protected):new Uint8Array,lf("."),"string"==typeof a.payload?i?lf(a.payload):k9.encode(a.payload):a.payload);try{d=lg(a.signature)}catch{throw new lq("Failed to base64url decode the signature")}let n=await l7(b,j);if(!await mN(j,n,d,m))throw new lx;if(i)try{e=lg(a.payload)}catch{throw new lq("Failed to base64url decode the payload")}else e="string"==typeof a.payload?k9.encode(a.payload):a.payload;let o={payload:e};return(void 0!==a.protected&&(o.protectedHeader=f),void 0!==a.header&&(o.unprotectedHeader=a.header),l)?{...o,key:n}:o}async function mP(a,b,c){if(a instanceof Uint8Array&&(a=la.decode(a)),"string"!=typeof a)throw new lq("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new lq("Invalid Compact JWS");let h=await mO({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}async function mQ(a,b,c){let d=await mP(a,b,c);if(d.protectedHeader.crit?.includes("b64")&&!1===d.protectedHeader.b64)throw new lr("JWTs MUST NOT use unencoded payload");let e={payload:mv(d.protectedHeader,d.payload,c),protectedHeader:d.protectedHeader};return"function"==typeof b?{...e,key:d.key}:e}a.s(["importJWK",()=>mH],83607),a.s(["jwtVerify",()=>mQ],9633);let mR=a=>{if("string"==typeof a&&(a=new TextEncoder().encode(a)),0===a.byteLength)return"";let b=new Uint8Array(a),c="";for(let a of b)c+=a.toString(16).padStart(2,"0");return c};function mS(a,b,c,d){var e;let f,{c:g,dkLen:h,DK:i,PRF:j,PRFSalt:k}=function(a,b,c,d){kB(a);let{c:e,dkLen:f,asyncTick:g}=kO({dkLen:32,asyncTick:10},d);if(kz(e,"c"),kz(f,"dkLen"),kz(g,"asyncTick"),e<1)throw Error("iterations (c) must be >= 1");let h=kN(b,"password"),i=kN(c,"salt"),j=new Uint8Array(f),k=kQ.create(a,h),l=k._cloneInto().update(i);return{c:e,dkLen:f,asyncTick:g,DK:j,PRF:k,PRFSalt:l}}(a,b,c,d),l=new Uint8Array(4),m=kF(l),n=new Uint8Array(j.outputLen);for(let a=1,b=0;b<h;a++,b+=j.outputLen){let c=i.subarray(b,b+j.outputLen);m.setInt32(0,a,!1),(f=k._cloneInto(f)).update(l).digestInto(n),c.set(n.subarray(0,c.length));for(let a=1;a<g;a++){j._cloneInto(f).update(n).digestInto(n);for(let a=0;a<c.length;a++)c[a]^=n[a]}}return e=f,j.destroy(),k.destroy(),e&&e.destroy(),kE(n),i}function mT(a,b,c,d,e,f){let g=a[b++]^c[d++],h=a[b++]^c[d++],i=a[b++]^c[d++],j=a[b++]^c[d++],k=a[b++]^c[d++],l=a[b++]^c[d++],m=a[b++]^c[d++],n=a[b++]^c[d++],o=a[b++]^c[d++],p=a[b++]^c[d++],q=a[b++]^c[d++],r=a[b++]^c[d++],s=a[b++]^c[d++],t=a[b++]^c[d++],u=a[b++]^c[d++],v=a[b++]^c[d++],w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=v;for(let a=0;a<8;a+=2)A^=kH(w+I|0,7),E^=kH(A+w|0,9),I^=kH(E+A|0,13),w^=kH(I+E|0,18),F^=kH(B+x|0,7),J^=kH(F+B|0,9),x^=kH(J+F|0,13),B^=kH(x+J|0,18),K^=kH(G+C|0,7),y^=kH(K+G|0,9),C^=kH(y+K|0,13),G^=kH(C+y|0,18),z^=kH(L+H|0,7),D^=kH(z+L|0,9),H^=kH(D+z|0,13),L^=kH(H+D|0,18),x^=kH(w+z|0,7),y^=kH(x+w|0,9),z^=kH(y+x|0,13),w^=kH(z+y|0,18),C^=kH(B+A|0,7),D^=kH(C+B|0,9),A^=kH(D+C|0,13),B^=kH(A+D|0,18),H^=kH(G+F|0,7),E^=kH(H+G|0,9),F^=kH(E+H|0,13),G^=kH(F+E|0,18),I^=kH(L+K|0,7),J^=kH(I+L|0,9),K^=kH(J+I|0,13),L^=kH(K+J|0,18);e[f++]=g+w|0,e[f++]=h+x|0,e[f++]=i+y|0,e[f++]=j+z|0,e[f++]=k+A|0,e[f++]=l+B|0,e[f++]=m+C|0,e[f++]=n+D|0,e[f++]=o+E|0,e[f++]=p+F|0,e[f++]=q+G|0,e[f++]=r+H|0,e[f++]=s+I|0,e[f++]=t+J|0,e[f++]=u+K|0,e[f++]=v+L|0}function mU(a,b,c,d,e){let f=d+0,g=d+16*e;for(let d=0;d<16;d++)c[g+d]=a[b+(2*e-1)*16+d];for(let d=0;d<e;d++,f+=16,b+=16)mT(c,g,a,b,c,f),d>0&&(g+=16),mT(c,f,a,b+=16,c,g)}async function mV(a,b,c){let d,{N:e,r:f,p:g,dkLen:h,blockSize32:i,V:j,B32:k,B:l,tmp:m,blockMixCb:n,asyncTick:o}=function(a,b,c){let{N:d,r:e,p:f,dkLen:g,asyncTick:h,maxmem:i,onProgress:j}=kO({dkLen:32,asyncTick:10,maxmem:0x40000400},c);if(kz(d,"N"),kz(e,"r"),kz(f,"p"),kz(g,"dkLen"),kz(h,"asyncTick"),kz(i,"maxmem"),void 0!==j&&"function"!=typeof j)throw Error("progressCb must be a function");let k=128*e,l=k/4;if(d<=1||(d&d-1)!=0||d>0x100000000)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(f<1||f>0x1fffffffe0/k)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(g<1||g>0x1fffffffe0)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(k*(d+f)>i)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+i);let m=mS(k8,a,b,{c:1,dkLen:k*f}),n=kD(m),o=kD(new Uint8Array(k*d)),p=kD(new Uint8Array(k)),q=()=>{};if(j){let a=2*d*f,b=Math.max(Math.floor(a/1e4),1),c=0;q=()=>{c++,j&&(!(c%b)||c===a)&&j(c/a)}}return{N:d,r:e,p:f,dkLen:g,blockSize32:l,V:o,B32:n,B:m,tmp:p,blockMixCb:q,asyncTick:h}}(a,b,c);kI(k);for(let a=0;a<g;a++){let b=i*a;for(let a=0;a<i;a++)j[a]=k[b+a];let c=0;await kM(e-1,o,()=>{mU(j,c,j,c+=i,f),n()}),mU(j,(e-1)*i,k,b,f),n(),await kM(e,o,()=>{let a=(k[b+i-16]&e-1)>>>0;for(let c=0;c<i;c++)m[c]=k[b+c]^j[a*i+c];mU(m,0,k,b,f),n()})}return kI(k),d=mS(k8,a,l,{c:1,dkLen:h}),kE(l,j,m),d}var mW=a.i(85078);async function mX(a,b,c=3600){return await new mD(a).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+c).sign(new TextEncoder().encode(b))}async function mY(a,b){try{return(await mQ(a,new TextEncoder().encode(b))).payload}catch(a){return null}}let mZ=new Uint8Array([66,101,116,116,101,114,65,117,116,104,46,106,115,32,71,101,110,101,114,97,116,101,100,32,69,110,99,114,121,112,116,105,111,110,32,75,101,121]),m$="A256CBC-HS512";async function m_(a,b,c,d=3600){let e=kT(k8,new TextEncoder().encode(b),new TextEncoder().encode(c),mZ,64),f=await mG({kty:"oct",k:mE.encode(e)},"sha256");return await new mx(a).setProtectedHeader({alg:"dir",enc:m$,kid:f}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(e)}async function m0(a,b,c){if(!a)return null;try{let{payload:d}=await mM(a,async({kid:a})=>{let d=kT(k8,new TextEncoder().encode(b),new TextEncoder().encode(c),mZ,64);if(void 0===a||a===await mG({kty:"oct",k:mE.encode(d)},"sha256"))return d;throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[m$,"A256GCM"]});return d}catch(a){return null}}async function m1(a,b){return await mV(a.normalize("NFKC"),b,{N:16384,p:1,r:16,dkLen:64,maxmem:0x4000000})}let m2=async a=>{let b=mR(crypto.getRandomValues(new Uint8Array(16))),c=await m1(a,b);return`${b}:${mR(c)}`},m3=async({hash:a,password:b})=>{let[c,d]=a.split(":");if(!c||!d)throw new jU.BetterAuthError("Invalid password hash");return function(a,b){"string"==typeof a&&(a=new TextEncoder().encode(a)),"string"==typeof b&&(b=new TextEncoder().encode(b));let c=new Uint8Array(a),d=new Uint8Array(b),e=c.length^d.length,f=Math.max(c.length,d.length);for(let a=0;a<f;a++)e|=(a<c.length?c[a]:0)^(a<d.length?d[a]:0);return 0===e}(await m1(b,c),function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(kJ)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=kK(a.charCodeAt(e)),f=kK(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}(d))},m4=(0,mW.createRandomStringGenerator)("a-z","0-9","A-Z","-_"),m5=async({key:a,data:b})=>{let c=await j$("SHA-256").digest(a),d=function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}(b);var e=kc(ky)(new Uint8Array(c)).encrypt(d);if(j1(e),j6)return e.toHex();let f="";for(let a=0;a<e.length;a++)f+=j7[e[a]];return f},m6=async({key:a,data:b})=>{let c=await j$("SHA-256").digest(a),d=function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(j6)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=j8(a.charCodeAt(e)),f=j8(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}(b),e=kc(ky)(new Uint8Array(c));return new TextDecoder().decode(e.decrypt(d))};a.s(["a",()=>m3,"c",()=>m_,"i",()=>m2,"l",()=>mY,"n",()=>m5,"o",()=>mX,"r",()=>m4,"s",()=>m0,"t",()=>m6],38889),a.i(18129);var m7=jh;a.s(["env",()=>m7.c],51171);var m7=jh;function m8(a,b="/api/auth"){try{let b=new URL(a);if("http:"!==b.protocol&&"https:"!==b.protocol)throw new jU.BetterAuthError(`Invalid base URL: ${a}. URL must include 'http://' or 'https://'`)}catch(b){if(b instanceof jU.BetterAuthError)throw b;throw new jU.BetterAuthError(`Invalid base URL: ${a}. Please provide a valid base URL.`,String(b))}if(function(a){try{return"/"!==(new URL(a).pathname.replace(/\/+$/,"")||"/")}catch(b){throw new jU.BetterAuthError(`Invalid base URL: ${a}. Please provide a valid base URL.`)}}(a))return a;let c=a.replace(/\/+$/,"");return b&&"/"!==b?(b=b.startsWith("/")?b:`/${b}`,`${c}${b}`):c}function m9(a,b,c,d,e){if(a)return m8(a,b);if(!1!==d){let a=m7.c.BETTER_AUTH_URL||m7.c.NEXT_PUBLIC_BETTER_AUTH_URL||m7.c.PUBLIC_BETTER_AUTH_URL||m7.c.NUXT_PUBLIC_BETTER_AUTH_URL||m7.c.NUXT_PUBLIC_AUTH_URL||("/"!==m7.c.BASE_URL?m7.c.BASE_URL:void 0);if(a)return m8(a,b)}let f=c?.headers.get("x-forwarded-host"),g=c?.headers.get("x-forwarded-proto");if(f&&g&&e)return m8(`${g}://${f}`,b);if(c){let a=na(c.url);if(!a)throw new jU.BetterAuthError("Could not get origin from request. Please provide a valid base URL.");return m8(a,b)}}function na(a){try{let b=new URL(a);return"null"===b.origin?null:b.origin}catch(a){return null}}function nb(a){try{return new URL(a).protocol}catch(a){return null}}function nc(a){try{return new URL(a).host}catch(a){return null}}a.s(["i",()=>nb,"n",()=>nc,"r",()=>na,"t",()=>m9],32783);var m7=jh,nd=jh;a.s(["isProduction",()=>nd.f],68100);var nd=jh,jT=jS,jR=jR;let ne=new Map,nf={decode:(a,b="utf-8")=>(ne.has(b)||ne.set(b,new TextDecoder(b)),ne.get(b).decode(a)),encode:new TextEncoder().encode};a.s(["binary",()=>nf],86519);let ng=(a="SHA-256",b="none")=>{let c={importKey:async(b,c)=>f().importKey("raw","string"==typeof b?new TextEncoder().encode(b):b,{name:"HMAC",hash:{name:a}},!1,[c]),sign:async(a,d)=>{"string"==typeof a&&(a=await c.importKey(a,"sign"));let e=await f().sign("HMAC",a,"string"==typeof d?new TextEncoder().encode(d):d);return"hex"===b?mR(e):"base64"===b||"base64url"===b||"base64urlnopad"===b?jZ.encode(e,{padding:"base64urlnopad"!==b}):e},verify:async(a,d,e)=>("string"==typeof a&&(a=await c.importKey(a,"verify")),"hex"===b&&(e=(a=>{if(!a)return"";if("string"==typeof a){if(a.length%2!=0||!RegExp("^[0123456789abcdef]+$").test(a))throw Error("Invalid hexadecimal string");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2)b[c/2]=parseInt(a.slice(c,c+2),16);return new TextDecoder().decode(b)}return new TextDecoder().decode(a)})(e)),("base64"===b||"base64url"===b||"base64urlnopad"===b)&&(e=await jY.decode(e)),f().verify("HMAC",a,"string"==typeof e?new TextEncoder().encode(e):e,"string"==typeof d?new TextEncoder().encode(d):d))};return c};a.s(["createHMAC",()=>ng],74935);function nh(a){let b=a.split("."),c=parseInt(b[b.length-1]||"0",10);return isNaN(c)?0:c}function ni(a,b){let c={};for(let d in a)c[d]={name:d,value:"",options:{...b,maxAge:0}};return c}let nj=a=>(b,c,d)=>{let e=function(a,b){let c={};for(let[d,e]of Object.entries(function(a){let b=a.headers?.get("cookie");if(!b)return{};let c={};for(let a of b.split("; ")){let[b,...d]=a.split("=");b&&d.length>0&&(c[b]=d.join("="))}return c}(b)))d.startsWith(a)&&(c[d]=e);return c}(b,d),f=d.context.logger;return{getValue:()=>Object.keys(e).sort((a,b)=>nh(a)-nh(b)).map(a=>e[a]).join(""),hasChunks:()=>Object.keys(e).length>0,chunk(d,g){let h=ni(e,c);for(let a in e)delete e[a];for(let i of function(a,b,c,d){let e=Math.ceil(b.value.length/3896);if(1===e)return c[b.name]=b.value,[b];let f=[];for(let a=0;a<e;a++){let d=`${b.name}.${a}`,e=3896*a,g=b.value.substring(e,e+3896);f.push({...b,name:d,value:g}),c[d]=g}return d.debug(`CHUNKING_${a.toUpperCase()}_COOKIE`,{message:`${a} cookie exceeds allowed 4096 bytes.`,emptyCookieSize:200,valueSize:b.value.length,chunkCount:e,chunks:f.map(a=>a.value.length+200)}),f}(a,{name:b,value:d,options:{...c,...g}},e,f))h[i.name]=i;return Object.values(h)},clean(){let a=ni(e,c);for(let a in e)delete e[a];return Object.values(a)},setCookies(a){for(let b of a)d.setCookie(b.name,b.value,b.options)}}},nk=nj("Session"),nl=nj("Account");function nm(a,b){let c=a.getCookie(b);if(c)return c;let d=[],e=a.headers?.get("cookie");if(!e)return null;let f={};for(let a of e.split("; ")){let[b,...c]=a.split("=");b&&c.length>0&&(f[b]=c.join("="))}for(let[a,c]of Object.entries(f))if(a.startsWith(b+".")){let b=parseInt(a.split(".").at(-1)||"0",10);isNaN(b)||d.push({index:b,value:c})}return d.length>0?(d.sort((a,b)=>a.index-b.index),d.map(a=>a.value).join("")):null}async function nn(a,b){let c=a.context.authCookies.accountData,d={maxAge:300,...c.options},e=await m_(b,a.context.secret,"better-auth-account",d.maxAge);if(e.length>4096){let b=nl(c.name,d,a),f=b.chunk(e,d);b.setCookies(f)}else{let b=nl(c.name,d,a);if(b.hasChunks()){let a=b.clean();b.setCookies(a)}a.setCookie(c.name,e,d)}}async function no(a){let b=nm(a,a.context.authCookies.accountData.name);if(b){let c=(0,jT.n)(await m0(b,a.context.secret,"better-auth-account"));if(c)return c}return null}let np=hY(hw({disableCookieCache:jR.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:jR.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()}));function nq(a){let b=new Map;return a.split(", ").forEach(a=>{let[c,...d]=a.split(";").map(a=>a.trim()),[e,...f]=(c||"").split("="),g=f.join("=");if(!e||void 0===g)return;let h={value:g};d.forEach(a=>{let[b,...c]=a.split("="),d=c.join("="),e=b.trim().toLowerCase();switch(e){case"max-age":h["max-age"]=d?parseInt(d.trim(),10):void 0;break;case"expires":h.expires=d?new Date(d.trim()):void 0;break;case"domain":h.domain=d?d.trim():void 0;break;case"path":h.path=d?d.trim():void 0;break;case"secure":h.secure=!0;break;case"httponly":h.httponly=!0;break;case"samesite":h.samesite=d?d.trim().toLowerCase():void 0;break;default:h[e]=!d||d.trim()}}),b.set(e,h)}),b}function nr(a){let b=(a.advanced?.useSecureCookies!==void 0?a.advanced?.useSecureCookies:void 0!==a.baseURL?!!a.baseURL.startsWith("https://"):nd.f)?"__Secure-":"",c=!!a.advanced?.crossSubDomainCookies?.enabled,d=c?a.advanced?.crossSubDomainCookies?.domain||(a.baseURL?new URL(a.baseURL).hostname:void 0):void 0;if(c&&!d)throw new jU.BetterAuthError("baseURL is required when crossSubdomainCookies are enabled");return function(e,f={}){let g=a.advanced?.cookiePrefix||"better-auth",h=a.advanced?.cookies?.[e]?.name||`${g}.${e}`,i=a.advanced?.cookies?.[e]?.attributes;return{name:`${b}${h}`,attributes:{secure:!!b,sameSite:"lax",path:"/",httpOnly:!0,...c?{domain:d}:{},...a.advanced?.defaultCookieAttributes,...f,...i}}}}function ns(a){let b=nr(a),c=b("session_token",{maxAge:a.session?.expiresIn||function(a){!1;let b=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec("7d");if(!b?.groups)return NaN;let{value:c,unit:d="ms"}=b.groups,e=parseFloat(c),f=d.toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*e;case"months":case"month":case"mo":return 26298e5*e;case"weeks":case"week":case"w":return 6048e5*e;case"days":case"day":case"d":return 864e5*e;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*e;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:throw Error(`Unknown unit "${f}" provided to ms.parse(). value=${JSON.stringify("7d")}`)}}("7d")/1e3}),d=b("session_data",{maxAge:a.session?.cookieCache?.maxAge||300}),e=b("account_data",{maxAge:a.session?.cookieCache?.maxAge||300}),f=b("dont_remember");return{sessionToken:{name:c.name,options:c.attributes},sessionData:{name:d.name,options:d.attributes},dontRememberToken:{name:f.name,options:f.attributes},accountData:{name:e.name,options:e.attributes}}}async function nt(a,b,c){if(a.context.options.session?.cookieCache?.enabled){let d,e=Object.entries(b.session).reduce((b,[c,d])=>{let e=a.context.options.session?.additionalFields?.[c];return e&&!1===e.returned||(b[c]=d),b},{}),f=i8(a.context.options,b.user),g=a.context.options.session?.cookieCache?.version,h="1";if(g){if("string"==typeof g)h=g;else if("function"==typeof g){let a=g(b.session,b.user);h=a instanceof Promise?await a:a}}let i={session:e,user:f,updatedAt:Date.now(),version:h},j={...a.context.authCookies.sessionData.options,maxAge:c?void 0:a.context.authCookies.sessionData.options.maxAge},k=i4(j.maxAge||60,"sec").getTime(),l=a.context.options.session?.cookieCache?.strategy||"compact";if((d="jwe"===l?await m_(i,a.context.secret,"better-auth-session",j.maxAge||300):"jwt"===l?await mX(i,a.context.secret,j.maxAge||300):jZ.encode(JSON.stringify({session:i,expiresAt:k,signature:await ng("SHA-256","base64urlnopad").sign(a.context.secret,JSON.stringify({...i,expiresAt:k}))}),{padding:!1})).length>4093){let b=nk(a.context.authCookies.sessionData.name,j,a),c=b.chunk(d,j);b.setCookies(c)}else{let b=nk(a.context.authCookies.sessionData.name,j,a);if(b.hasChunks()){let a=b.clean();b.setCookies(a)}a.setCookie(a.context.authCookies.sessionData.name,d,j)}}}async function nu(a,b,c,d){let e=await a.getSignedCookie(a.context.authCookies.dontRememberToken.name,a.context.secret);c=void 0!==c?c:!!e;let f=a.context.authCookies.sessionToken.options,g=c?void 0:a.context.sessionConfig.expiresIn;await a.setSignedCookie(a.context.authCookies.sessionToken.name,b.session.token,a.context.secret,{...f,maxAge:g,...d}),c&&await a.setSignedCookie(a.context.authCookies.dontRememberToken.name,"true",a.context.secret,a.context.authCookies.dontRememberToken.options),await nt(a,b,c),a.context.setNewSession(b),a.context.options.secondaryStorage&&await a.context.secondaryStorage?.set(b.session.token,JSON.stringify({user:b.user,session:b.session}),Math.floor((new Date(b.session.expiresAt).getTime()-Date.now())/1e3))}function nv(a,b){if(a.setCookie(a.context.authCookies.sessionToken.name,"",{...a.context.authCookies.sessionToken.options,maxAge:0}),a.setCookie(a.context.authCookies.sessionData.name,"",{...a.context.authCookies.sessionData.options,maxAge:0}),a.context.options.account?.storeAccountCookie){a.setCookie(a.context.authCookies.accountData.name,"",{...a.context.authCookies.accountData.options,maxAge:0});let b=nl(a.context.authCookies.accountData.name,a.context.authCookies.accountData.options,a),c=b.clean();b.setCookies(c)}if("cookie"===a.context.oauthConfig.storeStateStrategy){let b=a.context.createAuthCookie("oauth_state");a.setCookie(b.name,"",{...b.attributes,maxAge:0})}let c=nk(a.context.authCookies.sessionData.name,a.context.authCookies.sessionData.options,a),d=c.clean();c.setCookies(d),b||a.setCookie(a.context.authCookies.dontRememberToken.name,"",{...a.context.authCookies.dontRememberToken.options,maxAge:0})}a.s(["c",()=>nu,"f",()=>no,"h",()=>nn,"i",()=>ns,"l",()=>nq,"m",()=>np,"n",()=>nv,"p",()=>nm,"s",()=>nt,"t",()=>nr],9095);let nw=iZ(async()=>({})),nx=iZ.create({use:[nw,iZ(async()=>({}))]}),ny=[nw],nz=(a,b,c)=>iY(a,{...b,use:[...b?.use||[],...ny]},async a=>jp(a,()=>c(a)));a.s(["createAuthEndpoint",()=>nz,"createAuthMiddleware",()=>nx,"optionsMiddleware",()=>nw],35378)},16044,88537,76472,24651,21190,38155,57201,94813,44984,72377,42082,7043,35239,90332,a=>{"use strict";let b,c,d,e;a.i(44376);var f,g,h=Object.defineProperty,i=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,k=Object.prototype.hasOwnProperty,l=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(var e,f=j(b),g=0,l=f.length;g<l;g++)e=f[g],k.call(a,e)||e===c||h(a,e,{get:(a=>b[a]).bind(null,e),enumerable:!(d=i(b,e))||d.enumerable});return a};({get url(){return`file://${a.P("node_modules/better-auth/dist/chunk-DieNfLhd.mjs")}`}}).url;var m=a.i(63569),n=a.i(73236);a.i(18129);var o=a.i(70755),o=o,p=o,q=a.i(94219);function r(a,b){if(b.advanced?.ipAddress?.disableIpTracking)return null;if((0,p.p)()||(0,o.d)())return"127.0.0.1";let c="headers"in a?a.headers:a;for(let a of b.advanced?.ipAddress?.ipAddressHeaders||["x-forwarded-for"]){let b="get"in c?c.get(a):c[a];if("string"==typeof b){var d;let a=b.split(",")[0].trim();if(d=a,q.ipv4().safeParse(d).success||q.ipv6().safeParse(d).success)return a}}return null}a.s(["t",()=>r],88537),a.i(11115);var s=a.i(83354);a.s([],76472);var t=s;a.s(["getCurrentAdapter",()=>t.t],24651);var t=s,u=s,v=a.i(14956),w=a.i(54757);let x=q.object({id:q.string(),createdAt:q.date().default(()=>new Date),updatedAt:q.date().default(()=>new Date)}),y=x.extend({providerId:q.string(),accountId:q.string(),userId:w.coerce.string(),accessToken:q.string().nullish(),refreshToken:q.string().nullish(),idToken:q.string().nullish(),accessTokenExpiresAt:q.date().nullish(),refreshTokenExpiresAt:q.date().nullish(),scope:q.string().nullish(),password:q.string().nullish()}),z=q.object({key:q.string(),count:q.number(),lastRequest:q.number()}),A=x.extend({userId:w.coerce.string(),expiresAt:q.date(),token:q.string(),ipAddress:q.string().nullish(),userAgent:q.string().nullish()}),B=x.extend({email:q.string().transform(a=>a.toLowerCase()),emailVerified:q.boolean().default(!1),name:q.string(),image:q.string().nullish()}),C=x.extend({value:q.string(),expiresAt:q.date(),identifier:q.string()});a.s(["accountSchema",()=>y,"coreSchema",()=>x,"rateLimitSchema",()=>z,"sessionSchema",()=>A,"userSchema",()=>B,"verificationSchema",()=>C],21190);var D=v,E=o,F=a.i(73294);a.i(91511);var G=a.i(58);a.i(12793);var H=a.i(56771),H=H,I=a.i(37937),J=a.i(19560),K=a.i(80479);a.i(22157),a.s(["default",0,w],68075),a.i(68075),a.s(["$brand",()=>w.$brand,"$input",()=>w.$input,"$output",()=>w.$output,"NEVER",()=>w.NEVER,"TimePrecision",()=>w.TimePrecision,"ZodAny",()=>w.ZodAny,"ZodArray",()=>w.ZodArray,"ZodBase64",()=>w.ZodBase64,"ZodBase64URL",()=>w.ZodBase64URL,"ZodBigInt",()=>w.ZodBigInt,"ZodBigIntFormat",()=>w.ZodBigIntFormat,"ZodBoolean",()=>w.ZodBoolean,"ZodCIDRv4",()=>w.ZodCIDRv4,"ZodCIDRv6",()=>w.ZodCIDRv6,"ZodCUID",()=>w.ZodCUID,"ZodCUID2",()=>w.ZodCUID2,"ZodCatch",()=>w.ZodCatch,"ZodCodec",()=>w.ZodCodec,"ZodCustom",()=>w.ZodCustom,"ZodCustomStringFormat",()=>w.ZodCustomStringFormat,"ZodDate",()=>w.ZodDate,"ZodDefault",()=>w.ZodDefault,"ZodDiscriminatedUnion",()=>w.ZodDiscriminatedUnion,"ZodE164",()=>w.ZodE164,"ZodEmail",()=>w.ZodEmail,"ZodEmoji",()=>w.ZodEmoji,"ZodEnum",()=>w.ZodEnum,"ZodError",()=>w.ZodError,"ZodFile",()=>w.ZodFile,"ZodFirstPartyTypeKind",()=>w.ZodFirstPartyTypeKind,"ZodFunction",()=>w.ZodFunction,"ZodGUID",()=>w.ZodGUID,"ZodIPv4",()=>w.ZodIPv4,"ZodIPv6",()=>w.ZodIPv6,"ZodISODate",()=>w.ZodISODate,"ZodISODateTime",()=>w.ZodISODateTime,"ZodISODuration",()=>w.ZodISODuration,"ZodISOTime",()=>w.ZodISOTime,"ZodIntersection",()=>w.ZodIntersection,"ZodIssueCode",()=>w.ZodIssueCode,"ZodJWT",()=>w.ZodJWT,"ZodKSUID",()=>w.ZodKSUID,"ZodLazy",()=>w.ZodLazy,"ZodLiteral",()=>w.ZodLiteral,"ZodMAC",()=>w.ZodMAC,"ZodMap",()=>w.ZodMap,"ZodNaN",()=>w.ZodNaN,"ZodNanoID",()=>w.ZodNanoID,"ZodNever",()=>w.ZodNever,"ZodNonOptional",()=>w.ZodNonOptional,"ZodNull",()=>w.ZodNull,"ZodNullable",()=>w.ZodNullable,"ZodNumber",()=>w.ZodNumber,"ZodNumberFormat",()=>w.ZodNumberFormat,"ZodObject",()=>w.ZodObject,"ZodOptional",()=>w.ZodOptional,"ZodPipe",()=>w.ZodPipe,"ZodPrefault",()=>w.ZodPrefault,"ZodPromise",()=>w.ZodPromise,"ZodReadonly",()=>w.ZodReadonly,"ZodRealError",()=>w.ZodRealError,"ZodRecord",()=>w.ZodRecord,"ZodSet",()=>w.ZodSet,"ZodString",()=>w.ZodString,"ZodStringFormat",()=>w.ZodStringFormat,"ZodSuccess",()=>w.ZodSuccess,"ZodSymbol",()=>w.ZodSymbol,"ZodTemplateLiteral",()=>w.ZodTemplateLiteral,"ZodTransform",()=>w.ZodTransform,"ZodTuple",()=>w.ZodTuple,"ZodType",()=>w.ZodType,"ZodULID",()=>w.ZodULID,"ZodURL",()=>w.ZodURL,"ZodUUID",()=>w.ZodUUID,"ZodUndefined",()=>w.ZodUndefined,"ZodUnion",()=>w.ZodUnion,"ZodUnknown",()=>w.ZodUnknown,"ZodVoid",()=>w.ZodVoid,"ZodXID",()=>w.ZodXID,"_ZodString",()=>w._ZodString,"_default",()=>w._default,"_function",()=>w._function,"any",()=>w.any,"array",()=>w.array,"base64",()=>w.base64,"base64url",()=>w.base64url,"bigint",()=>w.bigint,"boolean",()=>w.boolean,"catch",()=>w.catch,"check",()=>w.check,"cidrv4",()=>w.cidrv4,"cidrv6",()=>w.cidrv6,"clone",()=>w.clone,"codec",()=>w.codec,"coerce",()=>w.coerce,"config",()=>w.config,"core",()=>w.core,"cuid",()=>w.cuid,"cuid2",()=>w.cuid2,"custom",()=>w.custom,"date",()=>w.date,"decode",()=>w.decode,"decodeAsync",()=>w.decodeAsync,"default",0,w,"describe",()=>w.describe,"discriminatedUnion",()=>w.discriminatedUnion,"e164",()=>w.e164,"email",()=>w.email,"emoji",()=>w.emoji,"encode",()=>w.encode,"encodeAsync",()=>w.encodeAsync,"endsWith",()=>w.endsWith,"enum",()=>w.enum,"file",()=>w.file,"flattenError",()=>w.flattenError,"float32",()=>w.float32,"float64",()=>w.float64,"formatError",()=>w.formatError,"function",()=>w.function,"getErrorMap",()=>w.getErrorMap,"globalRegistry",()=>w.globalRegistry,"gt",()=>w.gt,"gte",()=>w.gte,"guid",()=>w.guid,"hash",()=>w.hash,"hex",()=>w.hex,"hostname",()=>w.hostname,"httpUrl",()=>w.httpUrl,"includes",()=>w.includes,"instanceof",()=>w.instanceof,"int",()=>w.int,"int32",()=>w.int32,"int64",()=>w.int64,"intersection",()=>w.intersection,"ipv4",()=>w.ipv4,"ipv6",()=>w.ipv6,"iso",()=>w.iso,"json",()=>w.json,"jwt",()=>w.jwt,"keyof",()=>w.keyof,"ksuid",()=>w.ksuid,"lazy",()=>w.lazy,"length",()=>w.length,"literal",()=>w.literal,"locales",()=>w.locales,"looseObject",()=>w.looseObject,"lowercase",()=>w.lowercase,"lt",()=>w.lt,"lte",()=>w.lte,"mac",()=>w.mac,"map",()=>w.map,"maxLength",()=>w.maxLength,"maxSize",()=>w.maxSize,"meta",()=>w.meta,"mime",()=>w.mime,"minLength",()=>w.minLength,"minSize",()=>w.minSize,"multipleOf",()=>w.multipleOf,"nan",()=>w.nan,"nanoid",()=>w.nanoid,"nativeEnum",()=>w.nativeEnum,"negative",()=>w.negative,"never",()=>w.never,"nonnegative",()=>w.nonnegative,"nonoptional",()=>w.nonoptional,"nonpositive",()=>w.nonpositive,"normalize",()=>w.normalize,"null",()=>w.null,"nullable",()=>w.nullable,"nullish",()=>w.nullish,"number",()=>w.number,"object",()=>w.object,"optional",()=>w.optional,"overwrite",()=>w.overwrite,"parse",()=>w.parse,"parseAsync",()=>w.parseAsync,"partialRecord",()=>w.partialRecord,"pipe",()=>w.pipe,"positive",()=>w.positive,"prefault",()=>w.prefault,"preprocess",()=>w.preprocess,"prettifyError",()=>w.prettifyError,"promise",()=>w.promise,"property",()=>w.property,"readonly",()=>w.readonly,"record",()=>w.record,"refine",()=>w.refine,"regex",()=>w.regex,"regexes",()=>w.regexes,"registry",()=>w.registry,"safeDecode",()=>w.safeDecode,"safeDecodeAsync",()=>w.safeDecodeAsync,"safeEncode",()=>w.safeEncode,"safeEncodeAsync",()=>w.safeEncodeAsync,"safeParse",()=>w.safeParse,"safeParseAsync",()=>w.safeParseAsync,"set",()=>w.set,"setErrorMap",()=>w.setErrorMap,"size",()=>w.size,"slugify",()=>w.slugify,"startsWith",()=>w.startsWith,"strictObject",()=>w.strictObject,"string",()=>w.string,"stringFormat",()=>w.stringFormat,"stringbool",()=>w.stringbool,"success",()=>w.success,"superRefine",()=>w.superRefine,"symbol",()=>w.symbol,"templateLiteral",()=>w.templateLiteral,"toJSONSchema",()=>w.toJSONSchema,"toLowerCase",()=>w.toLowerCase,"toUpperCase",()=>w.toUpperCase,"transform",()=>w.transform,"treeifyError",()=>w.treeifyError,"trim",()=>w.trim,"tuple",()=>w.tuple,"uint32",()=>w.uint32,"uint64",()=>w.uint64,"ulid",()=>w.ulid,"undefined",()=>w.undefined,"union",()=>w.union,"unknown",()=>w.unknown,"uppercase",()=>w.uppercase,"url",()=>w.url,"util",()=>w.util,"uuid",()=>w.uuid,"uuidv4",()=>w.uuidv4,"uuidv6",()=>w.uuidv6,"uuidv7",()=>w.uuidv7,"void",()=>w.void,"xid",()=>w.xid,"z",0,w],44532);var L=a.i(44532);a.i(21190),a.s(["accountSchema",()=>y,"coreSchema",()=>x,"getAuthTables",()=>v.t,"rateLimitSchema",()=>z,"sessionSchema",()=>A,"userSchema",()=>B,"verificationSchema",()=>C],53277);var M=a.i(53277);async function N(b,c){let d;if(b.database)d="function"==typeof b.database?b.database(b):await c(b);else{let c=Object.keys((0,D.t)(b)).reduce((a,b)=>(a[b]=[],a),{}),{memoryAdapter:e}=await a.A(88010);d=e(c)(b)}return d.transaction||(F.logger.warn("Adapter does not correctly implement transaction function, patching it automatically. Please update your adapter implementation."),d.transaction=async a=>a(d)),d}async function O(b){return N(b,async b=>{let{createKyselyAdapter:c}=await a.A(60484),{kysely:d,databaseType:e,transaction:f}=await c(b);if(!d)throw new G.BetterAuthError("Failed to initialize database adapter");let{kyselyAdapter:g}=await a.A(60484);return g(d,{type:e||"sqlite",debugLogs:!!b.database&&"debugLogs"in b.database&&b.database.debugLogs,transaction:f})(b)})}let P=(a,b)=>({type:a,...b});function Q(a,b){let c=b.id?{id:b.id}:{};for(let d in a){let e=a[d],f=b[d];void 0!==f&&(c[e.fieldName||d]=f)}return c}function R(a,b){if(!b)return null;let c={id:b.id};for(let[d,e]of Object.entries(a))c[d]=b[e.fieldName||d];return c}function S(a,b){let c=b.hooks;return{createWithHooks:async function(b,d,e){let f=await (0,s.u)().catch(()=>null),g=b;for(let a of c||[]){let b=a[d]?.create?.before;if(b){let a=await b(g,f);if(!1===a)return null;"object"==typeof a&&"data"in a&&(g={...g,...a.data})}}let h=e?await e.fn(g):null,i=!e||e.executeMainFn?await (await (0,t.t)(a)).create({model:d,data:g,forceAllowId:!0}):h;for(let a of c||[]){let b=a[d]?.create?.after;b&&await b(i,f)}return i},updateWithHooks:async function(b,d,e,f){let g=await (0,s.u)().catch(()=>null),h=b;for(let a of c||[]){let c=a[e]?.update?.before;if(c){let a=await c(b,g);if(!1===a)return null;"object"==typeof a&&"data"in a&&(h={...h,...a.data})}}let i=f?await f.fn(h):null,j=!f||f.executeMainFn?await (await (0,t.t)(a)).update({model:e,update:h,where:d}):i;for(let a of c||[]){let b=a[e]?.update?.after;b&&await b(j,g)}return j},updateManyWithHooks:async function(b,d,e,f){let g=await (0,s.u)().catch(()=>null),h=b;for(let a of c||[]){let c=a[e]?.update?.before;if(c){let a=await c(b,g);if(!1===a)return null;"object"==typeof a&&"data"in a&&(h={...h,...a.data})}}let i=f?await f.fn(h):null,j=!f||f.executeMainFn?await (await (0,t.t)(a)).updateMany({model:e,update:h,where:d}):i;for(let a of c||[]){let b=a[e]?.update?.after;b&&await b(j,g)}return j},deleteWithHooks:async function(b,d,e){let f=await (0,s.u)().catch(()=>null),g=null;try{g=(await (await (0,t.t)(a)).findMany({model:d,where:b,limit:1}))[0]||null}catch(a){}if(g)for(let a of c||[]){let b=a[d]?.delete?.before;if(b&&await b(g,f)===!1)return null}let h=e?await e.fn(b):null,i=!e||e.executeMainFn?await (await (0,t.t)(a)).delete({model:d,where:b}):h;if(g)for(let a of c||[]){let b=a[d]?.delete?.after;b&&await b(g,f)}return i},deleteManyWithHooks:async function(b,d,e){let f=await (0,s.u)().catch(()=>null),g=[];try{g=await (await (0,t.t)(a)).findMany({model:d,where:b})}catch(a){}for(let a of g)for(let b of c||[]){let c=b[d]?.delete?.before;if(c&&await c(a,f)===!1)return null}let h=e?await e.fn(b):null,i=!e||e.executeMainFn?await (await (0,t.t)(a)).deleteMany({model:d,where:b}):h;for(let a of g)for(let b of c||[]){let c=b[d]?.delete?.after;c&&await c(a,f)}return i}}}let T=(a,b)=>{let c=b.logger,d=b.options,e=d.secondaryStorage,f=d.session?.expiresIn||604800,{createWithHooks:g,updateWithHooks:h,updateManyWithHooks:i,deleteWithHooks:j,deleteManyWithHooks:k}=S(a,b);async function l(a){if(!e)return;let b=await e.get(`active-sessions-${a.id}`);if(!b)return;let c=Date.now(),d=((0,I.safeJSONParse)(b)||[]).filter(a=>a.expiresAt>c);await Promise.all(d.map(async({token:b})=>{let d=await e.get(b);if(!d)return;let f=(0,I.safeJSONParse)(d);if(!f)return;let g=Math.max(Math.floor(new Date(f.session.expiresAt).getTime()-c)/1e3,0);await e.set(b,JSON.stringify({session:f.session,user:a}),Math.floor(g))}))}return{createOAuthUser:async(b,c)=>(0,u.i)(a,async()=>{let a=await g({createdAt:new Date,updatedAt:new Date,...b},"user",void 0);return{user:a,account:await g({...c,userId:a.id,createdAt:new Date,updatedAt:new Date},"account",void 0)}}),createUser:async a=>await g({createdAt:new Date,updatedAt:new Date,...a,email:a.email?.toLowerCase()},"user",void 0),createAccount:async a=>await g({createdAt:new Date,updatedAt:new Date,...a},"account",void 0),listSessions:async c=>{if(e){let a=await e.get(`active-sessions-${c}`);if(!a)return[];let d=(0,I.safeJSONParse)(a)||[],f=Date.now(),g=d.filter(a=>a.expiresAt>f),h=[];for(let a of g){let c=await e.get(a.token);if(c){let a=(0,I.safeJSONParse)(c);if(!a)return[];let d=(0,n.s)(b.options,{...a.session,expiresAt:new Date(a.session.expiresAt)});h.push(d)}}return h}return await (await (0,t.t)(a)).findMany({model:"session",where:[{field:"userId",value:c}]})},listUsers:async(b,c,d,e)=>await (await (0,t.t)(a)).findMany({model:"user",limit:b,offset:c,sortBy:d,where:e}),countTotalUsers:async b=>{let c=await (await (0,t.t)(a)).count({model:"user",where:b});return"string"==typeof c?parseInt(c):c},deleteUser:async a=>{(!e||d.session?.storeSessionInDatabase)&&await k([{field:"userId",value:a}],"session",void 0),await k([{field:"userId",value:a}],"account",void 0),await j([{field:"id",value:a}],"user",void 0)},createSession:async(b,c,h,i)=>{let j=await (0,s.u)().catch(()=>null),k=j?.headers||j?.request?.headers,{id:l,...m}=h||{},o=(0,n.o)(j?.context.options??d,{}),p={ipAddress:(j?.request||j?.headers)&&r(j?.request||j?.headers,j?.context.options)||"",userAgent:k?.get("user-agent")||"",...m,expiresAt:c?(0,n.u)(86400,"sec"):(0,n.u)(f,"sec"),userId:b,token:(0,H.r)(32),createdAt:new Date,updatedAt:new Date,...o,...i?m:{}};return await g(p,"session",e?{fn:async c=>{let d=await e.get(`active-sessions-${b}`),f=[],g=Date.now();d&&(f=(f=(0,I.safeJSONParse)(d)||[]).filter(a=>a.expiresAt>g));let h=f.sort((a,b)=>a.expiresAt-b.expiresAt),i=h.at(-1)?.expiresAt;h.push({token:p.token,expiresAt:p.expiresAt.getTime()}),(!i||i<p.expiresAt.getTime())&&(i=p.expiresAt.getTime());let j=Math.max(Math.floor((i-g)/1e3),0);j>0&&await e.set(`active-sessions-${b}`,JSON.stringify(h),j);let k=await a.findOne({model:"user",where:[{field:"id",value:b}]}),l=Math.max(Math.floor((p.expiresAt.getTime()-g)/1e3),0);return l>0&&await e.set(p.token,JSON.stringify({session:c,user:k}),l),c},executeMainFn:d.session?.storeSessionInDatabase}:void 0)},findSession:async c=>{if(e){let a=await e.get(c);if(!a&&!d.session?.storeSessionInDatabase)return null;if(a){let c=(0,I.safeJSONParse)(a);return c?{session:(0,n.s)(b.options,{...c.session,expiresAt:new Date(c.session.expiresAt),createdAt:new Date(c.session.createdAt),updatedAt:new Date(c.session.updatedAt)}),user:(0,n.l)(b.options,{...c.user,createdAt:new Date(c.user.createdAt),updatedAt:new Date(c.user.updatedAt)})}:null}}let f=await (await (0,t.t)(a)).findOne({model:"session",where:[{value:c,field:"token"}],join:{user:!0}});if(!f)return null;let{user:g,...h}=f;return g?{session:(0,n.s)(b.options,h),user:(0,n.l)(b.options,g)}:null},findSessions:async b=>{if(e){let a=[];for(let c of b){let b=await e.get(c);if(b){let c=(0,I.safeJSONParse)(b);if(!c)return[];let d={session:{...c.session,expiresAt:new Date(c.session.expiresAt)},user:{...c.user,createdAt:new Date(c.user.createdAt),updatedAt:new Date(c.user.updatedAt)}};a.push(d)}}return a}let c=await (await (0,t.t)(a)).findMany({model:"session",where:[{field:"token",value:b,operator:"in"}],join:{user:!0}});return!c.length||c.some(a=>!a.user)?[]:c.map(a=>{let{user:b,...c}=a;return{session:c,user:b}})},updateSession:async(a,b)=>await h(b,[{field:"token",value:a}],"session",e?{async fn(b){let c=await e.get(a);if(!c)return null;{let a=(0,I.safeJSONParse)(c);return a?{...a.session,...b}:null}},executeMainFn:d.session?.storeSessionInDatabase}:void 0),deleteSession:async f=>{if(e){let a=await e.get(f);if(a){let{session:b}=(0,I.safeJSONParse)(a)??{};if(!b)return void c.error("Session not found in secondary storage");let d=b.userId,g=await e.get(`active-sessions-${d}`);if(g){let a=(0,I.safeJSONParse)(g)||[],b=Date.now(),c=a.filter(a=>a.expiresAt>b&&a.token!==f),h=c.sort((a,b)=>a.expiresAt-b.expiresAt).at(-1)?.expiresAt;c.length>0&&h&&h>Date.now()?await e.set(`active-sessions-${d}`,JSON.stringify(c),Math.floor((h-b)/1e3)):await e.delete(`active-sessions-${d}`)}else c.error("Active sessions list not found in secondary storage")}if(await e.delete(f),!d.session?.storeSessionInDatabase||b.options.session?.preserveSessionInDatabase)return}await (await (0,t.t)(a)).delete({model:"session",where:[{field:"token",value:f}]})},deleteAccounts:async a=>{await k([{field:"userId",value:a}],"account",void 0)},deleteAccount:async a=>{await j([{field:"id",value:a}],"account",void 0)},deleteSessions:async a=>{if(e){if("string"==typeof a){let b=await e.get(`active-sessions-${a}`),c=b?(0,I.safeJSONParse)(b):[];if(!c)return;for(let a of c)await e.delete(a.token);await e.delete(`active-sessions-${a}`)}else for(let b of a)await e.get(b)&&await e.delete(b);if(!d.session?.storeSessionInDatabase||b.options.session?.preserveSessionInDatabase)return}await k([{field:Array.isArray(a)?"token":"userId",value:a,operator:Array.isArray(a)?"in":void 0}],"session",void 0)},findOAuthUser:async(b,c,d)=>{let e=await (await (0,t.t)(a)).findMany({model:"account",where:[{value:c,field:"accountId"}],join:{user:!0}}).then(a=>a.find(a=>a.providerId===d));if(e)if(e.user)return{user:e.user,accounts:[e]};else{let c=await (await (0,t.t)(a)).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}]});return c?{user:c,accounts:[e]}:null}{let c=await (await (0,t.t)(a)).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}]});return c?{user:c,accounts:await (await (0,t.t)(a)).findMany({model:"account",where:[{value:c.id,field:"userId"}]})||[]}:null}},findUserByEmail:async(b,c)=>{let d=await (await (0,t.t)(a)).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}],join:{...c?.includeAccounts?{account:!0}:{}}});if(!d)return null;let{account:e,...f}=d;return{user:f,accounts:e??[]}},findUserById:async b=>b?await (await (0,t.t)(a)).findOne({model:"user",where:[{field:"id",value:b}]}):null,linkAccount:async a=>await g({createdAt:new Date,updatedAt:new Date,...a},"account",void 0),updateUser:async(a,b)=>{let c=await h(b,[{field:"id",value:a}],"user",void 0);return await l(c),await l(c),c},updateUserByEmail:async(a,b)=>{let c=await h(b,[{field:"email",value:a.toLowerCase()}],"user",void 0);return await l(c),await l(c),c},updatePassword:async(a,b)=>{await i({password:b},[{field:"userId",value:a},{field:"providerId",value:"credential"}],"account",void 0)},findAccounts:async b=>await (await (0,t.t)(a)).findMany({model:"account",where:[{field:"userId",value:b}]}),findAccount:async b=>await (await (0,t.t)(a)).findOne({model:"account",where:[{field:"accountId",value:b}]}),findAccountByProviderId:async(b,c)=>await (await (0,t.t)(a)).findOne({model:"account",where:[{field:"accountId",value:b},{field:"providerId",value:c}]}),findAccountByUserId:async b=>await (await (0,t.t)(a)).findMany({model:"account",where:[{field:"userId",value:b}]}),updateAccount:async(a,b)=>await h(b,[{field:"id",value:a}],"account",void 0),createVerificationValue:async a=>await g({createdAt:new Date,updatedAt:new Date,...a},"verification",void 0),findVerificationValue:async b=>{let c=await (await (0,t.t)(a)).findMany({model:"verification",where:[{field:"identifier",value:b}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return d.verification?.disableCleanup||await (await (0,t.t)(a)).deleteMany({model:"verification",where:[{field:"expiresAt",value:new Date,operator:"lt"}]}),c[0]},deleteVerificationValue:async b=>{await (await (0,t.t)(a)).delete({model:"verification",where:[{field:"id",value:b}]})},deleteVerificationByIdentifier:async b=>{await (await (0,t.t)(a)).delete({model:"verification",where:[{field:"identifier",value:b}]})},updateVerificationValue:async(a,b)=>await h(b,[{field:"id",value:a}],"verification",void 0)}};function U({fields:a,isClientSide:b}){let c=Object.keys(a).reduce((c,d)=>{let e,f=a[d];return!f||b&&!1===f.input||(e="json"===f.type?L.json?L.json():L.any():"string[]"===f.type||"number[]"===f.type?L.array("string[]"===f.type?L.string():L.number()):Array.isArray(f.type)?L.any():L[f.type](),f?.required===!1&&(e=e.optional()),f?.returned===!1)?c:{...c,[d]:e}},{});return L.object(c)}var V=((a,b)=>{let c={};for(var d in a)h(c,d,{get:a[d],enumerable:!0});return b&&h(c,Symbol.toStringTag,{value:"Module"}),c})({convertFromDB:()=>R,convertToDB:()=>Q,createFieldAttribute:()=>P,createInternalAdapter:()=>T,getAdapter:()=>O,getBaseAdapter:()=>N,getMigrations:()=>$,getSchema:()=>W,getWithHooks:()=>S,matchType:()=>Y,mergeSchema:()=>n.t,parseAccountInput:()=>n.n,parseAccountOutput:()=>n.r,parseAdditionalUserInput:()=>n.i,parseInputData:()=>n.a,parseSessionInput:()=>n.o,parseSessionOutput:()=>n.s,parseUserInput:()=>n.c,parseUserOutput:()=>n.l,toZodSchema:()=>U});function W(a){let b=(0,V.getAuthTables)(a),c={};for(let a in b){let d=b[a],e=d.fields,f={};if(Object.entries(e).forEach(([a,c])=>{if(f[c.fieldName||a]=c,c.references){let d=b[c.references.model];d&&(f[c.fieldName||a].references={...c.references,model:d.modelName,field:c.references.field})}}),c[d.modelName]){c[d.modelName].fields={...c[d.modelName].fields,...f};continue}c[d.modelName]={fields:f,order:d.order||1/0}}return c}g&&(h(V,Symbol.toStringTag,{value:"Module"}),f&&h(f,Symbol.toStringTag,{value:"Module"})),l(V,M,"default"),f&&l(f,M,"default");let X={postgres:{string:["character varying","varchar","text","uuid"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text","uuid"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar","uniqueidentifier"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};function Y(a,b,c){if("string[]"===b||"number[]"===b)return a.toLowerCase().includes("json");let d=X[c];return(Array.isArray(b)?d.string.map(a=>a.toLowerCase()):d[b].map(a=>a.toLowerCase())).includes(a.toLowerCase().split("(")[0].trim())}async function Z(a){try{let b=await J.sql`SHOW search_path`.execute(a);if(b.rows[0]?.search_path)return b.rows[0].search_path.split(",").map(a=>a.trim()).map(a=>a.replace(/^["']|["']$/g,"")).filter(a=>!a.startsWith("$"))[0]||"public"}catch(a){}return"public"}async function $(a){let b=W(a),c=(0,E.n)(a.logger),{kysely:d,databaseType:e}=await (0,m.t)(a);e||(c.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),e="sqlite"),d||(c.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let f="public";if("postgres"===e){f=await Z(d),c.debug(`PostgreSQL migration: Using schema '${f}' (from search_path)`);try{(await J.sql`
				SELECT schema_name 
				FROM information_schema.schemata 
				WHERE schema_name = ${f}
			`.execute(d)).rows[0]||c.warn(`Schema '${f}' does not exist. Tables will be inspected from available schemas. Consider creating the schema first or checking your database configuration.`)}catch(a){c.debug(`Could not verify schema existence: ${a instanceof Error?a.message:String(a)}`)}}let g=await d.introspection.getTables(),h=g;if("postgres"===e)try{let a=await J.sql`
				SELECT table_name 
				FROM information_schema.tables 
				WHERE table_schema = ${f}
				AND table_type = 'BASE TABLE'
			`.execute(d),b=new Set(a.rows.map(a=>a.table_name));h=g.filter(a=>a.schema===f&&b.has(a.name)),c.debug(`Found ${h.length} table(s) in schema '${f}': ${h.map(a=>a.name).join(", ")||"(none)"}`)}catch(a){c.warn(`Could not filter tables by schema. Using all discovered tables. Error: ${a instanceof Error?a.message:String(a)}`)}let i=[],j=[];for(let[a,d]of Object.entries(b)){let b=h.find(b=>b.name===a);if(!b){let b=i.findIndex(b=>b.table===a),c={table:a,fields:d.fields,order:d.order||1/0},e=i.findIndex(a=>(a.order||1/0)>c.order);-1===e?-1===b?i.push(c):i[b].fields={...i[b].fields,...d.fields}:i.splice(e,0,c);continue}let f={};for(let[g,h]of Object.entries(d.fields)){let d=b.columns.find(a=>a.name===g);if(!d){f[g]=h;continue}Y(d.dataType,h.type,e)||c.warn(`Field ${g} in table ${a} has a different type in the database. Expected ${h.type} but got ${d.dataType}.`)}Object.keys(f).length>0&&j.push({table:a,fields:f,order:d.order||1/0})}let k=[],l=a.advanced?.database?.generateId==="uuid",n=a.advanced?.database?.useNumberId||a.advanced?.database?.generateId==="serial";function o(a,b){let c=a.type,d=e||"sqlite",f={string:{sqlite:"text",postgres:"text",mysql:a.unique?"varchar(255)":a.references?"varchar(36)":a.sortable||a.index?"varchar(255)":"text",mssql:a.unique||a.sortable?"varchar(255)":a.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:a.bigint?"bigint":"integer",postgres:a.bigint?"bigint":"integer",mysql:a.bigint?"bigint":"integer",mssql:a.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:J.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:n?J.sql`integer GENERATED BY DEFAULT AS IDENTITY`:l?"uuid":"text",mysql:n?"integer":"varchar(36)",mssql:n?"integer":"varchar(36)",sqlite:n?"integer":"text"},foreignKeyId:{postgres:n?"integer":l?"uuid":"text",mysql:n?"integer":"varchar(36)",mssql:n?"integer":"varchar(36)",sqlite:n?"integer":"text"},"string[]":{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},"number[]":{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"}};if("id"===b||a.references?.field==="id")return"id"===b?f.id[d]:f.foreignKeyId[d];if(Array.isArray(c))return"text";if(!(c in f))throw Error(`Unsupported field type '${String(c)}' for field '${b}'. Allowed types are: string, number, boolean, date, string[], number[]. If you need to store structured data, store it as a JSON string (type: "string") or split it into primitive fields. See https://better-auth.com/docs/advanced/schema#additional-fields`);return f[c][d]}let p=(0,K.initGetModelName)({schema:(0,D.t)(a),usePlural:!1}),q=(0,K.initGetFieldName)({schema:(0,D.t)(a),usePlural:!1});function r(a,b){try{return`${p(a)}.${q({model:a,field:b})}`}catch{return`${a}.${b}`}}if(j.length)for(let a of j)for(let[b,c]of Object.entries(a.fields)){let f=o(c,b),g=d.schema.alterTable(a.table);if(c.index){let c=d.schema.alterTable(a.table).addIndex(`${a.table}_${b}_idx`);k.push(c)}let h=g.addColumn(b,f,a=>(a=!1!==c.required?a.notNull():a,c.references&&(a=a.references(r(c.references.model,c.references.field)).onDelete(c.references.onDelete||"cascade")),c.unique&&(a=a.unique()),"date"===c.type&&"function"==typeof c.defaultValue&&("postgres"===e||"mysql"===e||"mssql"===e)&&(a="mysql"===e?a.defaultTo(J.sql`CURRENT_TIMESTAMP(3)`):a.defaultTo(J.sql`CURRENT_TIMESTAMP`)),a));k.push(h)}let s=[];if(a.advanced?.database?.useNumberId&&c.warn("`useNumberId` is deprecated. Please use `generateId` with `serial` instead."),i.length)for(let a of i){let b=o({type:n?"number":"string"},"id"),c=d.schema.createTable(a.table).addColumn("id",b,a=>{if(n)return"postgres"===e?a.primaryKey().notNull():"sqlite"===e?a.primaryKey().notNull():"mssql"===e?a.identity().primaryKey().notNull():a.autoIncrement().primaryKey().notNull();return l&&"postgres"===e?a.primaryKey().defaultTo(J.sql`pg_catalog.gen_random_uuid()`).notNull():a.primaryKey().notNull()});for(let[b,f]of Object.entries(a.fields)){let g=o(f,b);if(c=c.addColumn(b,g,a=>(a=!1!==f.required?a.notNull():a,f.references&&(a=a.references(r(f.references.model,f.references.field)).onDelete(f.references.onDelete||"cascade")),f.unique&&(a=a.unique()),"date"===f.type&&"function"==typeof f.defaultValue&&("postgres"===e||"mysql"===e||"mssql"===e)&&(a="mysql"===e?a.defaultTo(J.sql`CURRENT_TIMESTAMP(3)`):a.defaultTo(J.sql`CURRENT_TIMESTAMP`)),a)),f.index){let c=d.schema.createIndex(`${a.table}_${b}_${f.unique?"uidx":"idx"}`).on(a.table).columns([b]);s.push(f.unique?c.unique():c)}}k.push(c)}if(s.length)for(let a of s)k.push(a);return{toBeCreated:i,toBeAdded:j,runMigrations:async function(){for(let a of k)await a.execute()},compileMigrations:async function(){return k.map(a=>a.compile().sql).join(";\n\n")+";"}}}a.s(["d",()=>O,"o",()=>T,"t",()=>$],16044);var _=a.i(38889),H=H,aa=a.i(54900);let{get:ab,set:ac}=(0,s.a)(()=>null);async function ad(a,b,c){let d=a.body?.callbackURL||a.context.options.baseURL;if(!d)throw new aa.APIError("BAD_REQUEST",{message:"callbackURL is required"});let e=(0,_.r)(128),f=(0,_.r)(32),g=a.context.oauthConfig.storeStateStrategy,h={...c||{},callbackURL:d,codeVerifier:e,errorURL:a.body?.errorCallbackURL,newUserURL:a.body?.newUserCallbackURL,link:b,expiresAt:Date.now()+6e5,requestSignUp:a.body?.requestSignUp};if(await ac(h),"cookie"===g){let b=await (0,_.n)({key:a.context.secret,data:JSON.stringify(h)}),c=a.context.createAuthCookie("oauth_state",{maxAge:6e5});return a.setCookie(c.name,b,c.attributes),{state:f,codeVerifier:e}}let i=a.context.createAuthCookie("state",{maxAge:3e5});await a.setSignedCookie(i.name,f,a.context.secret,i.attributes);let j=new Date;j.setMinutes(j.getMinutes()+10);let k=await a.context.internalAdapter.createVerificationValue({value:JSON.stringify(h),identifier:f,expiresAt:j});if(!k)throw a.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new aa.APIError("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:k.identifier,codeVerifier:e}}async function ae(a){let b,c=a.query.state||a.body.state,d=a.context.oauthConfig.storeStateStrategy,e=q.looseObject({callbackURL:q.string(),codeVerifier:q.string(),errorURL:q.string().optional(),newUserURL:q.string().optional(),expiresAt:q.number(),link:q.object({email:q.string(),userId:w.coerce.string()}).optional(),requestSignUp:q.boolean().optional()});if("cookie"===d){let d=a.context.createAuthCookie("oauth_state"),f=a.getCookie(d.name);if(!f){a.context.logger.error("State Mismatch. OAuth state cookie not found",{state:c});let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}try{let c=await (0,_.t)({key:a.context.secret,data:f});b=e.parse(JSON.parse(c))}catch(c){a.context.logger.error("Failed to decrypt or parse OAuth state cookie",{error:c});let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}a.setCookie(d.name,"",{maxAge:0})}else{let d=await a.context.internalAdapter.findVerificationValue(c);if(!d){a.context.logger.error("State Mismatch. Verification not found",{state:c});let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}b=e.parse(JSON.parse(d.value));let f=a.context.createAuthCookie("state"),g=await a.getSignedCookie(f.name,a.context.secret);if(!a.context.oauthConfig?.skipStateCookieCheck&&(!g||g!==c)){let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=state_mismatch`)}a.setCookie(f.name,"",{maxAge:0}),await a.context.internalAdapter.deleteVerificationValue(d.id)}if(b.errorURL||(b.errorURL=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`),b.expiresAt<Date.now()){let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}return b&&await ac(b),b}let af={isAction:!1};a.s(["i",()=>ae,"n",()=>af,"r",()=>ad],38155);var ag=H;a.s(["t",()=>ag.r],57201);var ag=H,ah=a.i(9095),ai=a.i(55069),ai=ai,aj=a.i(35378),ak=a.i(694),al=a.i(86519),am=a.i(74935);let an=()=>(0,aj.createAuthEndpoint)("/get-session",{method:"GET",operationId:"getSession",query:ah.m,requireHeaders:!0,metadata:{openapi:{operationId:"getSession",description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",nullable:!0,properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async a=>{try{let b=await a.getSignedCookie(a.context.authCookies.sessionToken.name,a.context.secret);if(!b)return null;let c=(0,ah.p)(a,a.context.authCookies.sessionData.name),d=null;if(c){let b=a.context.options.session?.cookieCache?.strategy||"compact";if("jwe"===b){let b=await (0,_.s)(c,a.context.secret,"better-auth-session");if(b&&b.session&&b.user)d={session:{session:b.session,user:b.user,updatedAt:b.updatedAt,version:b.version},expiresAt:b.exp?1e3*b.exp:Date.now()};else{let b=a.context.authCookies.sessionData.name;return a.setCookie(b,"",{maxAge:0}),a.json(null)}}else if("jwt"===b){let b=await (0,_.l)(c,a.context.secret);if(b&&b.session&&b.user)d={session:{session:b.session,user:b.user,updatedAt:b.updatedAt,version:b.version},expiresAt:b.exp?1e3*b.exp:Date.now()};else{let b=a.context.authCookies.sessionData.name;return a.setCookie(b,"",{maxAge:0}),a.json(null)}}else{let b=(0,I.safeJSONParse)(al.binary.decode(ak.base64Url.decode(c)));if(b)if(await (0,am.createHMAC)("SHA-256","base64urlnopad").verify(a.context.secret,JSON.stringify({...b.session,expiresAt:b.expiresAt}),b.signature))d=b;else{let b=a.context.authCookies.sessionData.name;return a.setCookie(b,"",{maxAge:0}),a.json(null)}}}let e=await a.getSignedCookie(a.context.authCookies.dontRememberToken.name,a.context.secret);if(d?.session&&a.context.options.session?.cookieCache?.enabled&&!a.query?.disableCookieCache){let b=d.session,c=a.context.options.session?.cookieCache?.version,e="1";if(c){if("string"==typeof c)e=c;else if("function"==typeof c){let a=c(b.session,b.user);e=a instanceof Promise?await a:a}}if((b.version||"1")!==e){let b=a.context.authCookies.sessionData.name;a.setCookie(b,"",{maxAge:0})}else if(d.expiresAt<Date.now()||b.session.expiresAt<new Date){let b=a.context.authCookies.sessionData.name;a.setCookie(b,"",{maxAge:0})}else{let c=a.context.sessionConfig.cookieRefreshCache;if(!1===c)return a.context.session=b,a.json({session:b.session,user:b.user});if(d.expiresAt-Date.now()<1e3*c.updateAge){let c=(0,n.u)(a.context.options.session?.cookieCache?.maxAge||300,"sec"),d={session:{...b.session,expiresAt:c},user:b.user,updatedAt:Date.now()};await (0,ah.s)(a,d,!1);let e=(0,n.s)(a.context.options,{...d.session,expiresAt:new Date(d.session.expiresAt),createdAt:new Date(d.session.createdAt),updatedAt:new Date(d.session.updatedAt)}),f=(0,n.l)(a.context.options,{...d.user,createdAt:new Date(d.user.createdAt),updatedAt:new Date(d.user.updatedAt)});return a.context.session={session:e,user:f},a.json({session:e,user:f})}let e=(0,n.s)(a.context.options,{...b.session,expiresAt:new Date(b.session.expiresAt),createdAt:new Date(b.session.createdAt),updatedAt:new Date(b.session.updatedAt)}),f=(0,n.l)(a.context.options,{...b.user,createdAt:new Date(b.user.createdAt),updatedAt:new Date(b.user.updatedAt)});return a.context.session={session:e,user:f},a.json({session:e,user:f})}}let f=await a.context.internalAdapter.findSession(b);if(a.context.session=f,!f||f.session.expiresAt<new Date)return(0,ah.n)(a),f&&await a.context.internalAdapter.deleteSession(f.session.token),a.json(null);if(e||a.query?.disableRefresh){let b=(0,n.s)(a.context.options,f.session),c=(0,n.l)(a.context.options,f.user);return a.json({session:b,user:c})}let g=a.context.sessionConfig.expiresIn,h=a.context.sessionConfig.updateAge;if(f.session.expiresAt.valueOf()-1e3*g+1e3*h<=Date.now()&&(!a.query?.disableRefresh||!a.context.options.session?.disableSessionRefresh)){let b=await a.context.internalAdapter.updateSession(f.session.token,{expiresAt:(0,n.u)(a.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!b)return(0,ah.n)(a),a.json(null,{status:401});let c=(b.expiresAt.valueOf()-Date.now())/1e3;await (0,ah.c)(a,{session:b,user:f.user},!1,{maxAge:c});let d=(0,n.s)(a.context.options,b),e=(0,n.l)(a.context.options,f.user);return a.json({session:d,user:e})}return await (0,ah.s)(a,f,!!e),a.json(f)}catch(b){throw a.context.logger.error("INTERNAL_SERVER_ERROR",b),new aa.APIError("INTERNAL_SERVER_ERROR",{message:ai.n.FAILED_TO_GET_SESSION})}}),ao=async(a,b)=>{if(a.context.session)return a.context.session;let c=await an()({...a,asResponse:!1,headers:a.headers,returnHeaders:!1,returnStatus:!1,query:{...b,...a.query}}).catch(a=>null);return a.context.session=c,c},ap=(0,aj.createAuthMiddleware)(async a=>{let b=await ao(a);if(!b?.session)throw new aa.APIError("UNAUTHORIZED");return{session:b}}),aq=(0,aj.createAuthMiddleware)(async a=>{let b=await ao(a,{disableCookieCache:!0});if(!b?.session)throw new aa.APIError("UNAUTHORIZED");return{session:b}});(0,aj.createAuthMiddleware)(async a=>{let b=await ao(a);if(!b?.session&&(a.request||a.headers))throw new aa.APIError("UNAUTHORIZED");return{session:b}});let ar=(0,aj.createAuthMiddleware)(async a=>{let b=await ao(a);if(!b?.session)throw new aa.APIError("UNAUTHORIZED");if(0===a.context.sessionConfig.freshAge)return{session:b};let c=a.context.sessionConfig.freshAge,d=new Date(b.session.updatedAt||b.session.createdAt).getTime();if(!(Date.now()-d<1e3*c))throw new aa.APIError("FORBIDDEN",{message:"Session is not fresh"});return{session:b}}),as=()=>(0,aj.createAuthEndpoint)("/list-sessions",{method:"GET",operationId:"listUserSessions",use:[ap],requireHeaders:!0,metadata:{openapi:{operationId:"listUserSessions",description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async a=>{try{let b=(await a.context.internalAdapter.listSessions(a.context.session.user.id)).filter(a=>a.expiresAt>new Date);return a.json(b)}catch(b){throw a.context.logger.error(b),a.error("INTERNAL_SERVER_ERROR")}}),at=(0,aj.createAuthEndpoint)("/revoke-session",{method:"POST",body:q.object({token:q.string().meta({description:"The token to revoke"})}),use:[aq],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async a=>{let b=a.body.token;if((await a.context.internalAdapter.findSession(b))?.session.userId===a.context.session.user.id)try{await a.context.internalAdapter.deleteSession(b)}catch(b){throw a.context.logger.error(b&&"object"==typeof b&&"name"in b?b.name:"",b),new aa.APIError("INTERNAL_SERVER_ERROR")}return a.json({status:!0})}),au=(0,aj.createAuthEndpoint)("/revoke-sessions",{method:"POST",use:[aq],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async a=>{try{await a.context.internalAdapter.deleteSessions(a.context.session.user.id)}catch(b){throw a.context.logger.error(b&&"object"==typeof b&&"name"in b?b.name:"",b),new aa.APIError("INTERNAL_SERVER_ERROR")}return a.json({status:!0})}),av=(0,aj.createAuthEndpoint)("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[aq],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async a=>{let b=a.context.session;if(!b.user)throw new aa.APIError("UNAUTHORIZED");let c=(await a.context.internalAdapter.listSessions(b.user.id)).filter(a=>a.expiresAt>new Date).filter(b=>b.token!==a.context.session.session.token);return await Promise.all(c.map(b=>a.context.internalAdapter.deleteSession(b.token))),a.json({status:!0})});a.s(["c",()=>au,"i",()=>as,"l",()=>aq,"n",()=>an,"o",()=>av,"r",()=>ao,"s",()=>at,"t",()=>ar,"u",()=>ap],94813);var u=s,o=o,aw=a.i(68100),ax=o,ai=ai,ay=o,az=ai,aA=Object.defineProperty,aB=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,aD=Object.getOwnPropertySymbols,aE=Object.prototype.hasOwnProperty,aF=Object.prototype.propertyIsEnumerable,aG=(a,b,c)=>b in a?aA(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,aH=(a,b)=>{for(var c in b||(b={}))aE.call(b,c)&&aG(a,c,b[c]);if(aD)for(var c of aD(b))aF.call(b,c)&&aG(a,c,b[c]);return a},aI=(a,b)=>aB(a,aC(b)),aJ=class extends Error{constructor(a,b,c){super(b||a.toString(),{cause:c}),this.status=a,this.statusText=b,this.error=c}},aK=async(a,b)=>{var c,d,e,f,g,h;let i=b||{},j={onRequest:[null==b?void 0:b.onRequest],onResponse:[null==b?void 0:b.onResponse],onSuccess:[null==b?void 0:b.onSuccess],onError:[null==b?void 0:b.onError],onRetry:[null==b?void 0:b.onRetry]};if(!b||!(null==b?void 0:b.plugins))return{url:a,options:i,hooks:j};for(let k of(null==b?void 0:b.plugins)||[]){if(k.init){let d=await (null==(c=k.init)?void 0:c.call(k,a.toString(),b));i=d.options||i,a=d.url}j.onRequest.push(null==(d=k.hooks)?void 0:d.onRequest),j.onResponse.push(null==(e=k.hooks)?void 0:e.onResponse),j.onSuccess.push(null==(f=k.hooks)?void 0:f.onSuccess),j.onError.push(null==(g=k.hooks)?void 0:g.onError),j.onRetry.push(null==(h=k.hooks)?void 0:h.onRetry)}return{url:a,options:i,hooks:j}},aL=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(){return this.options.delay}},aM=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(a){return Math.min(this.options.maxDelay,this.options.baseDelay*2**a)}},aN=async a=>{let b={},c=async a=>"function"==typeof a?await a():a;if(null==a?void 0:a.auth){if("Bearer"===a.auth.type){let d=await c(a.auth.token);if(!d)return b;b.authorization=`Bearer ${d}`}else if("Basic"===a.auth.type){let d=c(a.auth.username),e=c(a.auth.password);if(!d||!e)return b;b.authorization=`Basic ${btoa(`${d}:${e}`)}`}else if("Custom"===a.auth.type){let d=c(a.auth.value);if(!d)return b;b.authorization=`${c(a.auth.prefix)} ${d}`}}return b},aO=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function aP(a){if(void 0===a)return!1;let b=typeof a;return"string"===b||"number"===b||"boolean"===b||null===b||"object"===b&&(!!Array.isArray(a)||!a.buffer&&(a.constructor&&"Object"===a.constructor.name||"function"==typeof a.toJSON))}function aQ(a){try{return JSON.parse(a)}catch(b){return a}}async function aR(a){let b=new Headers(null==a?void 0:a.headers);for(let[c,d]of Object.entries(await aN(a)||{}))b.set(c,d);if(!b.has("content-type")){let c=aP(null==a?void 0:a.body)?"application/json":null;c&&b.set("content-type",c)}return b}var aS=class a extends Error{constructor(b,c){super(c||JSON.stringify(b,null,2)),this.issues=b,Object.setPrototypeOf(this,a.prototype)}};async function aT(a,b){let c=await a["~standard"].validate(b);if(c.issues)throw new aS(c.issues);return c.value}var aU=["get","post","put","patch","delete"],aV=async(a,b)=>{var c,d,e,f,g,h,i,j;let k,{hooks:l,url:m,options:n}=await aK(a,b),o=function(a){if(null==a?void 0:a.customFetchImpl)return a.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(n),p=new AbortController,q=null!=(c=n.signal)?c:p.signal,r=function(a,b){let{baseURL:c,params:d,query:e}=b||{query:{},params:{},baseURL:""},f=a.startsWith("http")?a.split("/").slice(0,3).join("/"):c||"";if(a.startsWith("@")){let b=a.toString().split("@")[1].split("/")[0];aU.includes(b)&&(a=a.replace(`@${b}/`,"/"))}f.endsWith("/")||(f+="/");let[g,h]=a.replace(f,"").split("?"),i=new URLSearchParams(h);for(let[a,b]of Object.entries(e||{}))null!=b&&i.set(a,String(b));if(d)if(Array.isArray(d))for(let[a,b]of g.split("/").filter(a=>a.startsWith(":")).entries()){let c=d[a];g=g.replace(b,c)}else for(let[a,b]of Object.entries(d))g=g.replace(`:${a}`,String(b));(g=g.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(g=g.slice(1));let j=i.toString();return(j=j.length>0?`?${j}`.replace(/\+/g,"%20"):"",f.startsWith("http"))?new URL(`${g}${j}`,f):`${f}${g}${j}`}(m,n),s=function(a){if(!(null==a?void 0:a.body))return null;let b=new Headers(null==a?void 0:a.headers);if(aP(a.body)&&!b.has("content-type")){for(let[b,c]of Object.entries(null==a?void 0:a.body))c instanceof Date&&(a.body[b]=c.toISOString());return JSON.stringify(a.body)}return a.body}(n),t=await aR(n),u=function(a,b){var c;if(null==b?void 0:b.method)return b.method.toUpperCase();if(a.startsWith("@")){let d=null==(c=a.split("@")[1])?void 0:c.split("/")[0];return aU.includes(d)?d.toUpperCase():(null==b?void 0:b.body)?"POST":"GET"}return(null==b?void 0:b.body)?"POST":"GET"}(m,n),v=aI(aH({},n),{url:r,headers:t,body:s,method:u,signal:q});for(let a of l.onRequest)if(a){let b=await a(v);b instanceof Object&&(v=b)}("pipeTo"in v&&"function"==typeof v.pipeTo||"function"==typeof(null==(d=null==b?void 0:b.body)?void 0:d.pipe))&&!("duplex"in v)&&(v.duplex="half");let{clearTimeout:w}=(!(null==n?void 0:n.signal)&&(null==n?void 0:n.timeout)&&(k=setTimeout(()=>null==p?void 0:p.abort(),null==n?void 0:n.timeout)),{abortTimeout:k,clearTimeout:()=>{k&&clearTimeout(k)}}),x=await o(v.url,v);w();let y={response:x,request:v};for(let a of l.onResponse)if(a){let c=await a(aI(aH({},y),{response:(null==(e=null==b?void 0:b.hookOptions)?void 0:e.cloneResponse)?x.clone():x}));c instanceof Response?x=c:c instanceof Object&&(x=c.response)}if(x.ok){if("HEAD"===v.method)return{data:"",error:null};let a=function(a){let b=a.headers.get("content-type"),c=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!b)return"json";let d=b.split(";").shift()||"";return aO.test(d)?"json":c.has(d)||d.startsWith("text/")?"text":"blob"}(x),c={data:"",response:x,request:v};if("json"===a||"text"===a){let a=await x.text(),b=null!=(f=v.jsonParser)?f:aQ;c.data=await b(a)}else c.data=await x[a]();for(let a of((null==v?void 0:v.output)&&v.output&&!v.disableValidation&&(c.data=await aT(v.output,c.data)),l.onSuccess))a&&await a(aI(aH({},c),{response:(null==(g=null==b?void 0:b.hookOptions)?void 0:g.cloneResponse)?x.clone():x}));return(null==b?void 0:b.throw)?c.data:{data:c.data,error:null}}let z=null!=(h=null==b?void 0:b.jsonParser)?h:aQ,A=await x.text(),B=function(a){try{return JSON.parse(a),!0}catch(a){return!1}}(A),C=B?await z(A):null,D={response:x,responseText:A,request:v,error:aI(aH({},C),{status:x.status,statusText:x.statusText})};for(let a of l.onError)a&&await a(aI(aH({},D),{response:(null==(i=null==b?void 0:b.hookOptions)?void 0:i.cloneResponse)?x.clone():x}));if(null==b?void 0:b.retry){let c=function(a){if("number"==typeof a)return new aL({type:"linear",attempts:a,delay:1e3});switch(a.type){case"linear":return new aL(a);case"exponential":return new aM(a);default:throw Error("Invalid retry strategy")}}(b.retry),d=null!=(j=b.retryAttempt)?j:0;if(await c.shouldAttemptRetry(d,x)){for(let a of l.onRetry)a&&await a(y);let e=c.getDelay(d);return await new Promise(a=>setTimeout(a,e)),await aV(a,aI(aH({},b),{retryAttempt:d+1}))}}if(null==b?void 0:b.throw)throw new aJ(x.status,x.statusText,B?C:A);return{data:null,error:aI(aH({},C),{status:x.status,statusText:x.statusText})}},aW=a.i(9633);function aX({options:a,scope:b,authentication:c,resource:d}){let e=new URLSearchParams,f={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(e.set("grant_type","client_credentials"),b&&e.set("scope",b),d)if("string"==typeof d)e.append("resource",d);else for(let a of d)e.append("resource",a);if("basic"===c){let b=Array.isArray(a.clientId)?a.clientId[0]:a.clientId;f.authorization=`Basic ${ak.base64Url.encode(`${b}:${a.clientSecret}`)}`}else{let b=Array.isArray(a.clientId)?a.clientId[0]:a.clientId;e.set("client_id",b),e.set("client_secret",a.clientSecret)}return{body:e,headers:f}}async function aY({options:a,tokenEndpoint:b,scope:c,authentication:d,resource:e}){let{body:f,headers:g}=aX({options:a,scope:c,authentication:d,resource:e}),{data:h,error:i}=await aV(b,{method:"POST",body:f,headers:g});if(i)throw i;let j={accessToken:h.access_token,tokenType:h.token_type,scopes:h.scope?.split(" ")};return h.expires_in&&(j.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*h.expires_in)),j}function aZ(a){let b=a=>new Date(new Date().getTime()+1e3*a);return{tokenType:a.token_type,accessToken:a.access_token,refreshToken:a.refresh_token,accessTokenExpiresAt:a.expires_in?b(a.expires_in):void 0,refreshTokenExpiresAt:a.refresh_token_expires_in?b(a.refresh_token_expires_in):void 0,scopes:a?.scope?"string"==typeof a.scope?a.scope.split(" "):a.scope:[],idToken:a.id_token,raw:a}}async function a$(a){let b=new TextEncoder().encode(a),c=await crypto.subtle.digest("SHA-256",b);return ak.base64Url.encode(new Uint8Array(c),{padding:!1})}async function a_({id:a,options:b,authorizationEndpoint:c,state:d,codeVerifier:e,scopes:f,claims:g,redirectURI:h,duration:i,prompt:j,accessType:k,responseType:l,display:m,loginHint:n,hd:o,responseMode:p,additionalParams:q,scopeJoiner:r}){let s=new URL(c);s.searchParams.set("response_type",l||"code");let t=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;if(s.searchParams.set("client_id",t),s.searchParams.set("state",d),f&&s.searchParams.set("scope",f.join(r||" ")),s.searchParams.set("redirect_uri",b.redirectURI||h),i&&s.searchParams.set("duration",i),m&&s.searchParams.set("display",m),n&&s.searchParams.set("login_hint",n),j&&s.searchParams.set("prompt",j),o&&s.searchParams.set("hd",o),k&&s.searchParams.set("access_type",k),p&&s.searchParams.set("response_mode",p),e){let a=await a$(e);s.searchParams.set("code_challenge_method","S256"),s.searchParams.set("code_challenge",a)}if(g){let a=g.reduce((a,b)=>(a[b]=null,a),{});s.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...a}}))}return q&&Object.entries(q).forEach(([a,b])=>{s.searchParams.set(a,b)}),s}function a0({refreshToken:a,options:b,authentication:c,extraParams:d,resource:e}){let f=new URLSearchParams,g={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(f.set("grant_type","refresh_token"),f.set("refresh_token",a),"basic"===c){let a=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;a?g.authorization="Basic "+ak.base64.encode(`${a}:${b.clientSecret??""}`):g.authorization="Basic "+ak.base64.encode(`:${b.clientSecret??""}`)}else{let a=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;f.set("client_id",a),b.clientSecret&&f.set("client_secret",b.clientSecret)}if(e)if("string"==typeof e)f.append("resource",e);else for(let a of e)f.append("resource",a);if(d)for(let[a,b]of Object.entries(d))f.set(a,b);return{body:f,headers:g}}async function a1({refreshToken:a,options:b,tokenEndpoint:c,authentication:d,extraParams:e}){let{body:f,headers:g}=a0({refreshToken:a,options:b,authentication:d,extraParams:e}),{data:h,error:i}=await aV(c,{method:"POST",body:f,headers:g});if(i)throw i;let j={accessToken:h.access_token,refreshToken:h.refresh_token,tokenType:h.token_type,scopes:h.scope?.split(" "),idToken:h.id_token};return h.expires_in&&(j.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*h.expires_in)),j}function a2({code:a,codeVerifier:b,redirectURI:c,options:d,authentication:e,deviceId:f,headers:g,additionalParams:h={},resource:i}){let j=new URLSearchParams,k={"content-type":"application/x-www-form-urlencoded",accept:"application/json",...g};if(j.set("grant_type","authorization_code"),j.set("code",a),b&&j.set("code_verifier",b),d.clientKey&&j.set("client_key",d.clientKey),f&&j.set("device_id",f),j.set("redirect_uri",d.redirectURI||c),i)if("string"==typeof i)j.append("resource",i);else for(let a of i)j.append("resource",a);if("basic"===e){let a=Array.isArray(d.clientId)?d.clientId[0]:d.clientId;k.authorization=`Basic ${ak.base64.encode(`${a}:${d.clientSecret??""}`)}`}else{let a=Array.isArray(d.clientId)?d.clientId[0]:d.clientId;j.set("client_id",a),d.clientSecret&&j.set("client_secret",d.clientSecret)}for(let[a,b]of Object.entries(h))j.has(a)||j.append(a,b);return{body:j,headers:k}}async function a3({code:a,codeVerifier:b,redirectURI:c,options:d,tokenEndpoint:e,authentication:f,deviceId:g,headers:h,additionalParams:i={},resource:j}){let{body:k,headers:l}=a2({code:a,codeVerifier:b,redirectURI:c,options:d,authentication:f,deviceId:g,headers:h,additionalParams:i,resource:j}),{data:m,error:n}=await aV(e,{method:"POST",body:k,headers:l});if(n)throw n;return aZ(m)}async function a4(a,b){let{data:c,error:d}=await aV(b,{method:"GET",headers:{accept:"application/json"}});if(d)throw d;let e=c.keys,f=JSON.parse(atob(a.split(".")[0])),g=e.find(a=>a.kid===f.kid);if(!g)throw Error("Key not found");return await (0,aW.jwtVerify)(a,g)}a.s(["a",()=>a1,"c",()=>aZ,"i",()=>a0,"l",()=>aY,"n",()=>a3,"o",()=>a_,"r",()=>a4,"s",()=>a$,"t",()=>a2,"u",()=>aX],44984);var a5=a.i(72328),a6=a.i(83607),a7=a.i(13730);function a8(a){return(0,a7.isObject)(a)}class a9{#q;#r=new WeakMap;constructor(a){if(!function(a){return a&&"object"==typeof a&&Array.isArray(a.keys)&&a.keys.every(a8)}(a))throw new a5.JWKSInvalid("JSON Web Key Set malformed");this.#q=structuredClone(a)}jwks(){return this.#q}async getKey(a,b){let{alg:c,kid:d}={...a,...b?.header},e=function(a){switch("string"==typeof a&&a.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new a5.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(c),f=this.#q.keys.filter(a=>{let b=e===a.kty;if(b&&"string"==typeof d&&(b=d===a.kid),b&&("string"==typeof a.alg||"AKP"===e)&&(b=c===a.alg),b&&"string"==typeof a.use&&(b="sig"===a.use),b&&Array.isArray(a.key_ops)&&(b=a.key_ops.includes("verify")),b)switch(c){case"ES256":b="P-256"===a.crv;break;case"ES384":b="P-384"===a.crv;break;case"ES512":b="P-521"===a.crv;break;case"Ed25519":case"EdDSA":b="Ed25519"===a.crv}return b}),{0:g,length:h}=f;if(0===h)throw new a5.JWKSNoMatchingKey;if(1!==h){let a=new a5.JWKSMultipleMatchingKeys,b=this.#r;throw a[Symbol.asyncIterator]=async function*(){for(let a of f)try{yield await ba(b,a,c)}catch{}},a}return ba(this.#r,g,c)}}async function ba(a,b,c){let d=a.get(b)||a.set(b,{}).get(b);if(void 0===d[c]){let a=await (0,a6.importJWK)({...b,ext:!0},c);if(a instanceof Uint8Array||"public"!==a.type)throw new a5.JWKSInvalid("JSON Web Key Set members must be public keys");d[c]=a}return d[c]}function bb(a){let b=new a9(a),c=async(a,c)=>b.getKey(a,c);return Object.defineProperties(c,{jwks:{value:()=>structuredClone(b.jwks()),enumerable:!1,configurable:!1,writable:!1}}),c}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(b="jose/v6.1.3");let bc=Symbol();async function bd(a,b,c,d=fetch){let e=await d(a,{method:"GET",signal:c,redirect:"manual",headers:b}).catch(a=>{if("TimeoutError"===a.name)throw new a5.JWKSTimeout;throw a});if(200!==e.status)throw new a5.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await e.json()}catch{throw new a5.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let be=Symbol();class bf{#s;#t;#u;#v;#w;#x;#y;#z;#A;#B;constructor(a,c){if(!(a instanceof URL))throw TypeError("url must be an instance of URL");this.#s=new URL(a.href),this.#t="number"==typeof c?.timeoutDuration?c?.timeoutDuration:5e3,this.#u="number"==typeof c?.cooldownDuration?c?.cooldownDuration:3e4,this.#v="number"==typeof c?.cacheMaxAge?c?.cacheMaxAge:6e5,this.#y=new Headers(c?.headers),b&&!this.#y.has("User-Agent")&&this.#y.set("User-Agent",b),this.#y.has("accept")||(this.#y.set("accept","application/json"),this.#y.append("accept","application/jwk-set+json")),this.#z=c?.[bc],c?.[be]!==void 0&&(this.#B=c?.[be],function(a,b){return!("object"!=typeof a||null===a||!("uat"in a)||"number"!=typeof a.uat||Date.now()-a.uat>=b)&&"jwks"in a&&!!(0,a7.isObject)(a.jwks)&&!!Array.isArray(a.jwks.keys)&&!!Array.prototype.every.call(a.jwks.keys,a7.isObject)}(c?.[be],this.#v)&&(this.#w=this.#B.uat,this.#A=bb(this.#B.jwks)))}pendingFetch(){return!!this.#x}coolingDown(){return"number"==typeof this.#w&&Date.now()<this.#w+this.#u}fresh(){return"number"==typeof this.#w&&Date.now()<this.#w+this.#v}jwks(){return this.#A?.jwks()}async getKey(a,b){this.#A&&this.fresh()||await this.reload();try{return await this.#A(a,b)}catch(c){if(c instanceof a5.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),this.#A(a,b);throw c}}async reload(){this.#x&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this.#x=void 0),this.#x||=bd(this.#s.href,this.#y,AbortSignal.timeout(this.#t),this.#z).then(a=>{this.#A=bb(a),this.#B&&(this.#B.uat=Date.now(),this.#B.jwks=a),this.#w=Date.now(),this.#x=void 0}).catch(a=>{throw this.#x=void 0,a}),await this.#x}}var bg=a.i(9634),bh=a.i(89822);function bi(a){let b,c;if("string"!=typeof a)throw new a5.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new a5.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new a5.JWTInvalid("Invalid JWT");if(!d)throw new a5.JWTInvalid("JWTs must contain a payload");try{b=(0,bg.decode)(d)}catch{throw new a5.JWTInvalid("Failed to base64url decode the payload")}try{c=JSON.parse(bh.decoder.decode(b))}catch{throw new a5.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,a7.isObject)(c))throw new a5.JWTInvalid("Invalid JWT Claims Set");return c}function bj(a){let b;if("string"==typeof a){let c=a.split(".");(3===c.length||5===c.length)&&([b]=c)}else if("object"==typeof a&&a)if("protected"in a)b=a.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof b||!b)throw Error();let a=JSON.parse(bh.decoder.decode((0,bg.decode)(b)));if(!(0,a7.isObject)(a))throw Error();return a}catch{throw TypeError("Invalid Token or Protected Header formatting")}}let bk=async a=>{let{data:b}=await aV("https://appleid.apple.com/auth/keys");if(!b?.keys)throw new aa.APIError("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await (0,a6.importJWK)(c,c.alg)},bl=async(a,b,c)=>{let d=`https://cognito-idp.${b}.amazonaws.com/${c}/.well-known/jwks.json`;try{let{data:b}=await aV(d);if(!b?.keys)throw new aa.APIError("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await (0,a6.importJWK)(c,c.alg)}catch(a){throw ay.i.error("Failed to fetch Cognito public key:",a),a}},bm=(a="")=>a.split("://").map(a=>a.replace(/\/{2,}/g,"/")).join("://"),bn=async a=>{let{data:b}=await aV("https://www.googleapis.com/oauth2/v3/certs");if(!b?.keys)throw new aa.APIError("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await (0,a6.importJWK)(c,c.alg)},bo={apple:a=>({id:"apple",name:"Apple",async createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["email","name"];return a.scope&&e.push(...a.scope),c&&e.push(...c),await a_({id:"apple",options:a,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:e,state:b,redirectURI:d,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://appleid.apple.com/auth/token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let{kid:d,alg:e}=bj(b);if(!d||!e)return!1;let{payload:f}=await (0,aW.jwtVerify)(b,await bk(d),{algorithms:[e],issuer:"https://appleid.apple.com",audience:a.audience&&a.audience.length?a.audience:a.appBundleIdentifier?a.appBundleIdentifier:a.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(a=>{void 0!==f[a]&&(f[a]=!!f[a])}),(!c||f.nonce===c)&&!!f},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=bi(b.idToken);if(!c)return null;let d=b.user?`${b.user.name?.firstName} ${b.user.name?.lastName}`:c.name||c.email,e="boolean"==typeof c.email_verified?c.email_verified:"true"===c.email_verified,f={...c,name:d},g=await a.mapProfileToUser?.(f);return{user:{id:c.sub,name:f.name,emailVerified:e,email:c.email,...g},data:f}},options:a}),atlassian:a=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw ay.i.error("Client Id and Secret are required for Atlassian"),new az.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new az.t("codeVerifier is required for Atlassian");let f=a.disableDefaultScope?[]:["read:jira-user","offline_access"];return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"atlassian",options:a,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e,additionalParams:{audience:"api.atlassian.com"},prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return null;try{let{data:c}=await aV("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.account_id,name:c.name,email:c.email,image:c.picture,emailVerified:!1,...d},data:c}}catch(a){return ay.i.error("Failed to fetch user info from Figma:",a),null}},options:a}),cognito:a=>{if(!a.domain||!a.region||!a.userPoolId)throw ay.i.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new az.t("DOMAIN_AND_REGION_REQUIRED");let b=a.domain.replace(/^https?:\/\//,""),c=`https://${b}/oauth2/authorize`,d=`https://${b}/oauth2/token`,e=`https://${b}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f}){if(!a.clientId)throw ay.i.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new az.t("CLIENT_ID_AND_SECRET_REQUIRED");if(a.requireClientSecret&&!a.clientSecret)throw ay.i.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new az.t("CLIENT_SECRET_REQUIRED");let g=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&g.push(...a.scope),d&&g.push(...d),await a_({id:"cognito",options:{...a},authorizationEndpoint:c,scopes:g,state:b,codeVerifier:e,redirectURI:f,prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>a3({code:b,codeVerifier:c,redirectURI:e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:d}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);try{let{kid:d,alg:e}=bj(b);if(!d||!e)return!1;let f=await bl(d,a.region,a.userPoolId),g=`https://cognito-idp.${a.region}.amazonaws.com/${a.userPoolId}`,{payload:h}=await (0,aW.jwtVerify)(b,f,{algorithms:[e],issuer:g,audience:a.clientId,maxTokenAge:"1h"});if(c&&h.nonce!==c)return!1;return!0}catch(a){return ay.i.error("Failed to verify ID token:",a),!1}},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(b.idToken)try{let c=bi(b.idToken);if(!c)return null;let d=c.name||c.given_name||c.username||c.email,e={...c,name:d},f=await a.mapProfileToUser?.(e);return{user:{id:c.sub,name:e.name,email:c.email,image:c.picture,emailVerified:c.email_verified,...f},data:e}}catch(a){ay.i.error("Failed to decode ID token:",a)}if(b.accessToken)try{let{data:c}=await aV(e,{headers:{Authorization:`Bearer ${b.accessToken}`}});if(c){let b=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.given_name||c.username,email:c.email,image:c.picture,emailVerified:c.email_verified,...b},data:c}}}catch(a){ay.i.error("Failed to fetch user info from Cognito:",a)}return null},options:a}},discord:a=>({id:"discord",name:"Discord",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["identify","email"];c&&e.push(...c),a.scope&&e.push(...a.scope);let f=e.includes("bot")&&void 0!==a.permissions?`&permissions=${a.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${e.join("+")}&response_type=code&client_id=${a.clientId}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}&prompt=${a.prompt||"none"}${f}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:c,options:a,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;if(null===c.avatar)c.image_url=`https://cdn.discordapp.com/embed/avatars/${"0"===c.discriminator?Number(BigInt(c.id)>>BigInt(22))%6:parseInt(c.discriminator)%5}.png`;else{let a=c.avatar.startsWith("a_")?"gif":"png";c.image_url=`https://cdn.discordapp.com/avatars/${c.id}/${c.avatar}.${a}`}let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.global_name||c.username||"",email:c.email,emailVerified:c.verified,image:c.image_url,...e},data:c}},options:a}),facebook:a=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:b,scopes:c,redirectURI:d,loginHint:e}){let f=a.disableDefaultScope?[]:["email","public_profile"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await a_({id:"facebook",options:a,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:f,state:b,redirectURI:d,loginHint:e,additionalParams:a.configId?{config_id:a.configId}:{}})},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:c,options:a,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);if(3===b.split(".").length)try{var d;let e,f,{payload:g}=await (0,aW.jwtVerify)(b,(d=new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/"),e=new bf(d,void 0),f=async(a,b)=>e.getKey(a,b),Object.defineProperties(f,{coolingDown:{get:()=>e.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>e.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>e.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>e.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>e.jwks(),enumerable:!0,configurable:!1,writable:!1}}),f),{algorithms:["RS256"],audience:a.clientId,issuer:"https://www.facebook.com"});if(c&&g.nonce!==c)return!1;return!!g}catch(a){return!1}return!0},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(b.idToken&&3===b.idToken.split(".").length){let c=bi(b.idToken),d={id:c.sub,name:c.name,email:c.email,picture:{data:{url:c.picture,height:100,width:100,is_silhouette:!1}}},e=await a.mapProfileToUser?.({...d,email_verified:!1});return{user:{...d,emailVerified:!1,...e},data:c}}let{data:c,error:d}=await aV("https://graph.facebook.com/me?fields="+["id","name","email","picture",...a?.fields||[]].join(","),{auth:{type:"Bearer",token:b.accessToken}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name,email:c.email,image:c.picture.data.url,emailVerified:c.email_verified,...e},data:c}},options:a}),figma:a=>({id:"figma",name:"Figma",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw ay.i.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new az.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new az.t("codeVerifier is required for Figma");let f=a.disableDefaultScope?[]:["file_read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await a_({id:"figma",options:a,authorizationEndpoint:"https://www.figma.com/oauth",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);try{let{data:c}=await aV("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return ay.i.error("Failed to fetch user from Figma"),null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.handle,email:c.email,image:c.img_url,emailVerified:!!c.email,...d},data:c}}catch(a){return ay.i.error("Failed to fetch user info from Figma:",a),null}},options:a}),github:a=>({id:"github",name:"GitHub",createAuthorizationURL({state:b,scopes:c,loginHint:d,codeVerifier:e,redirectURI:f}){let g=a.disableDefaultScope?[]:["read:user","user:email"];return a.scope&&g.push(...a.scope),c&&g.push(...c),a_({id:"github",options:a,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:g,state:b,codeVerifier:e,redirectURI:f,loginHint:d,prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://github.com/login/oauth/access_token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${b.accessToken}`}});if(d)return null;let{data:e}=await aV("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${b.accessToken}`,"User-Agent":"better-auth"}});!c.email&&e&&(c.email=(e.find(a=>a.primary)??e[0])?.email);let f=e?.find(a=>a.email===c.email)?.verified??!1,g=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name||c.login,email:c.email,image:c.avatar_url,emailVerified:f,...g},data:c}},options:a}),microsoft:a=>{let b=a.tenantId||"common",c=a.authority||"https://login.microsoftonline.com",d=`${c}/${b}/oauth2/v2.0/authorize`,e=`${c}/${b}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(b){let c=a.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return a.scope&&c.push(...a.scope),b.scopes&&c.push(...b.scopes),a_({id:"microsoft",options:a,authorizationEndpoint:d,state:b.state,codeVerifier:b.codeVerifier,scopes:c,redirectURI:b.redirectURI,prompt:a.prompt,loginHint:b.loginHint})},validateAuthorizationCode:({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:e}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=bi(b.idToken),d=a.profilePhotoSize||48;await aV(`https://graph.microsoft.com/v1.0/me/photos/${d}x${d}/$value`,{headers:{Authorization:`Bearer ${b.accessToken}`},async onResponse(b){if(!a.disableProfilePhoto&&b.response.ok)try{let a=await b.response.clone().arrayBuffer();c.picture=`data:image/jpeg;base64, ${ak.base64.encode(a)}`}catch(a){ay.i.error(a&&"object"==typeof a&&"name"in a?a.name:"",a)}}});let e=await a.mapProfileToUser?.(c),f=void 0!==c.email_verified?c.email_verified:!!(c.email&&(c.verified_primary_email?.includes(c.email)||c.verified_secondary_email?.includes(c.email)));return{user:{id:c.sub,name:c.name,email:c.email,image:c.picture,emailVerified:f,...e},data:c}},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>{let c=a.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return a.scope&&c.push(...a.scope),a1({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},extraParams:{scope:c.join(" ")},tokenEndpoint:e})},options:a}},google:a=>({id:"google",name:"Google",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e,loginHint:f,display:g}){if(!a.clientId||!a.clientSecret)throw ay.i.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new az.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new az.t("codeVerifier is required for Google");let h=a.disableDefaultScope?[]:["email","profile","openid"];return a.scope&&h.push(...a.scope),c&&h.push(...c),await a_({id:"google",options:a,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:h,state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt,accessType:a.accessType,display:g||a.display,loginHint:f,hd:a.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let{kid:d,alg:e}=bj(b);if(!d||!e)return!1;let{payload:f}=await (0,aW.jwtVerify)(b,await bn(d),{algorithms:[e],issuer:["https://accounts.google.com","accounts.google.com"],audience:a.clientId,maxTokenAge:"1h"});return!c||f.nonce===c},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=bi(b.idToken),d=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name,email:c.email,image:c.picture,emailVerified:c.email_verified,...d},data:c}},options:a}),huggingface:a=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"huggingface",options:a,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.preferred_username,email:c.email,image:c.picture,emailVerified:c.email_verified??!1,...e},data:c}},options:a}),slack:a=>({id:"slack",name:"Slack",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["openid","profile","email"];c&&e.push(...c),a.scope&&e.push(...a.scope);let f=new URL("https://slack.com/openid/connect/authorize");return f.searchParams.set("scope",e.join(" ")),f.searchParams.set("response_type","code"),f.searchParams.set("client_id",a.clientId),f.searchParams.set("redirect_uri",a.redirectURI||d),f.searchParams.set("state",b),f},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:c,options:a,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c["https://slack.com/user_id"],name:c.name||"",email:c.email,emailVerified:c.email_verified,image:c.picture||c["https://slack.com/user_image_512"],...e},data:c}},options:a}),spotify:a=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["user-read-email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"spotify",options:a,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.display_name,email:c.email,image:c.images[0]?.url,emailVerified:!1,...e},data:c}},options:a}),twitch:a=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["user:read:email","openid"];return a.scope&&e.push(...a.scope),c&&e.push(...c),a_({id:"twitch",redirectURI:d,options:a,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:e,state:b,claims:a.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:c,options:a,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let c=b.idToken;if(!c)return ay.i.error("No idToken found in token"),null;let d=bi(c),e=await a.mapProfileToUser?.(d);return{user:{id:d.sub,name:d.preferred_username,email:d.email,image:d.picture,emailVerified:d.email_verified,...e},data:d}},options:a}),twitter:a=>({id:"twitter",name:"Twitter",createAuthorizationURL(b){let c=a.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return a.scope&&c.push(...a.scope),b.scopes&&c.push(...b.scopes),a_({id:"twitter",options:a,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:c,state:b.state,codeVerifier:b.codeVerifier,redirectURI:b.redirectURI})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,authentication:"basic",redirectURI:d,options:a,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let{data:e,error:f}=await aV("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}}),g=!1;!f&&e?.data?.confirmed_email&&(c.data.email=e.data.confirmed_email,g=!0);let h=await a.mapProfileToUser?.(c);return{user:{id:c.data.id,name:c.data.name,email:c.data.email||c.data.username||null,image:c.data.profile_image_url,emailVerified:g,...h},data:c}},options:a}),dropbox:a=>({id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:b,scopes:c,codeVerifier:d,redirectURI:e})=>{let f=a.disableDefaultScope?[]:["account_info.read"];a.scope&&f.push(...a.scope),c&&f.push(...c);let g={};return a.accessType&&(g.token_access_type=a.accessType),await a_({id:"dropbox",options:a,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:f,state:b,redirectURI:e,codeVerifier:d,additionalParams:g})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>await a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://api.dropboxapi.com/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.account_id,name:c.name?.display_name,email:c.email,emailVerified:c.email_verified||!1,image:c.profile_photo_url,...e},data:c}},options:a}),kick:a=>({id:"kick",name:"Kick",createAuthorizationURL({state:b,scopes:c,redirectURI:d,codeVerifier:e}){let f=a.disableDefaultScope?[]:["user:read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"kick",redirectURI:d,options:a,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:f,codeVerifier:e,state:b})},validateAuthorizationCode:async({code:b,redirectURI:c,codeVerifier:d})=>a3({code:b,redirectURI:c,options:a,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:"https://id.kick.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=c.data[0],f=await a.mapProfileToUser?.(e);return{user:{id:e.user_id,name:e.name,email:e.email,image:e.profile_picture,emailVerified:!1,...f},data:e}},options:a}),linear:a=>{let b="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:b,scopes:c,loginHint:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"linear",options:a,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:f,state:b,redirectURI:e,loginHint:d})},validateAuthorizationCode:async({code:c,redirectURI:d})=>a3({code:c,redirectURI:d,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>a1({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(d||!c?.data?.viewer)return null;let e=c.data.viewer,f=await a.mapProfileToUser?.(e);return{user:{id:c.data.viewer.id,name:c.data.viewer.name,email:c.data.viewer.email,image:c.data.viewer.avatarUrl,emailVerified:!1,...f},data:e}},options:a}},linkedin:a=>{let b="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:b,scopes:c,redirectURI:d,loginHint:e})=>{let f=a.disableDefaultScope?[]:["profile","email","openid"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await a_({id:"linkedin",options:a,authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",scopes:f,state:b,loginHint:e,redirectURI:d})},validateAuthorizationCode:async({code:c,redirectURI:d})=>await a3({code:c,redirectURI:d,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>a1({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name,email:c.email,emailVerified:c.email_verified||!1,image:c.picture,...e},data:c}},options:a}},gitlab:a=>{let b,{authorizationEndpoint:c,tokenEndpoint:d,userinfoEndpoint:e}=(b=a.issuer||"https://gitlab.com",{authorizationEndpoint:bm(`${b}/oauth/authorize`),tokenEndpoint:bm(`${b}/oauth/token`),userinfoEndpoint:bm(`${b}/api/v4/user`)}),f="gitlab";return{id:f,name:"Gitlab",createAuthorizationURL:async({state:b,scopes:d,codeVerifier:e,loginHint:g,redirectURI:h})=>{let i=a.disableDefaultScope?[]:["read_user"];return a.scope&&i.push(...a.scope),d&&i.push(...d),await a_({id:f,options:a,authorizationEndpoint:c,scopes:i,state:b,redirectURI:h,codeVerifier:e,loginHint:g})},validateAuthorizationCode:async({code:b,redirectURI:c,codeVerifier:e})=>a3({code:b,redirectURI:c,options:a,codeVerifier:e,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV(e,{headers:{authorization:`Bearer ${b.accessToken}`}});if(d||"active"!==c.state||c.locked)return null;let f=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name??c.username,email:c.email,image:c.avatar_url,emailVerified:c.email_verified??!1,...f},data:c}},options:a}},tiktok:a=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["user.info.profile"];return a.scope&&e.push(...a.scope),c&&e.push(...c),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${e.join(",")}&response_type=code&client_key=${a.clientKey}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:a.redirectURI||c,options:{clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientSecret:a.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:a.clientKey}}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://open.tiktokapis.com/v2/user/info/?fields=open_id,avatar_large_url,display_name,username",{headers:{authorization:`Bearer ${b.accessToken}`}});return d?null:{user:{email:c.data.user.email||c.data.user.username,id:c.data.user.open_id,name:c.data.user.display_name||c.data.user.username,image:c.data.user.avatar_large_url,emailVerified:!!c.data.user.email},data:c}},options:a}),reddit:a=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["identity"];return a.scope&&e.push(...a.scope),c&&e.push(...c),a_({id:"reddit",options:a,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:e,state:b,redirectURI:d,duration:a.duration})},validateAuthorizationCode:async({code:b,redirectURI:c})=>{let d=new URLSearchParams({grant_type:"authorization_code",code:b,redirect_uri:a.redirectURI||c}),{data:e,error:f}=await aV("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${ak.base64.encode(`${a.clientId}:${a.clientSecret}`)}`},body:d.toString()});if(f)throw f;return aZ(e)},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${b.accessToken}`,"User-Agent":"better-auth"}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name,email:c.oauth_client_id,emailVerified:c.has_verified_email,image:c.icon_img?.split("?")[0],...e},data:c}},options:a}),roblox:a=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["openid","profile"];return a.scope&&e.push(...a.scope),c&&e.push(...c),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${e.join("+")}&response_type=code&client_id=${a.clientId}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}&prompt=${a.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:a.redirectURI||c,options:a,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.nickname||c.preferred_username||"",image:c.picture,email:c.preferred_username||null,emailVerified:!1,...e},data:{...c}}},options:a}),salesforce:a=>{let b=(a.environment??"production")==="sandbox",c=a.loginUrl?`https://${a.loginUrl}/services/oauth2/authorize`:b?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",d=a.loginUrl?`https://${a.loginUrl}/services/oauth2/token`:b?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",e=a.loginUrl?`https://${a.loginUrl}/services/oauth2/userinfo`:b?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f}){if(!a.clientId||!a.clientSecret)throw ay.i.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new az.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!e)throw new az.t("codeVerifier is required for Salesforce");let g=a.disableDefaultScope?[]:["openid","email","profile"];return a.scope&&g.push(...a.scope),d&&g.push(...d),a_({id:"salesforce",options:a,authorizationEndpoint:c,scopes:g,state:b,codeVerifier:e,redirectURI:a.redirectURI||f})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>a3({code:b,codeVerifier:c,redirectURI:a.redirectURI||e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);try{let{data:c}=await aV(e,{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return ay.i.error("Failed to fetch user info from Salesforce"),null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.user_id,name:c.name,email:c.email,image:c.photos?.picture||c.photos?.thumbnail,emailVerified:c.email_verified??!1,...d},data:c}}catch(a){return ay.i.error("Failed to fetch user info from Salesforce:",a),null}},options:a}},vk:a=>({id:"vk",name:"VK",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["email","phone"];return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"vk",options:a,authorizationEndpoint:"https://id.vk.com/authorize",scopes:f,state:b,redirectURI:e,codeVerifier:d})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d,deviceId:e})=>a3({code:b,codeVerifier:c,redirectURI:a.redirectURI||d,options:a,deviceId:e,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return null;let c=new URLSearchParams({access_token:b.accessToken,client_id:a.clientId}).toString(),{data:d,error:e}=await aV("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c});if(e)return null;let f=await a.mapProfileToUser?.(d);return d.user.email||f?.email?{user:{id:d.user.user_id,first_name:d.user.first_name,last_name:d.user.last_name,email:d.user.email,image:d.user.avatar,emailVerified:!!d.user.email,birthday:d.user.birthday,sex:d.user.sex,name:`${d.user.first_name} ${d.user.last_name}`,...f},data:d}:null},options:a}),zoom:a=>{let b={pkce:!0,...a};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:a,redirectURI:c,codeVerifier:d})=>{let e=new URLSearchParams({response_type:"code",redirect_uri:b.redirectURI?b.redirectURI:c,client_id:b.clientId,state:a});if(b.pkce){let a=await a$(d);e.set("code_challenge_method","S256"),e.set("code_challenge",a)}let f=new URL("https://zoom.us/oauth/authorize");return f.search=e.toString(),f},validateAuthorizationCode:async({code:a,redirectURI:c,codeVerifier:d})=>a3({code:a,redirectURI:b.redirectURI||c,codeVerifier:d,options:b,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),refreshAccessToken:b.refreshAccessToken?b.refreshAccessToken:async a=>a1({refreshToken:a,options:{clientId:b.clientId,clientKey:b.clientKey,clientSecret:b.clientSecret},tokenEndpoint:"https://zoom.us/oauth/token"}),async getUserInfo(a){if(b.getUserInfo)return b.getUserInfo(a);let{data:c,error:d}=await aV("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${a.accessToken}`}});if(d)return null;let e=await b.mapProfileToUser?.(c);return{user:{id:c.id,name:c.display_name,image:c.pic_url,email:c.email,emailVerified:!!c.verified,...e},data:{...c}}}}},notion:a=>{let b="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:b,scopes:c,loginHint:d,redirectURI:e}){let f=(a.disableDefaultScope,[]);return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"notion",options:a,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:f,state:b,redirectURI:e,loginHint:d,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:c,redirectURI:d})=>a3({code:c,redirectURI:d,options:a,tokenEndpoint:b,authentication:"basic"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>a1({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${b.accessToken}`,"Notion-Version":"2022-06-28"}});if(d||!c)return null;let e=c.bot?.owner?.user;if(!e)return null;let f=await a.mapProfileToUser?.(e);return{user:{id:e.id,name:e.name||"Notion User",email:e.person?.email||null,image:e.avatar_url,emailVerified:!!e.person?.email,...f},data:e}},options:a}},kakao:a=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return a.scope&&e.push(...a.scope),c&&e.push(...c),a_({id:"kakao",options:a,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:e,state:b,redirectURI:d})},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:c,options:a,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c)return null;let e=await a.mapProfileToUser?.(c),f=c.kakao_account||{},g=f.profile||{};return{user:{id:String(c.id),name:g.nickname||f.name||void 0,email:f.email,image:g.profile_image_url||g.thumbnail_image_url,emailVerified:!!f.is_email_valid&&!!f.is_email_verified,...e},data:c}},options:a}),naver:a=>({id:"naver",name:"Naver",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["profile","email"];return a.scope&&e.push(...a.scope),c&&e.push(...c),a_({id:"naver",options:a,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:e,state:b,redirectURI:d})},validateAuthorizationCode:async({code:b,redirectURI:c})=>a3({code:b,redirectURI:c,options:a,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c||"00"!==c.resultcode)return null;let e=await a.mapProfileToUser?.(c),f=c.response||{};return{user:{id:f.id,name:f.name||f.nickname,email:f.email,image:f.profile_image,emailVerified:!1,...e},data:c}},options:a}),line:a=>{let b="https://api.line.me/oauth2/v2.1/token";return{id:"line",name:"LINE",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e,loginHint:f}){let g=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&g.push(...a.scope),c&&g.push(...c),await a_({id:"line",options:a,authorizationEndpoint:"https://access.line.me/oauth2/v2.1/authorize",scopes:g,state:b,codeVerifier:d,redirectURI:e,loginHint:f})},validateAuthorizationCode:async({code:c,codeVerifier:d,redirectURI:e})=>a3({code:c,codeVerifier:d,redirectURI:e,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>a1({refreshToken:c,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:b}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let d=new URLSearchParams;d.set("id_token",b),d.set("client_id",a.clientId),c&&d.set("nonce",c);let{data:e,error:f}=await aV("https://api.line.me/oauth2/v2.1/verify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:d});return!f&&!!e&&e.aud===a.clientId&&(!c||!e.nonce||e.nonce===c)},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let c=null;if(b.idToken)try{c=bi(b.idToken)}catch{}if(!c){let{data:a}=await aV("https://api.line.me/oauth2/v2.1/userinfo",{headers:{authorization:`Bearer ${b.accessToken}`}});c=a||null}if(!c)return null;let d=await a.mapProfileToUser?.(c),e=c.sub||c.userId,f=c.name||c.displayName,g=c.picture||c.pictureUrl||void 0;return{user:{id:e,name:f,email:c.email,image:g,emailVerified:!1,...d},data:c}},options:a}},paybin:a=>{let b=a.issuer||"https://idp.paybin.io",c=`${b}/oauth2/authorize`,d=`${b}/oauth2/token`;return{id:"paybin",name:"Paybin",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f,loginHint:g}){if(!a.clientId||!a.clientSecret)throw ay.i.error("Client Id and Client Secret is required for Paybin. Make sure to provide them in the options."),new az.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!e)throw new az.t("codeVerifier is required for Paybin");let h=a.disableDefaultScope?[]:["openid","email","profile"];return a.scope&&h.push(...a.scope),d&&h.push(...d),await a_({id:"paybin",options:a,authorizationEndpoint:c,scopes:h,state:b,codeVerifier:e,redirectURI:f,prompt:a.prompt,loginHint:g})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>a3({code:b,codeVerifier:c,redirectURI:e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=bi(b.idToken),d=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.preferred_username||(c.email?c.email.split("@")[0]:"User")||"User",email:c.email,image:c.picture,emailVerified:c.email_verified||!1,...d},data:c}},options:a}},paypal:a=>{let b="sandbox"===(a.environment||"sandbox"),c=b?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",d=b?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",e=b?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:b,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw ay.i.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new az.t("CLIENT_ID_AND_SECRET_REQUIRED");return await a_({id:"paypal",options:a,authorizationEndpoint:c,scopes:[],state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt})},validateAuthorizationCode:async({code:b,redirectURI:c})=>{let e=ak.base64.encode(`${a.clientId}:${a.clientSecret}`);try{let a=await aV(d,{method:"POST",headers:{Authorization:`Basic ${e}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:b,redirect_uri:c}).toString()});if(!a.data)throw new az.t("FAILED_TO_GET_ACCESS_TOKEN");let f=a.data;return{accessToken:f.access_token,refreshToken:f.refresh_token,accessTokenExpiresAt:f.expires_in?new Date(Date.now()+1e3*f.expires_in):void 0,idToken:f.id_token}}catch(a){throw ay.i.error("PayPal token exchange failed:",a),new az.t("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>{let c=ak.base64.encode(`${a.clientId}:${a.clientSecret}`);try{let a=await aV(d,{method:"POST",headers:{Authorization:`Basic ${c}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:b}).toString()});if(!a.data)throw new az.t("FAILED_TO_REFRESH_ACCESS_TOKEN");let e=a.data;return{accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?new Date(Date.now()+1e3*e.expires_in):void 0}}catch(a){throw ay.i.error("PayPal token refresh failed:",a),new az.t("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);try{return!!bi(b).sub}catch(a){return ay.i.error("Failed to verify PayPal ID token:",a),!1}},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return ay.i.error("Access token is required to fetch PayPal user info"),null;try{let c=await aV(`${e}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${b.accessToken}`,Accept:"application/json"}});if(!c.data)return ay.i.error("Failed to fetch user info from PayPal"),null;let d=c.data,f=await a.mapProfileToUser?.(d);return{user:{id:d.user_id,name:d.name,email:d.email,image:d.picture,emailVerified:d.email_verified,...f},data:d}}catch(a){return ay.i.error("Failed to fetch user info from PayPal:",a),null}},options:a}},polar:a=>({id:"polar",name:"Polar",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),a_({id:"polar",options:a,authorizationEndpoint:"https://polar.sh/oauth2/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://api.polar.sh/v1/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>a1({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://api.polar.sh/v1/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.polar.sh/v1/oauth2/userinfo",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.public_name||c.username,email:c.email,image:c.avatar_url,emailVerified:c.email_verified??!1,...e},data:c}},options:a}),vercel:a=>({id:"vercel",name:"Vercel",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f;if(!d)throw new az.t("codeVerifier is required for Vercel");return(void 0!==a.scope||void 0!==c)&&(f=[],a.scope&&f.push(...a.scope),c&&f.push(...c)),a_({id:"vercel",options:a,authorizationEndpoint:"https://vercel.com/oauth/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>a3({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://api.vercel.com/login/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await aV("https://api.vercel.com/login/oauth/userinfo",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name??c.preferred_username,email:c.email,image:c.picture,emailVerified:c.email_verified??!1,...e},data:c}},options:a})},bp=Object.keys(bo),bq=q.enum(bp).or(q.string());function br(a){if(null===a||"object"!=typeof a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.iterator in a)&&(!(Symbol.toStringTag in a)||"[object Module]"===Object.prototype.toString.call(a))}function bs(a){return(...b)=>b.reduce((b,c)=>(function a(b,c,d=".",e){if(!br(c))return a(b,{},d,e);let f=Object.assign({},c);for(let c in b){if("__proto__"===c||"constructor"===c)continue;let g=b[c];null!=g&&(e&&e(f,c,g,d)||(Array.isArray(g)&&Array.isArray(f[c])?f[c]=[...g,...f[c]]:br(g)&&br(f[c])?f[c]=a(g,f[c],(d?`${d}.`:"")+c.toString(),e):f[c]=g))}return f})(b,c,"",a),{})}let bt=bs();bs((a,b,c)=>{if(void 0!==a[b]&&"function"==typeof c)return a[b]=c(a[b]),!0}),bs((a,b,c)=>{if(Array.isArray(a[b])&&"function"==typeof c)return a[b]=c(a[b]),!0});let bu=(0,aj.createAuthMiddleware)(async a=>{if(a.request?.method==="GET"||a.request?.method==="OPTIONS"||a.request?.method==="HEAD"||!a.request)return;let b=a.request?.headers,{body:c,query:d}=a,e=b?.get("origin")||b?.get("referer")||"",f=c?.callbackURL||d?.callbackURL,g=c?.redirectTo,h=c?.errorCallbackURL,i=c?.newUserCallbackURL,j=b?.has("cookie"),k=(b,c)=>{if(b&&!a.context.isTrustedOrigin(b,{allowRelativePaths:"origin"!==c}))throw a.context.logger.error(`Invalid ${c}: ${b}`),a.context.logger.info(`If it's a valid URL, please add ${b} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${a.context.trustedOrigins}`),new aa.APIError("FORBIDDEN",{message:`Invalid ${c}`})};if(j&&!a.context.skipCSRFCheck&&!a.context.skipOriginCheck){if(!e||"null"===e)throw new aa.APIError("FORBIDDEN",{message:"Missing or null Origin"});k(e,"origin")}f&&k(f,"callbackURL"),g&&k(g,"redirectURL"),h&&k(h,"errorCallbackURL"),i&&k(i,"newUserCallbackURL")}),bv=a=>(0,aj.createAuthMiddleware)(async b=>{if(!b.request)return;let c=a(b),d=(a,c)=>{if(a&&!b.context.isTrustedOrigin(a,{allowRelativePaths:"origin"!==c}))throw b.context.logger.error(`Invalid ${c}: ${a}`),b.context.logger.info(`If it's a valid URL, please add ${a} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${b.context.trustedOrigins}`),new aa.APIError("FORBIDDEN",{message:`Invalid ${c}`})};for(let a of Array.isArray(c)?c:[c])d(a,"callbackURL")});function bw(a){return"-"===a||"^"===a||"$"===a||"+"===a||"."===a||"("===a||")"===a||"|"===a||"["===a||"]"===a||"{"===a||"}"===a||"*"===a||"?"===a||"\\"===a?`\\${a}`:a}function bx(a,b){if("string"!=typeof b)throw TypeError(`Sample must be a string, but ${typeof b} given`);return a.test(b)}function by(a,b){if("string"!=typeof a&&!Array.isArray(a))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof a} given`);if(("string"==typeof b||"boolean"==typeof b)&&(b={separator:b}),2==arguments.length&&!(void 0===b||"object"==typeof b&&null!==b&&!Array.isArray(b)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof b} given`);if("\\"===(b=b||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let c=function a(b,c=!0){if(Array.isArray(b))return`(?:${b.map(b=>`^${a(b,c)}$`).join("|")})`;let d="",e="",f=".";!0===c?(d="/",e="[/\\\\]",f="[^/\\\\]"):c&&((e=function(a){let b="";for(let c=0;c<a.length;c++)b+=bw(a[c]);return b}(d=c)).length>1?(e=`(?:${e})`,f=`((?!${e}).)`):f=`[^${e}]`);let g=c?`${e}+?`:"",h=c?`${e}*?`:"",i=c?b.split(d):[b],j="";for(let a=0;a<i.length;a++){let b=i[a],d=i[a+1],e="";if(b||!(a>0)){if(c&&(e=a===i.length-1?h:"**"!==d?g:""),c&&"**"===b){e&&(j+=0===a?"":e,j+=`(?:${f}*?${e})*?`);continue}for(let a=0;a<b.length;a++){let c=b[a];"\\"===c?a<b.length-1&&(j+=bw(b[a+1]),a++):"?"===c?j+=f:"*"===c?j+=`${f}*?`:j+=bw(c)}j+=e}}return j}(a,b.separator),d=RegExp(`^${c}$`,b.flags),e=bx.bind(null,d);return e.options=b,e.pattern=a,e.regexp=d,e}let bz=new Map;async function bA(a,b){if(!b.rateLimit.enabled)return;let c=new URL(a.url).pathname.replace(b.options.basePath||"/api/auth",""),d=b.rateLimit.window,e=b.rateLimit.max,f=r(a,b.options);if(!f)return;let g=f+c,h=[{pathMatcher:a=>a.startsWith("/sign-in")||a.startsWith("/sign-up")||a.startsWith("/change-password")||a.startsWith("/change-email"),window:10,max:3}].find(a=>a.pathMatcher(c));for(let a of(h&&(d=h.window,e=h.max),b.options.plugins||[]))if(a.rateLimit){let b=a.rateLimit.find(a=>a.pathMatcher(c));if(b){d=b.window,e=b.max;break}}if(b.rateLimit.customRules){let f=Object.keys(b.rateLimit.customRules).find(a=>a.includes("*")?by(a)(c):a===c);if(f){let c=b.rateLimit.customRules[f],g="function"==typeof c?await c(a):c;if(g&&(d=g.window,e=g.max),!1===g)return}}let i=function(a,b){let c,d;if(a.options.rateLimit?.customStorage)return a.options.rateLimit.customStorage;let e=a.rateLimit.storage;return"secondary-storage"===e?{get:async b=>{let c=await a.options.secondaryStorage?.get(b);return c?(0,I.safeJSONParse)(c):void 0},set:async(c,d,e)=>{let f=b?.window??a.options.rateLimit?.window??10;await a.options.secondaryStorage?.set?.(c,JSON.stringify(d),f)}}:"memory"===e?{get:async a=>bz.get(a),async set(a,b,c){bz.set(a,b)}}:(c="rateLimit",d=a.adapter,{get:async a=>{let b=(await d.findMany({model:c,where:[{field:"key",value:a}]}))[0];return"bigint"==typeof b?.lastRequest&&(b.lastRequest=Number(b.lastRequest)),b},set:async(b,e,f)=>{try{f?await d.updateMany({model:c,where:[{field:"key",value:b}],update:{count:e.count,lastRequest:e.lastRequest}}):await d.create({model:c,data:{key:b,count:e.count,lastRequest:e.lastRequest}})}catch(b){a.logger.error("Error setting rate limit",b)}}})}(b,{window:d}),j=await i.get(g),k=Date.now();if(j){var l,m,n;let a=k-j.lastRequest;if(l=e,m=d,Date.now()-j.lastRequest<1e3*m&&j.count>=l)return n=Math.ceil((j.lastRequest+1e3*d-Date.now())/1e3),new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":n.toString()}});a>1e3*d?await i.set(g,{...j,count:1,lastRequest:k},!0):await i.set(g,{...j,count:j.count+1,lastRequest:k},!0)}else await i.set(g,{key:g,count:1,lastRequest:k})}function bB(a,b){return a&&b.options.account?.encryptOAuthTokens?(0,_.t)({key:b.secret,data:a}):a}function bC(a,b){return b.options.account?.encryptOAuthTokens&&a?(0,_.n)({key:b.secret,data:a}):a}let bD=(0,aj.createAuthEndpoint)("/list-accounts",{method:"GET",use:[ap],metadata:{openapi:{operationId:"listUserAccounts",description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},userId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","userId","scopes"]}}}}}}}}},async a=>{let b=a.context.session,c=await a.context.internalAdapter.findAccounts(b.user.id);return a.json(c.map(a=>({id:a.id,providerId:a.providerId,createdAt:a.createdAt,updatedAt:a.updatedAt,accountId:a.accountId,userId:a.userId,scopes:a.scope?.split(",")||[]})))}),bE=(0,aj.createAuthEndpoint)("/link-social",{method:"POST",requireHeaders:!0,body:q.object({callbackURL:q.string().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:bq,idToken:q.object({token:q.string(),nonce:q.string().optional(),accessToken:q.string().optional(),refreshToken:q.string().optional(),scopes:q.array(q.string()).optional()}).optional(),requestSignUp:q.boolean().optional(),scopes:q.array(q.string()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:q.string().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:q.boolean().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),additionalData:q.record(q.string(),q.any()).optional()}),use:[ap],metadata:{openapi:{description:"Link a social account to the user",operationId:"linkSocialAccount",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async a=>{let b=a.context.session,c=a.context.socialProviders.find(b=>b.id===a.body.provider);if(!c)throw a.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:a.body.provider}),new aa.APIError("NOT_FOUND",{message:ai.n.PROVIDER_NOT_FOUND});if(a.body.idToken){if(!c.verifyIdToken)throw a.context.logger.error("Provider does not support id token verification",{provider:a.body.provider}),new aa.APIError("NOT_FOUND",{message:ai.n.ID_TOKEN_NOT_SUPPORTED});let{token:d,nonce:e}=a.body.idToken;if(!await c.verifyIdToken(d,e))throw a.context.logger.error("Invalid id token",{provider:a.body.provider}),new aa.APIError("UNAUTHORIZED",{message:ai.n.INVALID_TOKEN});let f=await c.getUserInfo({idToken:d,accessToken:a.body.idToken.accessToken,refreshToken:a.body.idToken.refreshToken});if(!f||!f?.user)throw a.context.logger.error("Failed to get user info",{provider:a.body.provider}),new aa.APIError("UNAUTHORIZED",{message:ai.n.FAILED_TO_GET_USER_INFO});let g=String(f.user.id);if(!f.user.email)throw a.context.logger.error("User email not found",{provider:a.body.provider}),new aa.APIError("UNAUTHORIZED",{message:ai.n.USER_EMAIL_NOT_FOUND});if((await a.context.internalAdapter.findAccounts(b.user.id)).find(a=>a.providerId===c.id&&a.accountId===g))return a.json({url:"",status:!0,redirect:!1});if(!a.context.options.account?.accountLinking?.trustedProviders?.includes(c.id)&&!f.user.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)throw new aa.APIError("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(f.user.email!==b.user.email&&a.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new aa.APIError("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await a.context.internalAdapter.createAccount({userId:b.user.id,providerId:c.id,accountId:g,accessToken:a.body.idToken.accessToken,idToken:d,refreshToken:a.body.idToken.refreshToken,scope:a.body.idToken.scopes?.join(",")})}catch(a){throw new aa.APIError("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(a.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await a.context.internalAdapter.updateUser(b.user.id,{name:f.user?.name,image:f.user?.image})}catch(a){console.warn("Could not update user - "+a.toString())}return a.json({url:"",status:!0,redirect:!1})}let d=await ad(a,{userId:b.user.id,email:b.user.email},a.body.additionalData),e=await c.createAuthorizationURL({state:d.state,codeVerifier:d.codeVerifier,redirectURI:`${a.context.baseURL}/callback/${c.id}`,scopes:a.body.scopes});return a.json({url:e.toString(),redirect:!a.body.disableRedirect})}),bF=(0,aj.createAuthEndpoint)("/unlink-account",{method:"POST",body:q.object({providerId:q.string(),accountId:q.string().optional()}),use:[ar],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async a=>{let{providerId:b,accountId:c}=a.body,d=await a.context.internalAdapter.findAccounts(a.context.session.user.id);if(1===d.length&&!a.context.options.account?.accountLinking?.allowUnlinkingAll)throw new aa.APIError("BAD_REQUEST",{message:ai.n.FAILED_TO_UNLINK_LAST_ACCOUNT});let e=d.find(a=>c?a.accountId===c&&a.providerId===b:a.providerId===b);if(!e)throw new aa.APIError("BAD_REQUEST",{message:ai.n.ACCOUNT_NOT_FOUND});return await a.context.internalAdapter.deleteAccount(e.id),a.json({status:!0})}),bG=(0,aj.createAuthEndpoint)("/get-access-token",{method:"POST",body:q.object({providerId:q.string().meta({description:"The provider ID for the OAuth provider"}),accountId:q.string().meta({description:"The account ID associated with the refresh token"}).optional(),userId:q.string().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async a=>{let b,{providerId:c,accountId:d,userId:e}=a.body||{},f=a.request,g=await ao(a);if(f&&!g)throw a.error("UNAUTHORIZED");let h=g?.user?.id||e;if(!h)throw a.error("UNAUTHORIZED");if(!a.context.socialProviders.find(a=>a.id===c))throw new aa.APIError("BAD_REQUEST",{message:`Provider ${c} is not supported.`});let i=await (0,ah.f)(a);if(!(b=i&&c===i.providerId&&(!d||i.id===d)?i:(await a.context.internalAdapter.findAccounts(h)).find(a=>d?a.id===d&&a.providerId===c:a.providerId===c)))throw new aa.APIError("BAD_REQUEST",{message:"Account not found"});let j=a.context.socialProviders.find(a=>a.id===c);if(!j)throw new aa.APIError("BAD_REQUEST",{message:`Provider ${c} not found.`});try{let c=null,d=b.accessTokenExpiresAt&&new Date(b.accessTokenExpiresAt).getTime()-Date.now()<5e3;if(b.refreshToken&&d&&j.refreshAccessToken){let d=await bB(b.refreshToken,a.context);c=await j.refreshAccessToken(d);let e=await a.context.internalAdapter.updateAccount(b.id,{accessToken:await bC(c.accessToken,a.context),accessTokenExpiresAt:c.accessTokenExpiresAt,refreshToken:await bC(c.refreshToken,a.context),refreshTokenExpiresAt:c.refreshTokenExpiresAt});a.context.options.account?.storeAccountCookie&&e&&await (0,ah.h)(a,e)}let e={accessToken:c?.accessToken??await bB(b.accessToken??"",a.context),accessTokenExpiresAt:c?.accessTokenExpiresAt??b.accessTokenExpiresAt??void 0,scopes:b.scope?.split(",")??[],idToken:c?.idToken??b.idToken??void 0};return a.json(e)}catch(a){throw new aa.APIError("BAD_REQUEST",{message:"Failed to get a valid access token",cause:a})}}),bH=(0,aj.createAuthEndpoint)("/refresh-token",{method:"POST",body:q.object({providerId:q.string().meta({description:"The provider ID for the OAuth provider"}),accountId:q.string().meta({description:"The account ID associated with the refresh token"}).optional(),userId:q.string().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async a=>{let b,c,{providerId:d,accountId:e,userId:f}=a.body,g=a.request,h=await ao(a);if(g&&!h)throw a.error("UNAUTHORIZED");let i=h?.user?.id||f;if(!i)throw new aa.APIError("BAD_REQUEST",{message:"Either userId or session is required"});let j=a.context.socialProviders.find(a=>a.id===d);if(!j)throw new aa.APIError("BAD_REQUEST",{message:`Provider ${d} not found.`});if(!j.refreshAccessToken)throw new aa.APIError("BAD_REQUEST",{message:`Provider ${d} does not support token refreshing.`});let k=await (0,ah.f)(a);if(!(b=k&&(!d||d===k?.providerId)?k:(await a.context.internalAdapter.findAccounts(i)).find(a=>e?a.id===e&&a.providerId===d:a.providerId===d)))throw new aa.APIError("BAD_REQUEST",{message:"Account not found"});if(!(c=k&&d===k.providerId?k.refreshToken??void 0:b.refreshToken??void 0))throw new aa.APIError("BAD_REQUEST",{message:"Refresh token not found"});try{let e=await bB(c,a.context),f=await j.refreshAccessToken(e);if(b.id){let c={...b||{},accessToken:await bC(f.accessToken,a.context),refreshToken:await bC(f.refreshToken,a.context),accessTokenExpiresAt:f.accessTokenExpiresAt,refreshTokenExpiresAt:f.refreshTokenExpiresAt,scope:f.scopes?.join(",")||b.scope,idToken:f.idToken||b.idToken};await a.context.internalAdapter.updateAccount(b.id,c)}return k&&d===k.providerId&&a.context.options.account?.storeAccountCookie&&await (0,ah.h)(a,{...k,accessToken:await bC(f.accessToken,a.context),refreshToken:await bC(f.refreshToken,a.context),accessTokenExpiresAt:f.accessTokenExpiresAt,refreshTokenExpiresAt:f.refreshTokenExpiresAt,scope:f.scopes?.join(",")||k.scope,idToken:f.idToken||k.idToken}),a.json({accessToken:f.accessToken,refreshToken:f.refreshToken,accessTokenExpiresAt:f.accessTokenExpiresAt,refreshTokenExpiresAt:f.refreshTokenExpiresAt,scope:f.scopes?.join(",")||b.scope,idToken:f.idToken||b.idToken,providerId:b.providerId,accountId:b.accountId})}catch(a){throw new aa.APIError("BAD_REQUEST",{message:"Failed to refresh access token",cause:a})}}),bI=q.optional(q.object({accountId:q.string().meta({description:"The provider given account id for which to get the account info"}).optional()})),bJ=(0,aj.createAuthEndpoint)("/account-info",{method:"GET",use:[ap],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},query:bI},async a=>{let b,c=a.query?.accountId;if(c){let d=await a.context.internalAdapter.findAccount(c);d&&(b=d)}else if(a.context.options.account?.storeAccountCookie){let c=await (0,ah.f)(a);c&&(b=c)}if(!b||b.userId!==a.context.session.user.id)throw new aa.APIError("BAD_REQUEST",{message:"Account not found"});let d=a.context.socialProviders.find(a=>a.id===b.providerId);if(!d)throw new aa.APIError("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${b.providerId} but it is not configured`});let e=await bG({...a,method:"POST",body:{accountId:b.id,providerId:b.providerId},returnHeaders:!1,returnStatus:!1});if(!e.accessToken)throw new aa.APIError("BAD_REQUEST",{message:"Access token not found"});let f=await d.getUserInfo({...e,accessToken:e.accessToken});return a.json(f)});async function bK(a,b){let{userInfo:c,account:d,callbackURL:e,disableSignUp:f,overrideUserInfo:g}=b,h=await a.context.internalAdapter.findOAuthUser(c.email.toLowerCase(),d.accountId,d.providerId).catch(b=>{F.logger.error("Better auth was unable to query your database.\nError: ",b);let c=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${c}?error=internal_server_error`)}),i=h?.user,j=!i;if(h){let e=h.accounts.find(a=>a.providerId===d.providerId&&a.accountId===d.accountId);if(e){if(a.context.options.account?.updateAccountOnSignIn!==!1){let b=Object.fromEntries(Object.entries({idToken:d.idToken,accessToken:await bC(d.accessToken,a.context),refreshToken:await bC(d.refreshToken,a.context),accessTokenExpiresAt:d.accessTokenExpiresAt,refreshTokenExpiresAt:d.refreshTokenExpiresAt,scope:d.scope}).filter(([a,b])=>void 0!==b));a.context.options.account?.storeAccountCookie&&await (0,ah.h)(a,b),Object.keys(b).length>0&&await a.context.internalAdapter.updateAccount(e.id,b)}c.emailVerified&&!h.user.emailVerified&&c.email.toLowerCase()===h.user.email&&await a.context.internalAdapter.updateUser(h.user.id,{emailVerified:!0})}else{let e=a.context.options.account?.accountLinking?.trustedProviders;if(!(b.isTrustedProvider||e?.includes(d.providerId))&&!c.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)return(0,o.d)()&&F.logger.warn(`User already exist but account isn't linked to ${d.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await a.context.internalAdapter.linkAccount({providerId:d.providerId,accountId:c.id.toString(),userId:h.user.id,accessToken:await bC(d.accessToken,a.context),refreshToken:await bC(d.refreshToken,a.context),idToken:d.idToken,accessTokenExpiresAt:d.accessTokenExpiresAt,refreshTokenExpiresAt:d.refreshTokenExpiresAt,scope:d.scope})}catch(a){return F.logger.error("Unable to link account",a),{error:"unable to link account",data:null}}c.emailVerified&&!h.user.emailVerified&&c.email.toLowerCase()===h.user.email&&await a.context.internalAdapter.updateUser(h.user.id,{emailVerified:!0})}if(g){let{id:b,...d}=c;i=await a.context.internalAdapter.updateUser(h.user.id,{...d,email:c.email.toLowerCase(),emailVerified:c.email.toLowerCase()===h.user.email&&h.user.emailVerified||c.emailVerified})}}else{if(f)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:b,...f}=c,g={accessToken:await bC(d.accessToken,a.context),refreshToken:await bC(d.refreshToken,a.context),idToken:d.idToken,accessTokenExpiresAt:d.accessTokenExpiresAt,refreshTokenExpiresAt:d.refreshTokenExpiresAt,scope:d.scope,providerId:d.providerId,accountId:c.id.toString()},{user:h,account:j}=await a.context.internalAdapter.createOAuthUser({...f,email:c.email.toLowerCase()},g);if(i=h,a.context.options.account?.storeAccountCookie&&await (0,ah.h)(a,j),!c.emailVerified&&i&&a.context.options.emailVerification?.sendOnSignUp){let b=await bN(a.context.secret,i.email,void 0,a.context.options.emailVerification?.expiresIn),c=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${e}`;await a.context.options.emailVerification?.sendVerificationEmail?.({user:i,url:c,token:b},a.request)}}catch(a){if(F.logger.error(a),a instanceof aa.APIError)return{error:a.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!i)return{error:"unable to create user",data:null,isRegister:!1};let k=await a.context.internalAdapter.createSession(i.id);return k?{data:{session:k,user:i},error:null,isRegister:j}:{error:"unable to create session",data:null,isRegister:!1}}let bL=q.object({code:q.string().optional(),error:q.string().optional(),device_id:q.string().optional(),error_description:q.string().optional(),state:q.string().optional(),user:q.string().optional()}),bM=(0,aj.createAuthEndpoint)("/callback/:id",{method:["GET","POST"],operationId:"handleOAuthCallback",body:bL.optional(),query:bL.optional(),metadata:{...af,allowedMediaTypes:["application/x-www-form-urlencoded","application/json"]}},async a=>{let b,c,d,e=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;if("POST"===a.method){let b=a.body?bL.parse(a.body):{},c=a.query?bL.parse(a.query):{},d=bL.parse({...b,...c}),e=new URLSearchParams;for(let[a,b]of Object.entries(d))null!=b&&e.set(a,String(b));let f=`${a.context.baseURL}/callback/${a.params.id}?${e.toString()}`;throw a.redirect(f)}try{if("GET"===a.method)b=bL.parse(a.query);else if("POST"===a.method)b=bL.parse(a.body);else throw Error("Unsupported method")}catch(b){throw a.context.logger.error("INVALID_CALLBACK_REQUEST",b),a.redirect(`${e}?error=invalid_callback_request`)}let{code:f,error:g,state:h,error_description:i,device_id:j}=b;if(!h){a.context.logger.error("State not found",g);let b=`${e}${e.includes("?")?"&":"?"}state=state_not_found`;throw a.redirect(b)}let{codeVerifier:k,callbackURL:l,link:m,errorURL:n,newUserURL:o,requestSignUp:p}=await ae(a);function q(b,c){let d=n??e,f=new URLSearchParams({error:b});c&&f.set("error_description",c);let g=`${d}${d.includes("?")?"&":"?"}${f.toString()}`;throw a.redirect(g)}if(g&&q(g,i),!f)throw a.context.logger.error("Code not found"),q("no_code");let r=a.context.socialProviders.find(b=>b.id===a.params.id);if(!r)throw a.context.logger.error("Oauth provider with id",a.params.id,"not found"),q("oauth_provider_not_found");try{c=await r.validateAuthorizationCode({code:f,codeVerifier:k,deviceId:j,redirectURI:`${a.context.baseURL}/callback/${r.id}`})}catch(b){throw a.context.logger.error("",b),q("invalid_code")}let s=await r.getUserInfo({...c,user:a.body?.user?(0,I.safeJSONParse)(a.body.user):void 0}).then(a=>a?.user);if(!s)return a.context.logger.error("Unable to get user info"),q("unable_to_get_user_info");if(!l)throw a.context.logger.error("No callback URL found"),q("no_callback_url");if(m){let b;if(!a.context.options.account?.accountLinking?.trustedProviders?.includes(r.id)&&!s.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)return a.context.logger.error("Unable to link account - untrusted provider"),q("unable_to_link_account");if(s.email!==m.email&&a.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return q("email_doesn't_match");let d=await a.context.internalAdapter.findAccount(String(s.id));if(d){if(d.userId.toString()!==m.userId.toString())return q("account_already_linked_to_different_user");let b=Object.fromEntries(Object.entries({accessToken:await bC(c.accessToken,a.context),refreshToken:await bC(c.refreshToken,a.context),idToken:c.idToken,accessTokenExpiresAt:c.accessTokenExpiresAt,refreshTokenExpiresAt:c.refreshTokenExpiresAt,scope:c.scopes?.join(",")}).filter(([a,b])=>void 0!==b));await a.context.internalAdapter.updateAccount(d.id,b)}else if(!await a.context.internalAdapter.createAccount({userId:m.userId,providerId:r.id,accountId:String(s.id),...c,accessToken:await bC(c.accessToken,a.context),refreshToken:await bC(c.refreshToken,a.context),scope:c.scopes?.join(",")}))return q("unable_to_link_account");try{b=l.toString()}catch{b=l}throw a.redirect(b)}if(!s.email)return a.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),q("email_not_found");let t={providerId:r.id,accountId:String(s.id),...c,scope:c.scopes?.join(",")},u=await bK(a,{userInfo:{...s,id:String(s.id),email:s.email,name:s.name||s.email},account:t,callbackURL:l,disableSignUp:r.disableImplicitSignUp&&!p||r.options?.disableSignUp,overrideUserInfo:r.options?.overrideUserInfoOnSignIn});if(u.error)return a.context.logger.error(u.error.split(" ").join("_")),q(u.error.split(" ").join("_"));let{session:v,user:w}=u.data;await (0,ah.c)(a,{session:v,user:w});try{d=(u.isRegister&&o||l).toString()}catch{d=u.isRegister&&o||l}throw a.redirect(d)});async function bN(a,b,c,d=3600,e){return await (0,_.o)({email:b.toLowerCase(),updateTo:c,...e},a,d)}async function bO(a,b){if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new aa.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let c=await bN(a.context.secret,b.email,void 0,a.context.options.emailVerification?.expiresIn),d=a.body.callbackURL?encodeURIComponent(a.body.callbackURL):encodeURIComponent("/"),e=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${d}`;await a.context.options.emailVerification.sendVerificationEmail({user:b,url:e,token:c},a.request)}let bP=(0,aj.createAuthEndpoint)("/send-verification-email",{method:"POST",operationId:"sendVerificationEmail",body:q.object({email:q.email().meta({description:"The email to send the verification email to"}),callbackURL:q.string().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{operationId:"sendVerificationEmail",description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async a=>{if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new aa.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:b}=a.body,c=await ao(a);if(!c){let c=await a.context.internalAdapter.findUserByEmail(b);return c?await bO(a,c.user):await bN(a.context.secret,b,void 0,a.context.options.emailVerification?.expiresIn),a.json({status:!0})}if(c?.user.emailVerified)throw new aa.APIError("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(c?.user.email!==b)throw new aa.APIError("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await bO(a,c.user),a.json({status:!0})}),bQ=(0,aj.createAuthEndpoint)("/verify-email",{method:"GET",operationId:"verifyEmail",query:q.object({token:q.string().meta({description:"The token to verify the email"}),callbackURL:q.string().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[bv(a=>a.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async a=>{let b;function c(b){if(a.query.callbackURL){if(a.query.callbackURL.includes("?"))throw a.redirect(`${a.query.callbackURL}&error=${b}`);throw a.redirect(`${a.query.callbackURL}?error=${b}`)}throw new aa.APIError("UNAUTHORIZED",{message:b})}let{token:d}=a.query;try{b=await (0,aW.jwtVerify)(d,new TextEncoder().encode(a.context.secret),{algorithms:["HS256"]})}catch(a){if(a instanceof a5.JWTExpired)return c("token_expired");return c("invalid_token")}let e=q.object({email:q.email(),updateTo:q.string().optional(),requestType:q.string().optional()}).parse(b.payload),f=await a.context.internalAdapter.findUserByEmail(e.email);if(!f)return c("user_not_found");if(e.updateTo){let b=await ao(a);if(b&&b.user.email!==e.email)return c("unauthorized");if("change-email-confirmation"===e.requestType){let b=await bN(a.context.secret,e.email,e.updateTo,a.context.options.emailVerification?.expiresIn,{requestType:"change-email-verification"}),c=a.query.callbackURL?encodeURIComponent(a.query.callbackURL):encodeURIComponent("/"),d=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${c}`;if(await a.context.options.emailVerification?.sendVerificationEmail?.({user:{...f.user,email:e.updateTo},url:d,token:b},a.request),a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0})}if(!b){let c=await a.context.internalAdapter.createSession(f.user.id);if(!c)throw new aa.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});b={session:c,user:f.user}}if("change-email-verification"===e.requestType){let c=await a.context.internalAdapter.updateUserByEmail(e.email,{email:e.updateTo,emailVerified:!0});if(await (0,ah.c)(a,{session:b.session,user:{...b.user,email:e.updateTo,emailVerified:!0}}),a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:c})}let d=await a.context.internalAdapter.updateUserByEmail(e.email,{email:e.updateTo,emailVerified:!1}),g=await bN(a.context.secret,e.updateTo),h=a.query.callbackURL?encodeURIComponent(a.query.callbackURL):encodeURIComponent("/");if(await a.context.options.emailVerification?.sendVerificationEmail?.({user:d,url:`${a.context.baseURL}/verify-email?token=${g}&callbackURL=${h}`,token:g},a.request),await (0,ah.c)(a,{session:b.session,user:{...b.user,email:e.updateTo,emailVerified:!1}}),a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:{id:d.id,email:d.email,name:d.name,image:d.image,emailVerified:d.emailVerified,createdAt:d.createdAt,updatedAt:d.updatedAt}})}if(f.user.emailVerified){if(a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:null})}a.context.options.emailVerification?.onEmailVerification&&await a.context.options.emailVerification.onEmailVerification(f.user,a.request);let g=await a.context.internalAdapter.updateUserByEmail(e.email,{emailVerified:!0});if(a.context.options.emailVerification?.afterEmailVerification&&await a.context.options.emailVerification.afterEmailVerification(g,a.request),a.context.options.emailVerification?.autoSignInAfterVerification){let b=await ao(a);if(b&&b.user.email===e.email)await (0,ah.c)(a,{session:b.session,user:{...b.user,emailVerified:!0}});else{let b=await a.context.internalAdapter.createSession(f.user.id);if(!b)throw new aa.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await (0,ah.c)(a,{session:b,user:{...f.user,emailVerified:!0}})}}if(a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:null})});function bR(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/&(?!amp;|lt;|gt;|quot;|#39;|#x[0-9a-fA-F]+;|#[0-9]+;)/g,"&amp;")}let bS=(0,aj.createAuthEndpoint)("/error",{method:"GET",metadata:{...af,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async a=>{let b=new URL(a.request?.url||""),c=b.searchParams.get("error")||"UNKNOWN",d=b.searchParams.get("error_description")||null,e=/^[\'A-Za-z0-9_-]+$/.test(c||"")?c:"UNKNOWN",f=d?bR(d):null,g=new URLSearchParams;g.set("error",e),d&&g.set("error_description",d);let h=a.context.options,i=h.onAPIError?.errorURL;return i?new Response(null,{status:302,headers:{Location:`${i}${i.includes("?")?"&":"?"}${g.toString()}`}}):aw.isProduction&&!h.onAPIError?.customizeDefaultErrorPage?new Response(null,{status:302,headers:{Location:`/?${g.toString()}`}}):new Response(((a,b="Unknown",c=null)=>{let d=a.onAPIError?.customizeDefaultErrorPage;return`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Error</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        font-family: ${d?.font?.defaultFamily||"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif"};
        background: ${d?.colors?.background||"var(--background)"};
        color: var(--foreground);
        margin: 0;
      }
      :root,
      :host {
        --spacing: 0.25rem;
        --container-md: 28rem;
        --text-sm: ${d?.size?.textSm||"0.875rem"};
        --text-sm--line-height: calc(1.25 / 0.875);
        --text-2xl: ${d?.size?.text2xl||"1.5rem"};
        --text-2xl--line-height: calc(2 / 1.5);
        --text-4xl: ${d?.size?.text4xl||"2.25rem"};
        --text-4xl--line-height: calc(2.5 / 2.25);
        --text-6xl: ${d?.size?.text6xl||"3rem"};
        --text-6xl--line-height: 1;
        --font-weight-medium: 500;
        --font-weight-semibold: 600;
        --font-weight-bold: 700;
        --default-transition-duration: 150ms;
        --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        --radius: ${d?.size?.radiusSm||"0.625rem"};
        --default-mono-font-family: ${d?.font?.monoFamily||"var(--font-geist-mono)"};
        --primary: ${d?.colors?.primary||"black"};
        --primary-foreground: ${d?.colors?.primaryForeground||"white"};
        --background: ${d?.colors?.background||"white"};
        --foreground: ${d?.colors?.foreground||"oklch(0.271 0 0)"};
        --border: ${d?.colors?.border||"oklch(0.89 0 0)"};
        --destructive: ${d?.colors?.destructive||"oklch(0.55 0.15 25.723)"};
        --muted-foreground: ${d?.colors?.mutedForeground||"oklch(0.545 0 0)"};
        --corner-border: ${d?.colors?.cornerBorder||"#404040"};
      }

      button, .btn {
        cursor: pointer;
        background: none;
        border: none;
        color: inherit;
        font: inherit;
        transition: all var(--default-transition-duration)
          var(--default-transition-timing-function);
      }
      button:hover, .btn:hover {
        opacity: 0.8;
      }

      @media (prefers-color-scheme: dark) {
        :root,
        :host {
          --primary: ${d?.colors?.primary||"white"};
          --primary-foreground: ${d?.colors?.primaryForeground||"black"};
          --background: ${d?.colors?.background||"oklch(0.15 0 0)"};
          --foreground: ${d?.colors?.foreground||"oklch(0.98 0 0)"};
          --border: ${d?.colors?.border||"oklch(0.27 0 0)"};
          --destructive: ${d?.colors?.destructive||"oklch(0.65 0.15 25.723)"};
          --muted-foreground: ${d?.colors?.mutedForeground||"oklch(0.65 0 0)"};
          --corner-border: ${d?.colors?.cornerBorder||"#a0a0a0"};
        }
      }
      @media (max-width: 640px) {
        :root, :host {
          --text-6xl: 2.5rem;
          --text-2xl: 1.25rem;
          --text-sm: 0.8125rem;
        }
      }
      @media (max-width: 480px) {
        :root, :host {
          --text-6xl: 2rem;
          --text-2xl: 1.125rem;
        }
      }
    </style>
  </head>
  <body style="width: 100vw; min-height: 100vh; overflow-x: hidden; overflow-y: auto;">
    <div
        style="
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            position: relative;
            width: 100%;
            min-height: 100vh;
            padding: 1rem;
        "
        >
${d?.disableBackgroundGrid?"":`
      <div
        style="
          position: absolute;
          inset: 0;
          background-image: linear-gradient(to right, ${d?.colors?.gridColor||"var(--border)"} 1px, transparent 1px),
            linear-gradient(to bottom, ${d?.colors?.gridColor||"var(--border)"} 1px, transparent 1px);
          background-size: 40px 40px;
          opacity: 0.6;
          pointer-events: none;
          width: 100vw;
          height: 100vh;
        "
      ></div>
      <div
        style="
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: ${d?.colors?.background||"var(--background)"};
          mask-image: radial-gradient(ellipse at center, transparent 20%, black);
          -webkit-mask-image: radial-gradient(ellipse at center, transparent 20%, black);
          pointer-events: none;
        "
      ></div>
`}

<div
  style="
    position: relative;
    z-index: 10;
    border: 2px solid var(--border);
    background: ${d?.colors?.cardBackground||"var(--background)"};
    padding: 1.5rem;
    max-width: 42rem;
    width: 100%;
  "
>
    ${d?.disableCornerDecorations?"":`
        <!-- Corner decorations -->
        <div
          style="
            position: absolute;
            top: -2px;
            left: -2px;
            width: 2rem;
            height: 2rem;
            border-top: 4px solid var(--corner-border);
            border-left: 4px solid var(--corner-border);
          "
        ></div>
        <div
          style="
            position: absolute;
            top: -2px;
            right: -2px;
            width: 2rem;
            height: 2rem;
            border-top: 4px solid var(--corner-border);
            border-right: 4px solid var(--corner-border);
          "
        ></div>
  
        <div
          style="
            position: absolute;
            bottom: -2px;
            left: -2px;
            width: 2rem;
            height: 2rem;
            border-bottom: 4px solid var(--corner-border);
            border-left: 4px solid var(--corner-border);
          "
        ></div>
        <div
          style="
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 2rem;
            height: 2rem;
            border-bottom: 4px solid var(--corner-border);
            border-right: 4px solid var(--corner-border);
          "
        ></div>`}

        <div style="text-align: center; margin-bottom: 1.5rem;">
          <div style="margin-bottom: 1.5rem;">
            <div
              style="
                display: inline-block;
                border: 2px solid ${d?.disableTitleBorder?"transparent":d?.colors?.titleBorder||"var(--destructive)"};
                padding: 0.375rem 1rem;
              "
            >
              <h1
                style="
                  font-size: var(--text-6xl);
                  font-weight: var(--font-weight-semibold);
                  color: ${d?.colors?.titleColor||"var(--foreground)"};
                  letter-spacing: -0.02em;
                  margin: 0;
                "
              >
                ERROR
              </h1>
            </div>
            <div
              style="
                height: 2px;
                background-color: var(--border);
                width: calc(100% + 3rem);
                margin-left: -1.5rem;
                margin-top: 1.5rem;
              "
            ></div>
          </div>

          <h2
            style="
              font-size: var(--text-2xl);
              font-weight: var(--font-weight-semibold);
              color: var(--foreground);
              margin: 0 0 1rem;
            "
          >
            Something went wrong
          </h2>

          <div
            style="
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                border: 2px solid var(--border);
                background-color: var(--muted);
                padding: 0.375rem 0.75rem;
                margin: 0 0 1rem;
                flex-wrap: wrap;
                justify-content: center;
            "
            >
            <span
                style="
                font-size: 0.75rem;
                color: var(--muted-foreground);
                font-weight: var(--font-weight-semibold);
                "
            >
                CODE:
            </span>
            <span
                style="
                font-size: var(--text-sm);
                font-family: var(--default-mono-font-family, monospace);
                color: var(--foreground);
                word-break: break-all;
                "
            >
                ${bR(b)}
            </span>
            </div>

          <p
            style="
              color: var(--muted-foreground);
              max-width: 28rem;
              margin: 0 auto;
              font-size: var(--text-sm);
              line-height: 1.5;
              text-wrap: pretty;
            "
          >
            ${!c?`We encountered an unexpected error. Please try again or return to the home page. If you're a developer, you can find more information about the error <a href='https://better-auth.com/docs/errors/${encodeURIComponent(b)}' target='_blank' rel="noopener noreferrer" style='color: var(--foreground); text-decoration: underline;'>here</a>.`:c}
          </p>
        </div>

        <div
          style="
            display: flex;
            gap: 0.75rem;
            margin-top: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
          "
        >
          <a
            href="/"
            style="
              text-decoration: none;
            "
          >
            <div
              style="
                border: 2px solid var(--border);
                background: var(--primary);
                color: var(--primary-foreground);
                padding: 0.5rem 1rem;
                border-radius: 0;
                white-space: nowrap;
              "
              class="btn"
            >
              Go Home
            </div>
          </a>
          <a
            href="https://better-auth.com/docs/errors/${encodeURIComponent(b)}?askai=${encodeURIComponent(`What does the error code ${b} mean?`)}"
            target="_blank"
            rel="noopener noreferrer"
            style="
              text-decoration: none;
            "
          >
            <div
              style="
                border: 2px solid var(--border);
                background: transparent;
                color: var(--foreground);
                padding: 0.5rem 1rem;
                border-radius: 0;
                white-space: nowrap;
              "
              class="btn"
            >
              Ask AI
            </div>
          </a>
        </div>
      </div>
    </div>
  </body>
</html>`})(a.context.options,e,f),{headers:{"Content-Type":"text/html"}})}),bT=(0,aj.createAuthEndpoint)("/ok",{method:"GET",metadata:{...af,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async a=>a.json({ok:!0}));function bU(a,b,c){let d=b?new URL(b,a.baseURL):new URL(`${a.baseURL}/error`);return c&&Object.entries(c).forEach(([a,b])=>d.searchParams.set(a,b)),d.href}let bV=(0,aj.createAuthEndpoint)("/request-password-reset",{method:"POST",body:q.object({email:q.email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:q.string().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{operationId:"requestPasswordReset",description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async a=>{if(!a.context.options.emailAndPassword?.sendResetPassword)throw a.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new aa.APIError("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:b,redirectTo:c}=a.body,d=await a.context.internalAdapter.findUserByEmail(b,{includeAccounts:!0});if(!d)return(0,ag.r)(24),await a.context.internalAdapter.findVerificationValue("dummy-verification-token"),a.context.logger.error("Reset Password: User not found",{email:b}),a.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let e=(0,n.u)(a.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),f=(0,ag.r)(24);await a.context.internalAdapter.createVerificationValue({value:d.user.id,identifier:`reset-password:${f}`,expiresAt:e});let g=c?encodeURIComponent(c):"",h=`${a.context.baseURL}/reset-password/${f}?callbackURL=${g}`;return await a.context.options.emailAndPassword.sendResetPassword({user:d.user,url:h,token:f},a.request).catch(b=>{a.context.logger.error("Failed to send reset password email",b)}),a.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),bW=(0,aj.createAuthEndpoint)("/reset-password/:token",{method:"GET",operationId:"forgetPasswordCallback",query:q.object({callbackURL:q.string().meta({description:"The URL to redirect the user to reset their password"})}),use:[bv(a=>a.query.callbackURL)],metadata:{openapi:{operationId:"resetPasswordCallback",description:"Redirects the user to the callback URL with the token",parameters:[{name:"token",in:"path",required:!0,description:"The token to reset the password",schema:{type:"string"}},{name:"callbackURL",in:"query",required:!0,description:"The URL to redirect the user to reset their password",schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async a=>{var b,c;let d,{token:e}=a.params,{callbackURL:f}=a.query;if(!e||!f)throw a.redirect(bU(a.context,f,{error:"INVALID_TOKEN"}));let g=await a.context.internalAdapter.findVerificationValue(`reset-password:${e}`);if(!g||g.expiresAt<new Date)throw a.redirect(bU(a.context,f,{error:"INVALID_TOKEN"}));throw a.redirect((b=a.context,c={token:e},d=new URL(f,b.baseURL),c&&Object.entries(c).forEach(([a,b])=>d.searchParams.set(a,b)),d.href))}),bX=(0,aj.createAuthEndpoint)("/reset-password",{method:"POST",operationId:"resetPassword",query:q.object({token:q.string().optional()}).optional(),body:q.object({newPassword:q.string().meta({description:"The new password to set"}),token:q.string().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{operationId:"resetPassword",description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async a=>{let b=a.body.token||a.query?.token;if(!b)throw new aa.APIError("BAD_REQUEST",{message:ai.n.INVALID_TOKEN});let{newPassword:c}=a.body,d=a.context.password?.config.minPasswordLength,e=a.context.password?.config.maxPasswordLength;if(c.length<d)throw new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_SHORT});if(c.length>e)throw new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_LONG});let f=`reset-password:${b}`,g=await a.context.internalAdapter.findVerificationValue(f);if(!g||g.expiresAt<new Date)throw new aa.APIError("BAD_REQUEST",{message:ai.n.INVALID_TOKEN});let h=g.value,i=await a.context.password.hash(c);if((await a.context.internalAdapter.findAccounts(h)).find(a=>"credential"===a.providerId)?await a.context.internalAdapter.updatePassword(h,i):await a.context.internalAdapter.createAccount({userId:h,providerId:"credential",password:i,accountId:h}),await a.context.internalAdapter.deleteVerificationValue(g.id),a.context.options.emailAndPassword?.onPasswordReset){let b=await a.context.internalAdapter.findUserById(h);b&&await a.context.options.emailAndPassword.onPasswordReset({user:b},a.request)}return a.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await a.context.internalAdapter.deleteSessions(h),a.json({status:!0})}),bY=q.object({callbackURL:q.string().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:q.string().optional(),errorCallbackURL:q.string().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:bq,disableRedirect:q.boolean().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:q.optional(q.object({token:q.string().meta({description:"ID token from the provider"}),nonce:q.string().meta({description:"Nonce used to generate the token"}).optional(),accessToken:q.string().meta({description:"Access token from the provider"}).optional(),refreshToken:q.string().meta({description:"Refresh token from the provider"}).optional(),expiresAt:q.number().meta({description:"Expiry date of the token"}).optional()})),scopes:q.array(q.string()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:q.boolean().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:q.string().meta({description:"The login hint to use for the authorization code request"}).optional(),additionalData:q.record(q.string(),q.any()).optional().meta({description:"Additional data to be passed through the OAuth flow"})}),bZ=(0,aj.createAuthEndpoint)("/sign-out",{method:"POST",operationId:"signOut",requireHeaders:!0,metadata:{openapi:{operationId:"signOut",description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async a=>{let b=await a.getSignedCookie(a.context.authCookies.sessionToken.name,a.context.secret);if(b)try{await a.context.internalAdapter.deleteSession(b)}catch(b){a.context.logger.error("Failed to delete session from database",b)}return(0,ah.n)(a),a.json({success:!0})}),b$=q.record(q.string(),q.any()),b_=q.record(q.string().meta({description:"Field name must be a string"}),q.any()),b0=(0,aj.createAuthEndpoint)("/change-password",{method:"POST",operationId:"changePassword",body:q.object({newPassword:q.string().meta({description:"The new password to set"}),currentPassword:q.string().meta({description:"The current password is required"}),revokeOtherSessions:q.boolean().meta({description:"Must be a boolean value"}).optional()}),use:[aq],metadata:{openapi:{operationId:"changePassword",description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async a=>{let{newPassword:b,currentPassword:c,revokeOtherSessions:d}=a.body,e=a.context.session,f=a.context.password.config.minPasswordLength;if(b.length<f)throw a.context.logger.error("Password is too short"),new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_SHORT});let g=a.context.password.config.maxPasswordLength;if(b.length>g)throw a.context.logger.error("Password is too long"),new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_LONG});let h=(await a.context.internalAdapter.findAccounts(e.user.id)).find(a=>"credential"===a.providerId&&a.password);if(!h||!h.password)throw new aa.APIError("BAD_REQUEST",{message:ai.n.CREDENTIAL_ACCOUNT_NOT_FOUND});let i=await a.context.password.hash(b);if(!await a.context.password.verify({hash:h.password,password:c}))throw new aa.APIError("BAD_REQUEST",{message:ai.n.INVALID_PASSWORD});await a.context.internalAdapter.updateAccount(h.id,{password:i});let j=null;if(d){await a.context.internalAdapter.deleteSessions(e.user.id);let b=await a.context.internalAdapter.createSession(e.user.id);if(!b)throw new aa.APIError("INTERNAL_SERVER_ERROR",{message:ai.n.FAILED_TO_GET_SESSION});await (0,ah.c)(a,{session:b,user:e.user}),j=b.token}return a.json({token:j,user:{id:e.user.id,email:e.user.email,name:e.user.name,image:e.user.image,emailVerified:e.user.emailVerified,createdAt:e.user.createdAt,updatedAt:e.user.updatedAt}})}),b1=(0,aj.createAuthEndpoint)("/set-password",{method:"POST",body:q.object({newPassword:q.string().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[aq]},async a=>{let{newPassword:b}=a.body,c=a.context.session,d=a.context.password.config.minPasswordLength;if(b.length<d)throw a.context.logger.error("Password is too short"),new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_SHORT});let e=a.context.password.config.maxPasswordLength;if(b.length>e)throw a.context.logger.error("Password is too long"),new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_LONG});let f=(await a.context.internalAdapter.findAccounts(c.user.id)).find(a=>"credential"===a.providerId&&a.password),g=await a.context.password.hash(b);if(!f)return await a.context.internalAdapter.linkAccount({userId:c.user.id,providerId:"credential",accountId:c.user.id,password:g}),a.json({status:!0});throw new aa.APIError("BAD_REQUEST",{message:"user already has a password"})}),b2=(0,aj.createAuthEndpoint)("/delete-user",{method:"POST",use:[aq],body:q.object({callbackURL:q.string().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:q.string().meta({description:"The password of the user is required to delete the user"}).optional(),token:q.string().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{operationId:"deleteUser",description:"Delete the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{callbackURL:{type:"string",description:"The callback URL to redirect to after the user is deleted"},password:{type:"string",description:"The user's password. Required if session is not fresh"},token:{type:"string",description:"The deletion verification token"}}}}}},responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async a=>{if(!a.context.options.user?.deleteUser?.enabled)throw a.context.logger.error("Delete user is disabled. Enable it in the options"),new aa.APIError("NOT_FOUND");let b=a.context.session;if(a.body.password){let c=(await a.context.internalAdapter.findAccounts(b.user.id)).find(a=>"credential"===a.providerId&&a.password);if(!c||!c.password)throw new aa.APIError("BAD_REQUEST",{message:ai.n.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await a.context.password.verify({hash:c.password,password:a.body.password}))throw new aa.APIError("BAD_REQUEST",{message:ai.n.INVALID_PASSWORD})}if(a.body.token)return await b3({...a,query:{token:a.body.token}}),a.json({success:!0,message:"User deleted"});if(a.context.options.user.deleteUser?.sendDeleteAccountVerification){let c=(0,_.r)(32,"0-9","a-z");await a.context.internalAdapter.createVerificationValue({value:b.user.id,identifier:`delete-account-${c}`,expiresAt:new Date(Date.now()+1e3*(a.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))});let d=`${a.context.baseURL}/delete-user/callback?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;return await a.context.options.user.deleteUser.sendDeleteAccountVerification({user:b.user,url:d,token:c},a.request),a.json({success:!0,message:"Verification email sent"})}if(!a.body.password&&0!==a.context.sessionConfig.freshAge){let c=new Date(b.session.createdAt).getTime(),d=1e3*a.context.sessionConfig.freshAge;if(Date.now()-c>1e3*d)throw new aa.APIError("BAD_REQUEST",{message:ai.n.SESSION_EXPIRED})}let c=a.context.options.user.deleteUser?.beforeDelete;c&&await c(b.user,a.request),await a.context.internalAdapter.deleteUser(b.user.id),await a.context.internalAdapter.deleteSessions(b.user.id),(0,ah.n)(a);let d=a.context.options.user.deleteUser?.afterDelete;return d&&await d(b.user,a.request),a.json({success:!0,message:"User deleted"})}),b3=(0,aj.createAuthEndpoint)("/delete-user/callback",{method:"GET",query:q.object({token:q.string().meta({description:"The token to verify the deletion request"}),callbackURL:q.string().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[bv(a=>a.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async a=>{if(!a.context.options.user?.deleteUser?.enabled)throw a.context.logger.error("Delete user is disabled. Enable it in the options"),new aa.APIError("NOT_FOUND");let b=await ao(a);if(!b)throw new aa.APIError("NOT_FOUND",{message:ai.n.FAILED_TO_GET_USER_INFO});let c=await a.context.internalAdapter.findVerificationValue(`delete-account-${a.query.token}`);if(!c||c.expiresAt<new Date||c.value!==b.user.id)throw new aa.APIError("NOT_FOUND",{message:ai.n.INVALID_TOKEN});let d=a.context.options.user.deleteUser?.beforeDelete;d&&await d(b.user,a.request),await a.context.internalAdapter.deleteUser(b.user.id),await a.context.internalAdapter.deleteSessions(b.user.id),await a.context.internalAdapter.deleteAccounts(b.user.id),await a.context.internalAdapter.deleteVerificationValue(c.id),(0,ah.n)(a);let e=a.context.options.user.deleteUser?.afterDelete;if(e&&await e(b.user,a.request),a.query.callbackURL)throw a.redirect(a.query.callbackURL||"/");return a.json({success:!0,message:"User deleted"})}),b4=(0,aj.createAuthEndpoint)("/change-email",{method:"POST",body:q.object({newEmail:q.email().meta({description:"The new email address to set must be a valid email address"}),callbackURL:q.string().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[aq],metadata:{openapi:{operationId:"changeEmail",responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"},status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async a=>{if(!a.context.options.user?.changeEmail?.enabled)throw a.context.logger.error("Change email is disabled."),new aa.APIError("BAD_REQUEST",{message:"Change email is disabled"});let b=a.body.newEmail.toLowerCase();if(b===a.context.session.user.email)throw a.context.logger.error("Email is the same"),new aa.APIError("BAD_REQUEST",{message:"Email is the same"});if(await a.context.internalAdapter.findUserByEmail(b))throw a.context.logger.error("Email already exists"),new aa.APIError("UNPROCESSABLE_ENTITY",{message:ai.n.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(!0!==a.context.session.user.emailVerified&&a.context.options.user.changeEmail.updateEmailWithoutVerification){if(await a.context.internalAdapter.updateUserByEmail(a.context.session.user.email,{email:b}),await (0,ah.c)(a,{session:a.context.session.session,user:{...a.context.session.user,email:b}}),a.context.options.emailVerification?.sendVerificationEmail){let c=await bN(a.context.secret,b,void 0,a.context.options.emailVerification?.expiresIn),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;await a.context.options.emailVerification.sendVerificationEmail({user:{...a.context.session.user,email:b},url:d,token:c},a.request)}return a.json({status:!0})}if(a.context.session.user.emailVerified&&(a.context.options.user.changeEmail.sendChangeEmailConfirmation||a.context.options.user.changeEmail.sendChangeEmailVerification)){let c=await bN(a.context.secret,a.context.session.user.email,b,a.context.options.emailVerification?.expiresIn,{requestType:"change-email-confirmation"}),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`,e=a.context.options.user.changeEmail.sendChangeEmailConfirmation||a.context.options.user.changeEmail.sendChangeEmailVerification;return e&&await e({user:a.context.session.user,newEmail:b,url:d,token:c},a.request),a.json({status:!0})}if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new aa.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let c=await bN(a.context.secret,a.context.session.user.email,b,a.context.options.emailVerification?.expiresIn,{requestType:"change-email-verification"}),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;return await a.context.options.emailVerification.sendVerificationEmail({user:{...a.context.session.user,email:b},url:d,token:c},a.request),a.json({status:!0})}),b5=bs((a,b,c)=>{if(Array.isArray(a[b])&&Array.isArray(c))return a[b]=c,!0});async function b6(a,b){let c={};for(let d of b)if(d.matcher(a)){let b=await d.handler({...a,returnHeaders:!1}).catch(b=>{throw b instanceof aa.APIError&&(0,ax.a)(a.context.logger.level,"debug")&&(b.stack=b.errorStack),b});if(b&&"object"==typeof b){if("context"in b&&"object"==typeof b.context){let{headers:a,...d}=b.context;a instanceof Headers&&(c.headers?a.forEach((a,b)=>{c.headers?.set(b,a)}):c.headers=a),c=b5(d,c);continue}return b}}return{context:c}}async function b7(a,b){for(let c of b)if(c.matcher(a)){let b=await c.handler(a).catch(b=>{if(b instanceof aa.APIError)return(0,ax.a)(a.context.logger.level,"debug")&&(b.stack=b.errorStack),{response:b,headers:b.headers?new Headers(b.headers):null};throw b});b.headers&&b.headers.forEach((b,c)=>{a.context.responseHeaders?"set-cookie"===c.toLowerCase()?a.context.responseHeaders.append(c,b):a.context.responseHeaders.set(c,b):a.context.responseHeaders=new Headers({[c]:b})}),b.response&&(a.context.returned=b.response)}return{response:a.context.returned,headers:a.context.responseHeaders}}function b8(a,b){let c=new Map;a.plugins?.forEach(a=>{if(a.endpoints){for(let[b,d]of Object.entries(a.endpoints))if(d&&"path"in d){let e=d.path,f=[];d.options&&"method"in d.options&&(Array.isArray(d.options.method)?f=d.options.method:"string"==typeof d.options.method&&(f=[d.options.method])),0===f.length&&(f=["*"]),c.has(e)||c.set(e,[]),c.get(e).push({pluginId:a.id,endpointKey:b,methods:f})}}});let d=[];for(let[a,b]of c.entries())if(b.length>1){let c=new Map,e=!1;for(let a of b)for(let d of a.methods)c.has(d)||c.set(d,[]),c.get(d).push(a.pluginId),c.get(d).length>1&&(e=!0),"*"===d&&b.length>1?e=!0:"*"!==d&&c.has("*")&&(e=!0);if(e){let e=[...new Set(b.map(a=>a.pluginId))],f=[];for(let[a,d]of c.entries())(d.length>1||"*"===a&&b.length>1||"*"!==a&&c.has("*"))&&f.push(a);d.push({path:a,plugins:e,conflictingMethods:f})}}if(d.length>0){let a=d.map(a=>`  - "${a.path}" [${a.conflictingMethods.join(", ")}] used by plugins: ${a.plugins.join(", ")}`).join("\n");b.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${a}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}function b9(a,b){let c=b.plugins?.reduce((a,b)=>({...a,...b.endpoints}),{})??{},d=b.plugins?.map(b=>b.middlewares?.map(b=>{let c=async c=>{let d=await a;return b.middleware({...c,context:{...d,...c.context}})};return c.options=b.middleware.options,{path:b.path,middleware:c}})).filter(a=>void 0!==a).flat()||[];return{api:function(a,b){let c={};for(let[d,e]of Object.entries(a))c[d]=async a=>{let c=async()=>{let c=await b,d={...a,context:{...c,returned:void 0,responseHeaders:void 0,session:null},path:e.path,headers:a?.headers?new Headers(a?.headers):void 0};return(0,s.f)(d,async()=>{let{beforeHooks:b,afterHooks:f}=function(a){let b=a.options.plugins||[],c=[],d=[];a.options.hooks?.before&&c.push({matcher:()=>!0,handler:a.options.hooks.before}),a.options.hooks?.after&&d.push({matcher:()=>!0,handler:a.options.hooks.after});let e=b.map(a=>{if(a.hooks?.before)return a.hooks.before}).filter(a=>void 0!==a).flat(),f=b.map(a=>{if(a.hooks?.after)return a.hooks.after}).filter(a=>void 0!==a).flat();return e.length&&c.push(...e),f.length&&d.push(...f),{beforeHooks:c,afterHooks:d}}(c),g=await b6(d,b);if("context"in g&&g.context&&"object"==typeof g.context){let{headers:a,...b}=g.context;a&&a.forEach((a,b)=>{d.headers.set(b,a)}),d=b5(b,d)}else if(g)return a?.asResponse?(0,aa.toResponse)(g,{headers:a?.headers}):a?.returnHeaders?{headers:a?.headers,response:g}:g;d.asResponse=!1,d.returnHeaders=!0,d.returnStatus=!0;let h=await (0,s.f)(d,()=>e(d)).catch(a=>{if(a instanceof aa.APIError)return{response:a,status:a.statusCode,headers:a.headers?new Headers(a.headers):null};throw a});if(h&&h instanceof Response)return h;d.context.returned=h.response,d.context.responseHeaders=h.headers;let i=await b7(d,f);if(i.response&&(h.response=i.response),h.response instanceof aa.APIError&&(0,ax.a)(c.logger.level,"debug")&&(h.response.stack=h.response.errorStack),h.response instanceof aa.APIError&&!a?.asResponse)throw h.response;return a?.asResponse?(0,aa.toResponse)(h.response,{headers:h.headers,status:h.status}):a?.returnHeaders?a?.returnStatus?{headers:h.headers,response:h.response,status:h.status}:{headers:h.headers,response:h.response}:a?.returnStatus?{response:h.response,status:h.status}:h.response})};return await (0,s.c)()?c():(0,s.l)(new WeakMap,c)},c[d].path=e.path,c[d].options=e.options;return c}({signInSocial:(0,aj.createAuthEndpoint)("/sign-in/social",{method:"POST",operationId:"socialSignIn",body:bY,metadata:{$Infer:{body:{},returned:{}},openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{token:{type:"string"},user:{type:"object",$ref:"#/components/schemas/User"},url:{type:"string"},redirect:{type:"boolean",enum:[!1]}},required:["redirect","token","user"]}}}}}}}},async a=>{let b=a.context.socialProviders.find(b=>b.id===a.body.provider);if(!b)throw a.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:a.body.provider}),new aa.APIError("NOT_FOUND",{message:ai.n.PROVIDER_NOT_FOUND});if(a.body.idToken){if(!b.verifyIdToken)throw a.context.logger.error("Provider does not support id token verification",{provider:a.body.provider}),new aa.APIError("NOT_FOUND",{message:ai.n.ID_TOKEN_NOT_SUPPORTED});let{token:c,nonce:d}=a.body.idToken;if(!await b.verifyIdToken(c,d))throw a.context.logger.error("Invalid id token",{provider:a.body.provider}),new aa.APIError("UNAUTHORIZED",{message:ai.n.INVALID_TOKEN});let e=await b.getUserInfo({idToken:c,accessToken:a.body.idToken.accessToken,refreshToken:a.body.idToken.refreshToken});if(!e||!e?.user)throw a.context.logger.error("Failed to get user info",{provider:a.body.provider}),new aa.APIError("UNAUTHORIZED",{message:ai.n.FAILED_TO_GET_USER_INFO});if(!e.user.email)throw a.context.logger.error("User email not found",{provider:a.body.provider}),new aa.APIError("UNAUTHORIZED",{message:ai.n.USER_EMAIL_NOT_FOUND});let f=await bK(a,{userInfo:{...e.user,email:e.user.email,id:String(e.user.id),name:e.user.name||"",image:e.user.image,emailVerified:e.user.emailVerified||!1},account:{providerId:b.id,accountId:String(e.user.id),accessToken:a.body.idToken.accessToken},callbackURL:a.body.callbackURL,disableSignUp:b.disableImplicitSignUp&&!a.body.requestSignUp||b.disableSignUp});if(f.error)throw new aa.APIError("UNAUTHORIZED",{message:f.error});return await (0,ah.c)(a,f.data),a.json({redirect:!1,token:f.data.session.token,url:void 0,user:(0,n.l)(a.context.options,f.data.user)})}let{codeVerifier:c,state:d}=await ad(a,void 0,a.body.additionalData),e=await b.createAuthorizationURL({state:d,codeVerifier:c,redirectURI:`${a.context.baseURL}/callback/${b.id}`,scopes:a.body.scopes,loginHint:a.body.loginHint});return a.json({url:e.toString(),redirect:!a.body.disableRedirect})}),callbackOAuth:bM,getSession:an(),signOut:bZ,signUpEmail:(0,aj.createAuthEndpoint)("/sign-up/email",{method:"POST",operationId:"signUpWithEmailAndPassword",body:b$,metadata:{$Infer:{body:{},returned:{}},openapi:{operationId:"signUpWithEmailAndPassword",description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async a=>(0,u.i)(a.context.adapter,async()=>{let b;if(!a.context.options.emailAndPassword?.enabled||a.context.options.emailAndPassword?.disableSignUp)throw new aa.APIError("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let c=a.body,{name:d,email:e,password:f,image:g,callbackURL:h,rememberMe:i,...j}=c;if(!q.email().safeParse(e).success)throw new aa.APIError("BAD_REQUEST",{message:ai.n.INVALID_EMAIL});let k=a.context.password.config.minPasswordLength;if(f.length<k)throw a.context.logger.error("Password is too short"),new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_SHORT});let l=a.context.password.config.maxPasswordLength;if(f.length>l)throw a.context.logger.error("Password is too long"),new aa.APIError("BAD_REQUEST",{message:ai.n.PASSWORD_TOO_LONG});if((await a.context.internalAdapter.findUserByEmail(e))?.user)throw a.context.logger.info(`Sign-up attempt for existing email: ${e}`),new aa.APIError("UNPROCESSABLE_ENTITY",{message:ai.n.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let m=await a.context.password.hash(f);try{let c=(0,n.c)(a.context.options,j,"create");if(!(b=await a.context.internalAdapter.createUser({email:e.toLowerCase(),name:d,image:g,...c,emailVerified:!1})))throw new aa.APIError("BAD_REQUEST",{message:ai.n.FAILED_TO_CREATE_USER})}catch(b){if((0,o.d)()&&a.context.logger.error("Failed to create user",b),b instanceof aa.APIError)throw b;throw a.context.logger?.error("Failed to create user",b),new aa.APIError("UNPROCESSABLE_ENTITY",{message:ai.n.FAILED_TO_CREATE_USER,details:b})}if(!b)throw new aa.APIError("UNPROCESSABLE_ENTITY",{message:ai.n.FAILED_TO_CREATE_USER});if(await a.context.internalAdapter.linkAccount({userId:b.id,providerId:"credential",accountId:b.id,password:m}),a.context.options.emailVerification?.sendOnSignUp||a.context.options.emailAndPassword.requireEmailVerification){let d=await bN(a.context.secret,b.email,void 0,a.context.options.emailVerification?.expiresIn),e=c.callbackURL?encodeURIComponent(c.callbackURL):encodeURIComponent("/"),f=`${a.context.baseURL}/verify-email?token=${d}&callbackURL=${e}`,g=a.request?[{user:b,url:f,token:d},a.request]:[{user:b,url:f,token:d}];await a.context.options.emailVerification?.sendVerificationEmail?.(...g)}if(!1===a.context.options.emailAndPassword.autoSignIn||a.context.options.emailAndPassword.requireEmailVerification)return a.json({token:null,user:(0,n.l)(a.context.options,b)});let p=await a.context.internalAdapter.createSession(b.id,!1===i);if(!p)throw new aa.APIError("BAD_REQUEST",{message:ai.n.FAILED_TO_CREATE_SESSION});return await (0,ah.c)(a,{session:p,user:b},!1===i),a.json({token:p.token,user:(0,n.l)(a.context.options,b)})})),signInEmail:(0,aj.createAuthEndpoint)("/sign-in/email",{method:"POST",operationId:"signInEmail",body:q.object({email:q.string().meta({description:"Email of the user"}),password:q.string().meta({description:"Password of the user"}),callbackURL:q.string().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:q.boolean().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{$Infer:{body:{},returned:{}},openapi:{operationId:"signInEmail",description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"string",nullable:!0},user:{type:"object",$ref:"#/components/schemas/User"}},required:["redirect","token","user"]}}}}}}}},async a=>{if(!a.context.options?.emailAndPassword?.enabled)throw a.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new aa.APIError("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:b,password:c}=a.body;if(!q.email().safeParse(b).success)throw new aa.APIError("BAD_REQUEST",{message:ai.n.INVALID_EMAIL});let d=await a.context.internalAdapter.findUserByEmail(b,{includeAccounts:!0});if(!d)throw await a.context.password.hash(c),a.context.logger.error("User not found",{email:b}),new aa.APIError("UNAUTHORIZED",{message:ai.n.INVALID_EMAIL_OR_PASSWORD});let e=d.accounts.find(a=>"credential"===a.providerId);if(!e)throw await a.context.password.hash(c),a.context.logger.error("Credential account not found",{email:b}),new aa.APIError("UNAUTHORIZED",{message:ai.n.INVALID_EMAIL_OR_PASSWORD});let f=e?.password;if(!f)throw await a.context.password.hash(c),a.context.logger.error("Password not found",{email:b}),new aa.APIError("UNAUTHORIZED",{message:ai.n.INVALID_EMAIL_OR_PASSWORD});if(!await a.context.password.verify({hash:f,password:c}))throw a.context.logger.error("Invalid password"),new aa.APIError("UNAUTHORIZED",{message:ai.n.INVALID_EMAIL_OR_PASSWORD});if(a.context.options?.emailAndPassword?.requireEmailVerification&&!d.user.emailVerified){if(!a.context.options?.emailVerification?.sendVerificationEmail)throw new aa.APIError("FORBIDDEN",{message:ai.n.EMAIL_NOT_VERIFIED});if(a.context.options?.emailVerification?.sendOnSignIn){let b=await bN(a.context.secret,d.user.email,void 0,a.context.options.emailVerification?.expiresIn),c=a.body.callbackURL?encodeURIComponent(a.body.callbackURL):encodeURIComponent("/"),e=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${c}`;await a.context.options.emailVerification.sendVerificationEmail({user:d.user,url:e,token:b},a.request)}throw new aa.APIError("FORBIDDEN",{message:ai.n.EMAIL_NOT_VERIFIED})}let g=await a.context.internalAdapter.createSession(d.user.id,!1===a.body.rememberMe);if(!g)throw a.context.logger.error("Failed to create session"),new aa.APIError("UNAUTHORIZED",{message:ai.n.FAILED_TO_CREATE_SESSION});return await (0,ah.c)(a,{session:g,user:d.user},!1===a.body.rememberMe),a.json({redirect:!!a.body.callbackURL,token:g.token,url:a.body.callbackURL,user:(0,n.l)(a.context.options,d.user)})}),resetPassword:bX,verifyEmail:bQ,sendVerificationEmail:bP,changeEmail:b4,changePassword:b0,setPassword:b1,updateUser:(0,aj.createAuthEndpoint)("/update-user",{method:"POST",operationId:"updateUser",body:b_,use:[ap],metadata:{$Infer:{body:{}},openapi:{operationId:"updateUser",description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user",nullable:!0}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"}}}}}}}}}},async a=>{let b=a.body;if(b.email)throw new aa.APIError("BAD_REQUEST",{message:ai.n.EMAIL_CAN_NOT_BE_UPDATED});let{name:c,image:d,...e}=b,f=a.context.session,g=(0,n.c)(a.context.options,e,"update");if(void 0===d&&void 0===c&&0===Object.keys(g).length)throw new aa.APIError("BAD_REQUEST",{message:"No fields to update"});let h=await a.context.internalAdapter.updateUser(f.user.id,{name:c,image:d,...g});return await (0,ah.c)(a,{session:f.session,user:h}),a.json({status:!0})}),deleteUser:b2,requestPasswordReset:bV,requestPasswordResetCallback:bW,listSessions:as(),revokeSession:at,revokeSessions:au,revokeOtherSessions:av,linkSocialAccount:bE,listUserAccounts:bD,deleteUserCallback:b3,unlinkAccount:bF,refreshToken:bH,getAccessToken:bG,accountInfo:bJ,...c,ok:bT,error:bS},a),middlewares:d}}let ca=(a,b)=>{let{api:c,middlewares:d}=b9(a,b),e=new URL(a.baseURL).pathname;return(0,aa.createRouter)(c,{routerContext:a,openapi:{disabled:!0},basePath:e,routerMiddleware:[{path:"/**",middleware:bu},...d],allowedMediaTypes:["application/json"],async onRequest(b){let c=a.options.disabledPaths||[],d=new URL(b.url).pathname,f="/"===e?d:d.startsWith(e)?d.slice(e.length)||"/":d;if(c.includes(f))return new Response("Not Found",{status:404});for(let c of a.options.plugins||[])if(c.onRequest){let d=await c.onRequest(b,a);if(d&&"response"in d)return d.response;if(d&&"request"in d){let b=await bA(d.request,a);if(b)return b;return d.request}}return bA(b,a)},async onResponse(b){for(let c of a.options.plugins||[])if(c.onResponse){let d=await c.onResponse(b,a);if(d)return d.response}return b},onError(c){if(c instanceof aa.APIError&&"FOUND"===c.status)return;if(b.onAPIError?.throw)throw c;if(b.onAPIError?.onError)return void b.onAPIError.onError(c,a);let d=b.logger?.level,e="error"===d||"warn"===d||"debug"===d?F.logger:void 0;if(b.logger?.disabled!==!0){if(c&&"object"==typeof c&&"message"in c&&"string"==typeof c.message&&(c.message.includes("no column")||c.message.includes("column")||c.message.includes("relation")||c.message.includes("table")||c.message.includes("does not exist")))return void a.logger?.error(c.message);c instanceof aa.APIError?("INTERNAL_SERVER_ERROR"===c.status&&a.logger.error(c.status,c),e?.error(c.message)):a.logger?.error(c&&"object"==typeof c&&"name"in c?c.name:"",c)}}})};a.s(["L",()=>by,"a",()=>b9,"n",()=>b8,"s",()=>ca],72377);var ag=H,cb=a.i(32783);async function cc(a,b){let c=(await b.context.internalAdapter.findAccounts(a))?.find(a=>"credential"===a.providerId),d=c?.password;if(!c||!d||!b.body.password)throw new aa.APIError("BAD_REQUEST",{message:"No password credential found"});if(!await b.context.password.verify({hash:d,password:b.body.password}))throw new aa.APIError("BAD_REQUEST",{message:"Invalid password"});return!0}a.s(["t",()=>cc],42082);var D=v,E=o,cd=a.i(51171),p=o,ai=ai,ce=o,cf=o,cg=o,p=o,ch=a.i(99685),ci=a.i(85078);function cj(a,b){return{database:b?.database,adapter:b?.adapter,emailVerification:{sendVerificationEmail:!!a.emailVerification?.sendVerificationEmail,sendOnSignUp:!!a.emailVerification?.sendOnSignUp,sendOnSignIn:!!a.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!a.emailVerification?.autoSignInAfterVerification,expiresIn:a.emailVerification?.expiresIn,onEmailVerification:!!a.emailVerification?.onEmailVerification,afterEmailVerification:!!a.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!a.emailAndPassword?.enabled,disableSignUp:!!a.emailAndPassword?.disableSignUp,requireEmailVerification:!!a.emailAndPassword?.requireEmailVerification,maxPasswordLength:a.emailAndPassword?.maxPasswordLength,minPasswordLength:a.emailAndPassword?.minPasswordLength,sendResetPassword:!!a.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:a.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!a.emailAndPassword?.onPasswordReset,password:{hash:!!a.emailAndPassword?.password?.hash,verify:!!a.emailAndPassword?.password?.verify},autoSignIn:!!a.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!a.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(a.socialProviders||{}).map(b=>{let c=a.socialProviders?.[b];return c?{id:b,mapProfileToUser:!!c.mapProfileToUser,disableDefaultScope:!!c.disableDefaultScope,disableIdTokenSignIn:!!c.disableIdTokenSignIn,disableImplicitSignUp:c.disableImplicitSignUp,disableSignUp:c.disableSignUp,getUserInfo:!!c.getUserInfo,overrideUserInfoOnSignIn:!!c.overrideUserInfoOnSignIn,prompt:c.prompt,verifyIdToken:!!c.verifyIdToken,scope:c.scope,refreshAccessToken:!!c.refreshAccessToken}:{}}),plugins:a.plugins?.map(a=>a.id.toString()),user:{modelName:a.user?.modelName,fields:a.user?.fields,additionalFields:a.user?.additionalFields,changeEmail:{enabled:a.user?.changeEmail?.enabled,sendChangeEmailVerification:!!a.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:a.verification?.modelName,disableCleanup:a.verification?.disableCleanup,fields:a.verification?.fields},session:{modelName:a.session?.modelName,additionalFields:a.session?.additionalFields,cookieCache:{enabled:a.session?.cookieCache?.enabled,maxAge:a.session?.cookieCache?.maxAge,strategy:a.session?.cookieCache?.strategy},disableSessionRefresh:a.session?.disableSessionRefresh,expiresIn:a.session?.expiresIn,fields:a.session?.fields,freshAge:a.session?.freshAge,preserveSessionInDatabase:a.session?.preserveSessionInDatabase,storeSessionInDatabase:a.session?.storeSessionInDatabase,updateAge:a.session?.updateAge},account:{modelName:a.account?.modelName,fields:a.account?.fields,encryptOAuthTokens:a.account?.encryptOAuthTokens,updateAccountOnSignIn:a.account?.updateAccountOnSignIn,accountLinking:{enabled:a.account?.accountLinking?.enabled,trustedProviders:a.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:a.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:a.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!a.hooks?.after,before:!!a.hooks?.before},secondaryStorage:!!a.secondaryStorage,advanced:{cookiePrefix:!!a.advanced?.cookiePrefix,cookies:!!a.advanced?.cookies,crossSubDomainCookies:{domain:!!a.advanced?.crossSubDomainCookies?.domain,enabled:a.advanced?.crossSubDomainCookies?.enabled,additionalCookies:a.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!a.advanced?.database?.useNumberId||a.advanced?.database?.generateId==="serial",generateId:a.advanced?.database?.generateId,defaultFindManyLimit:a.advanced?.database?.defaultFindManyLimit},useSecureCookies:a.advanced?.useSecureCookies,ipAddress:{disableIpTracking:a.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:a.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:a.advanced?.disableCSRFCheck,cookieAttributes:{expires:a.advanced?.defaultCookieAttributes?.expires,secure:a.advanced?.defaultCookieAttributes?.secure,sameSite:a.advanced?.defaultCookieAttributes?.sameSite,domain:!!a.advanced?.defaultCookieAttributes?.domain,path:a.advanced?.defaultCookieAttributes?.path,httpOnly:a.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:a.trustedOrigins?.length,rateLimit:{storage:a.rateLimit?.storage,modelName:a.rateLimit?.modelName,window:a.rateLimit?.window,customStorage:!!a.rateLimit?.customStorage,enabled:a.rateLimit?.enabled,max:a.rateLimit?.max},onAPIError:{errorURL:a.onAPIError?.errorURL,onError:!!a.onAPIError?.onError,throw:a.onAPIError?.throw},logger:{disabled:a.logger?.disabled,level:a.logger?.level,log:!!a.logger?.log},databaseHooks:{user:{create:{after:!!a.databaseHooks?.user?.create?.after,before:!!a.databaseHooks?.user?.create?.before},update:{after:!!a.databaseHooks?.user?.update?.after,before:!!a.databaseHooks?.user?.update?.before}},session:{create:{after:!!a.databaseHooks?.session?.create?.after,before:!!a.databaseHooks?.session?.create?.before},update:{after:!!a.databaseHooks?.session?.update?.after,before:!!a.databaseHooks?.session?.update?.before}},account:{create:{after:!!a.databaseHooks?.account?.create?.after,before:!!a.databaseHooks?.account?.create?.before},update:{after:!!a.databaseHooks?.account?.update?.after,before:!!a.databaseHooks?.account?.update?.before}},verification:{create:{after:!!a.databaseHooks?.verification?.create?.after,before:!!a.databaseHooks?.verification?.create?.before},update:{after:!!a.databaseHooks?.verification?.update?.after,before:!!a.databaseHooks?.verification?.update?.before}}}}}async function ck(){if(c)return c;try{let a="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!a)return;let[{default:b},{default:d}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),e=await b.readFile(d.join(a,"package.json"),"utf-8");return c=JSON.parse(e)}catch{}}async function cl(a){if(c)return c.dependencies?.[a]||c.devDependencies?.[a]||c.peerDependencies?.[a];try{let b="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!b)throw Error("no-cwd");let[{default:c},{default:d}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),e=d.join(b,"node_modules",a,"package.json"),f=await c.readFile(e,"utf-8");return JSON.parse(f).version||await cm(a)||void 0}catch{}return await cm(a)}async function cm(a){let b=await ck();if(b)return({...b.dependencies,...b.devDependencies,...b.peerDependencies})[a]}async function cn(){return(await ck())?.name}let co={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function cp(){for(let[a,b]of Object.entries(co)){let c=await cl(a);if(c)return{name:b,version:c}}}let cq={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function cr(){for(let[a,b]of Object.entries(cq)){let c=await cl(a);if(c)return{name:b,version:c}}}function cs(){let a=(...a)=>a.some(a=>!!cd.env[a]);return a("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":a("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":a("NETLIFY","NETLIFY_URL")?"netlify":a("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":a("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":a("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":a("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":a("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":a("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":a("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":a("DYNO","HEROKU_APP_NAME")?"heroku":a("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":a("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function ct(){try{if("cloudflare"===cs())return"cloudflare";let a=await Function("mm","return import(mm)")("os"),b=a.cpus();return{deploymentVendor:cs(),systemPlatform:a.platform(),systemRelease:a.release(),systemArchitecture:a.arch(),cpuCount:b.length,cpuModel:b.length?b[0].model:null,cpuSpeed:b.length?b[0].speed:null,memory:a.totalmem(),isWSL:await cx(),isDocker:await cw(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch(a){return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function cu(){if("cloudflare"===cs())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function cv(){if("cloudflare"===cs())return!1;try{return(await Function("mm","return import(mm)")("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function cw(){return"cloudflare"!==cs()&&(void 0===d&&(d=await cu()||await cv()),d)}async function cx(){try{if("cloudflare"===cs()||"undefined"==typeof process||process?.platform!=="linux")return!1;let a=await Function("mm","return import(mm)")("fs");if((await Function("mm","return import(mm)")("os")).release().toLowerCase().includes("microsoft")){if(await cz())return!1;return!0}return!!a.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await cz()}catch{return!1}}let cy=async()=>{if("cloudflare"===cs())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function cz(){return void 0===e&&(e=await cy()||await cw()),e}async function cA(a){let b=await (0,ch.createHash)("SHA-256").digest(a);return ak.base64.encode(b)}let cB=null;async function cC(a){if(cB)return cB;let b=await cn();return b?cB=await cA(a?a+b:b):a?cB=await cA(a):cB=(0,ci.createRandomStringGenerator)("a-z","A-Z","0-9")(32)}async function cD(a,b){let c,d=a.telemetry?.debug||(0,cf.l)("BETTER_AUTH_TELEMETRY_DEBUG",!1),e=ce.s.BETTER_AUTH_TELEMETRY_ENDPOINT,f=async a=>{b?.customTrack?await b.customTrack(a).catch(F.logger.error):d?F.logger.info("telemetry event",JSON.stringify(a,null,2)):await aV(e,{method:"POST",body:a}).catch(F.logger.error)},g=async()=>{let c=a.telemetry?.enabled!==void 0&&a.telemetry.enabled;return((0,cf.l)("BETTER_AUTH_TELEMETRY",!1)||c)&&(b?.skipTestCheck||!(0,p.p)())},h=await g();return h&&(c=await cC(a.baseURL),f({type:"init",payload:{config:cj(a,b),runtime:"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null},database:await cp(),framework:await cr(),environment:"production"===(0,cg.u)("NODE_ENV")?"production":"false"!==cd.env.CI&&("BUILD_ID"in cd.env||"BUILD_NUMBER"in cd.env||"CI"in cd.env||"CI_APP_ID"in cd.env||"CI_BUILD_ID"in cd.env||"CI_BUILD_NUMBER"in cd.env||"CI_NAME"in cd.env||"CONTINUOUS_INTEGRATION"in cd.env||"RUN_ID"in cd.env)?"ci":(0,p.p)()?"test":"development",systemInfo:await ct(),packageManager:function(){let a=cd.env.npm_config_user_agent;if(!a)return;let b=a.split(" ")[0],c=b.lastIndexOf("/"),d=b.substring(0,c);return{name:"npminstall"===d?"cnpm":d,version:b.substring(c+1)}}()},anonymousId:c})),{publish:async b=>{h&&(c||(c=await cC(a.baseURL)),await f({type:b.type,payload:b.payload,anonymousId:c}))}}}a.s(["createTelemetry",()=>cD,"getTelemetryAuthConfig",()=>cj],7043);let cE="better-auth-secret-12345678901234567890";function cF(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof a.then}async function cG(a){let b=a.options,c=b.plugins||[],d=a,e=[];for(let a of c)if(a.init){let c,f=a.init(d);if("object"==typeof(c=cF(f)?await f:f)){if(c.options){let{databaseHooks:a,...d}=c.options;a&&e.push(a),b=bt(b,d)}c.context&&(d={...d,...c.context})}}return e.push(b.databaseHooks),d.internalAdapter=T(d.adapter,{options:b,logger:d.logger,hooks:e.filter(a=>void 0!==a),generateId:d.generateId}),d.options=b,{context:d}}async function cH(a,b,c){var d;let e,f,g;b.database||(b=bt(b,{session:{cookieCache:{enabled:!0,strategy:"jwe",refreshCache:!0}},account:{storeStateStrategy:"cookie",storeAccountCookie:!0}}));let h=b.plugins||[],i=(d=b,d.advanced?.crossSubDomainCookies?.enabled,[]),j=(0,E.n)(b.logger),k=(0,cb.t)(b.baseURL,b.basePath),l=b.secret||cd.env.BETTER_AUTH_SECRET||cd.env.AUTH_SECRET||cE,m=l===cE;if(!(0,p.p)()){let a;if(m&&aw.isProduction)throw new G.BetterAuthError("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config.");if(!l)throw new G.BetterAuthError("BETTER_AUTH_SECRET is missing. Set it in your environment or pass `secret` to betterAuth({ secret }).");if(l.length<32)throw new G.BetterAuthError("Invalid BETTER_AUTH_SECRET: must be at least 32 characters long for adequate security. Generate one with `npx @better-auth/cli secret` or `openssl rand -base64 32`.");120>(0===(a=new Set(l).size)?0:Math.log2(Math.pow(a,l.length)))&&j.warn("[better-auth] Warning: your BETTER_AUTH_SECRET appears low-entropy. Use a randomly generated secret for production.")}b8(b={...b,secret:l,baseURL:k?new URL(k).origin:"",basePath:b.basePath||"/api/auth",plugins:h.concat(i)},j);let n=(0,ah.i)(b),o=(0,D.t)(b),q=Object.entries(b.socialProviders||{}).map(([a,b])=>{if(null==b||!1===b.enabled)return null;b.clientId||j.warn(`Social provider ${a} is missing clientId or clientSecret`);let c=bo[a](b);return c.disableImplicitSignUp=b.disableImplicitSignUp,c}).filter(a=>null!==a),r=({model:a,size:c})=>"function"==typeof b.advanced?.generateId?b.advanced.generateId({model:a,size:c}):"function"==typeof b?.advanced?.database?.generateId?b.advanced.database.generateId({model:a,size:c}):(0,ag.r)(c),{publish:s}=await cD(b,{adapter:a.id,database:"function"==typeof b.database?"adapter":c(b.database)}),t={appName:b.appName||"Better Auth",socialProviders:q,options:b,oauthConfig:{storeStateStrategy:b.account?.storeStateStrategy||(b.database?"database":"cookie"),skipStateCookieCheck:!!b.account?.skipStateCookieCheck},tables:o,trustedOrigins:function(a){let b=(0,cb.t)(a.baseURL,a.basePath);if(!b)return[];let c=[new URL(b).origin];a.trustedOrigins&&Array.isArray(a.trustedOrigins)&&c.push(...a.trustedOrigins);let d=cd.env.BETTER_AUTH_TRUSTED_ORIGINS;if(d&&c.push(...d.split(",")),c.filter(a=>!a).length)throw new G.BetterAuthError("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return c}(b),isTrustedOrigin:(a,b)=>t.trustedOrigins.some(c=>((a,b,c)=>{if(a.startsWith("/"))return!!c?.allowRelativePaths&&a.startsWith("/")&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(a);if(b.includes("*")){if(b.includes("://"))return by(b)((0,cb.r)(a)||a);let c=(0,cb.n)(a);return!!c&&by(b)(c)}let d=(0,cb.i)(a);return"http:"!==d&&"https:"!==d&&d?a.startsWith(b):b===(0,cb.r)(a)})(a,c,b)),baseURL:k||"",sessionConfig:{updateAge:b.session?.updateAge!==void 0?b.session.updateAge:86400,expiresIn:b.session?.expiresIn||604800,freshAge:b.session?.freshAge===void 0?86400:b.session.freshAge,cookieRefreshCache:(f=b.session?.cookieCache?.refreshCache,g=b.session?.cookieCache?.maxAge||300,!1!==f&&void 0!==f&&(!0===f?{enabled:!0,updateAge:Math.floor(.2*g)}:{enabled:!0,updateAge:void 0!==f.updateAge?f.updateAge:Math.floor(.2*g)}))},secret:l,rateLimit:{...b.rateLimit,enabled:b.rateLimit?.enabled??aw.isProduction,window:b.rateLimit?.window||10,max:b.rateLimit?.max||100,storage:b.rateLimit?.storage||(b.secondaryStorage?"secondary-storage":"memory")},authCookies:n,logger:j,generateId:r,session:null,secondaryStorage:b.secondaryStorage,password:{hash:b.emailAndPassword?.password?.hash||_.i,verify:b.emailAndPassword?.password?.verify||_.a,config:{minPasswordLength:b.emailAndPassword?.minPasswordLength||8,maxPasswordLength:b.emailAndPassword?.maxPasswordLength||128},checkPassword:cc},setNewSession(a){this.newSession=a},newSession:null,adapter:a,internalAdapter:T(a,{options:b,logger:j,hooks:b.databaseHooks?[b.databaseHooks]:[],generateId:r}),createAuthCookie:(0,ah.t)(b),async runMigrations(){throw new G.BetterAuthError("runMigrations will be set by the specific init implementation")},publishTelemetry:s,skipCSRFCheck:!!b.advanced?.disableCSRFCheck,skipOriginCheck:b.advanced?.disableOriginCheck!==void 0?b.advanced.disableOriginCheck:!!(0,p.p)()},u=cG(t);return cF(u)?{context:e}=await u:{context:e}=u,e}let cI=(a,b)=>{let c=b(a),{api:d}=b9(c,a);return{handler:async b=>{let d=await c,e=d.options.basePath||"/api/auth";if(!d.options.baseURL){let a=(0,cb.t)(void 0,e,b,void 0,d.options.advanced?.trustedProxyHeaders);if(a)d.baseURL=a,d.options.baseURL=(0,cb.r)(d.baseURL)||void 0;else throw new G.BetterAuthError("Could not get base URL from request. Please provide a valid base URL.")}d.trustedOrigins=[...a.trustedOrigins?Array.isArray(a.trustedOrigins)?a.trustedOrigins:await a.trustedOrigins(b):[],d.options.baseURL];let{handler:f}=ca(d,a);return(0,s.r)(d.adapter,()=>f(b))},api:d,options:a,$context:c,$ERROR_CODES:{...a.plugins?.reduce((a,b)=>b.$ERROR_CODES?{...a,...b.$ERROR_CODES}:a,{}),...ai.n}}};a.s(["n",()=>cH,"t",()=>cI],35239);let cJ=async a=>{let b=await O(a),c=await cH(b,a,a=>(0,m.n)(a)||"unknown");return c.runMigrations=async function(){if(!a.database||"updateMany"in a.database)throw new G.BetterAuthError("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:b}=await $(a);await b()},c},cK=a=>cI(a,cJ);a.s(["t",()=>cK],90332)},59832,a=>{"use strict";a.i(63569),a.i(16044),a.i(73236),a.i(88537),a.i(38155),a.i(57201),a.i(72377),a.i(54900),a.i(38889),a.i(9095),a.i(32783),a.i(94813),a.i(35239),a.i(42082),a.i(90332),a.i(76472),a.i(24651),a.i(7043),a.i(21190),a.i(18129),a.i(91511),a.i(44984),a.i(12793),a.s([],59832)},78528,a=>{"use strict";var b=a.i(90332);a.s(["betterAuth",()=>b.t])},39416,a=>{"use strict";a.i(91511);var b=a.i(58),c=a.i(80479);let d=(a,d)=>{let e=null,f=a=>({getFieldName:c,getModelName:e,getFieldAttributes:f,getDefaultModelName:g,schema:h})=>{let i=(a,b,d)=>{if(!a&&!d)return;let f={};if(a)for(let d of a)f[c({model:b,field:d})]=!0;if(d){if(!a){let a=h[g(b)]?.fields||{};for(let d of(a.id={type:"string"},Object.keys(a)))f[c({model:b,field:d})]=!0}for(let[a,c]of Object.entries(d)){let d=j(b,e(a),h);"one-to-one"===c.relation?f[d]=!0:f[d]={take:c.limit}}}return f},j=(a,b,c)=>{try{let f=g(a),h=g(b),i=e(b).toLowerCase(),j=Object.entries(c[h]?.fields||{}).filter(([a,b])=>b.references&&g(b.references.model)===f);if(j.length>0){let[a,b]=j[0];return b?.unique===!0||!0===d.usePlural?i:`${i}s`}if((j=Object.entries(c[f]?.fields||{}).filter(([a,b])=>b.references&&g(b.references.model)===h)).length>0)return i}catch{}return`${e(b).toLowerCase()}s`};function k(a){switch(a){case"starts_with":return"startsWith";case"ends_with":return"endsWith";case"ne":return"not";case"not_in":return"notIn";default:return a}}let l=(a,b)=>{if(!b||!b.length)return{};let d=b=>{let d=c({model:a,field:b.field});if("ne"===b.operator&&null===b.value)return{};if(("in"===b.operator||"not_in"===b.operator)&&Array.isArray(b.value)){let a=b.value.filter(a=>null!=a);if(0===a.length)if("in"===b.operator)return{AND:[{[d]:{equals:"__never__"}},{[d]:{not:"__never__"}}]};else return{};return{[d]:{[k(b.operator)]:a}}}return"eq"!==b.operator&&b.operator?{[d]:{[k(b.operator)]:b.value}}:{[d]:b.value}};if(1===b.length){let a=b[0];if(!a)return;return d(a)}let e=b.filter(a=>"AND"===a.connector||!a.connector),f=b.filter(a=>"OR"===a.connector),g=e.map(a=>d(a)),h=f.map(a=>d(a));return{...g.length?{AND:g}:{},...h.length?{OR:h}:{}}};return{async create({model:c,data:d,select:e}){if(!a[c])throw new b.BetterAuthError(`Model ${c} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[c].create({data:d,select:i(e,c)})},async findOne({model:c,where:d,select:f,join:g}){let k=l(c,d);if(!a[c])throw new b.BetterAuthError(`Model ${c} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let m=new Map;for(let a of Object.keys(g??{})){let b=j(c,a,h);m.set(b,e(a))}let n=i(f,c,g),o=await a[c].findFirst({where:k,select:n});if(g&&o)for(let[a,b]of m.entries())a!==b&&a in o&&(o[b]=o[a],delete o[a]);return o},async findMany({model:d,where:f,limit:g,offset:k,sortBy:m,join:n}){let o=l(d,f);if(!a[d])throw new b.BetterAuthError(`Model ${d} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let p=new Map;if(n)for(let[a,b]of Object.entries(n)){let b=j(d,a,h);p.set(b,e(a))}let q=i(void 0,d,n),r=await a[d].findMany({where:o,take:g||100,skip:k||0,...m?.field?{orderBy:{[c({model:d,field:m.field})]:"desc"===m.direction?"desc":"asc"}}:{},select:q});if(n&&Array.isArray(r))for(let a of r)for(let[b,c]of p.entries())b!==c&&b in a&&(a[c]=a[b],delete a[b]);return r},async count({model:c,where:d}){let e=l(c,d);if(!a[c])throw new b.BetterAuthError(`Model ${c} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[c].count({where:e})},async update({model:c,where:d,update:e}){if(!a[c])throw new b.BetterAuthError(`Model ${c} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let f=l(c,d);return await a[c].update({where:f,data:e})},async updateMany({model:c,where:d,update:e}){if(!a[c])throw new b.BetterAuthError(`Model ${c} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let f=l(c,d),g=await a[c].updateMany({where:f,data:e});return g?g.count:0},async delete({model:c,where:d}){if(!a[c])throw new b.BetterAuthError(`Model ${c} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let e=l(c,d);try{await a[c].delete({where:e})}catch(a){if(a?.meta?.cause==="Record to delete does not exist.")return;console.log(a)}},async deleteMany({model:b,where:c}){let d=l(b,c),e=await a[b].deleteMany({where:d});return e?e.count:0},options:d}},g=null;g={config:{adapterId:"prisma",adapterName:"Prisma Adapter",usePlural:d.usePlural??!1,debugLogs:d.debugLogs??!1,supportsUUIDs:"postgresql"===d.provider,supportsArrays:"postgresql"===d.provider||"mongodb"===d.provider,transaction:!!d.transaction&&(b=>a.$transaction(a=>b((0,c.createAdapterFactory)({config:g.config,adapter:f(a)})(e))))},adapter:f(a)};let h=(0,c.createAdapterFactory)(g);return a=>(e=a,h(a))};a.s(["prismaAdapter",()=>d])},86709,a=>a.a(async(b,c)=>{try{var d=a.i(4733),e=b([d]);[d]=e.then?(await e)():e;let g={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client"},output:{value:"/Users/orshih/edu/lib/generated/prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"darwin-arm64",native:!0}],previewFeatures:[],sourceFilePath:"/Users/orshih/edu/prisma/schema.prisma",isCustomOutput:!0},relativePath:"../../../prisma",clientVersion:"6.19.0",engineVersion:"2ba551f319ab1df4bc874a89965d8b3641056773",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\n\ngenerator client {\n  provider = "prisma-client"\n  output   = "../lib/generated/prisma"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id            String    @id\n  name          String\n  email         String\n  emailVerified Boolean   @default(false)\n  image         String?\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n  sessions      Session[]\n  accounts      Account[]\n  todos         Todo[]\n\n  @@unique([email])\n  @@map("user")\n}\n\nmodel Session {\n  id        String   @id\n  expiresAt DateTime\n  token     String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  ipAddress String?\n  userAgent String?\n  userId    String\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([token])\n  @@index([userId])\n  @@map("session")\n}\n\nmodel Account {\n  id                    String    @id\n  accountId             String\n  providerId            String\n  userId                String\n  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  accessToken           String?\n  refreshToken          String?\n  idToken               String?\n  accessTokenExpiresAt  DateTime?\n  refreshTokenExpiresAt DateTime?\n  scope                 String?\n  password              String?\n  createdAt             DateTime  @default(now())\n  updatedAt             DateTime  @updatedAt\n\n  @@index([userId])\n  @@map("account")\n}\n\nmodel Verification {\n  id         String   @id\n  identifier String\n  value      String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  @@index([identifier])\n  @@map("verification")\n}\n\nmodel Todo {\n  id        String   @id @default(uuid())\n  title     String\n  done      Boolean  @default(false)\n  userId    String\n  createdBy User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([userId])\n  @@map("todo")\n}\n',inlineSchemaHash:"0e3bc89033d8c35ef09b59a254374fe208b63c3919e43f9f0c12115a375542a2",copyEngine:!0,runtimeDataModel:{models:{},enums:{},types:{}},dirname:""};function f(a){return g.dirname=a,d.getPrismaClient(g)}g.runtimeDataModel=JSON.parse('{"models":{"User":{"dbName":"user","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"image","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Session","nativeType":null,"relationName":"SessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"accounts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Account","nativeType":null,"relationName":"AccountToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"todos","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Todo","nativeType":null,"relationName":"TodoToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["email"]],"uniqueIndexes":[{"name":null,"fields":["email"]}],"isGenerated":false},"Session":{"dbName":"session","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SessionToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["token"]],"uniqueIndexes":[{"name":null,"fields":["token"]}],"isGenerated":false},"Account":{"dbName":"account","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accountId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"providerId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AccountToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"accessToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"idToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accessTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"scope","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Verification":{"dbName":"verification","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"identifier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"value","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Todo":{"dbName":"todo","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"done","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdBy","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"TodoToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}'),g.engineWasm=void 0,g.compilerWasm=void 0,a.s(["getPrismaClientClass",()=>f]),c()}catch(a){c(a)}},!1),14736,a=>a.a(async(b,c)=>{try{var d=a.i(4733),e=b([d]);[d]=e.then?(await e)():e;let f=d.PrismaClientKnownRequestError,g=d.PrismaClientUnknownRequestError,h=d.PrismaClientRustPanicError,i=d.PrismaClientInitializationError,j=d.PrismaClientValidationError,k=d.sqltag,l=d.empty,m=d.join,n=d.raw,o=d.Sql,p=d.Decimal,q=d.Extensions.getExtensionContext,r={DbNull:d.objectEnumValues.classes.DbNull,JsonNull:d.objectEnumValues.classes.JsonNull,AnyNull:d.objectEnumValues.classes.AnyNull},s=d.objectEnumValues.instances.DbNull,t=d.objectEnumValues.instances.JsonNull,u=d.objectEnumValues.instances.AnyNull,v=d.makeStrictEnum({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),w=d.Extensions.defineExtension;a.s(["AccountScalarFieldEnum",0,{id:"id",accountId:"accountId",providerId:"providerId",userId:"userId",accessToken:"accessToken",refreshToken:"refreshToken",idToken:"idToken",accessTokenExpiresAt:"accessTokenExpiresAt",refreshTokenExpiresAt:"refreshTokenExpiresAt",scope:"scope",password:"password",createdAt:"createdAt",updatedAt:"updatedAt"},"AnyNull",0,u,"DbNull",0,s,"Decimal",0,p,"JsonNull",0,t,"ModelName",0,{User:"User",Session:"Session",Account:"Account",Verification:"Verification",Todo:"Todo"},"NullTypes",0,r,"NullsOrder",0,{first:"first",last:"last"},"PrismaClientInitializationError",0,i,"PrismaClientKnownRequestError",0,f,"PrismaClientRustPanicError",0,h,"PrismaClientUnknownRequestError",0,g,"PrismaClientValidationError",0,j,"QueryMode",0,{default:"default",insensitive:"insensitive"},"SessionScalarFieldEnum",0,{id:"id",expiresAt:"expiresAt",token:"token",createdAt:"createdAt",updatedAt:"updatedAt",ipAddress:"ipAddress",userAgent:"userAgent",userId:"userId"},"SortOrder",0,{asc:"asc",desc:"desc"},"Sql",0,o,"TodoScalarFieldEnum",0,{id:"id",title:"title",done:"done",userId:"userId",createdAt:"createdAt",updatedAt:"updatedAt"},"TransactionIsolationLevel",0,v,"UserScalarFieldEnum",0,{id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",createdAt:"createdAt",updatedAt:"updatedAt"},"VerificationScalarFieldEnum",0,{id:"id",identifier:"identifier",value:"value",expiresAt:"expiresAt",createdAt:"createdAt",updatedAt:"updatedAt"},"defineExtension",0,w,"empty",0,l,"getExtensionContext",0,q,"join",0,m,"prismaVersion",0,{client:"6.19.0",engine:"2ba551f319ab1df4bc874a89965d8b3641056773"},"raw",0,n,"sql",0,k]),c()}catch(a){c(a)}},!1),49288,a=>{"use strict";a.s([])},26123,a=>a.a(async(b,c)=>{try{var d=a.i(59639),e=a.i(50227),f=a.i(57764),g=a.i(86709),h=a.i(14736);a.i(49288);var i=b([g,h]);[g,h]=i.then?(await i)():i,globalThis.__dirname=e.dirname((0,f.fileURLToPath)({get url(){return`file://${a.P("lib/generated/prisma/client.ts")}`}}.url));let j=g.getPrismaClientClass("/ROOT/lib/generated/prisma");e.join("/ROOT/lib/generated/prisma","libquery_engine-darwin-arm64.dylib.node"),e.join(d.cwd(),"lib/generated/prisma/libquery_engine-darwin-arm64.dylib.node"),a.s(["PrismaClient",0,j]),c()}catch(a){c(a)}},!1),85403,a=>{"use strict";a.i(73236),a.i(38889);var b=a.i(9095);a.i(32783);var c=a.i(35378);let d=()=>({id:"next-cookies",hooks:{after:[{matcher:a=>!0,handler:(0,c.createAuthMiddleware)(async c=>{let d=c.context.responseHeaders;if((!("_flag"in c)||"router"!==c._flag)&&d instanceof Headers){let c,e=d?.get("set-cookie");if(!e)return;let f=(0,b.l)(e),{cookies:g}=await a.A(23804);try{c=await g()}catch(a){if(a instanceof Error&&a.message.startsWith("`cookies` was called outside a request scope."))return;throw a}f.forEach((a,b)=>{if(!b)return;let d={sameSite:a.samesite,secure:a.secure,maxAge:a["max-age"],httpOnly:a.httponly,domain:a.domain,path:a.path};try{c.set(b,decodeURIComponent(a.value),d)}catch(a){}});return}})}]}});a.s(["nextCookies",()=>d])},9223,a=>a.a(async(b,c)=>{try{a.i(59832);var d=a.i(78528),e=a.i(39416),f=a.i(26123),g=a.i(85403),h=b([f]);[f]=h.then?(await h)():h;let i=new f.PrismaClient,j=(0,d.betterAuth)({database:(0,e.prismaAdapter)(i,{provider:"postgresql"}),emailAndPassword:{enabled:!0},socialProviders:{google:{clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET},github:{clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET}},plugins:[(0,g.nextCookies)()]});a.s(["auth",0,j]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_922d4f8e._.js.map