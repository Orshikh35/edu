module.exports=[71878,96101,27438,86618,67021,91812,21131,36608,73911,22824,13609,4623,90881,86146,40809,68382,57032,13928,73237,75412,43041,69696,29970,66203,1643,85492,97294,68195,49605,26399,4629,52060,20838,98321,48389,34652,88267,83288,65564,15546,78074,74070,73642,6115,46205,25374,92205,68146,14003,91976,80440,80477,87420,15017,67304,22104,24978,79113,52637,62061,7159,33145,82811,62429,67662,28343,64328,51047,15874,48804,7855,31428,e=>{"use strict";let t;function r(){let e="undefined"!=typeof globalThis&&globalThis.crypto;if(e&&"object"==typeof e.subtle&&null!=e.subtle)return e.subtle;throw Error("crypto.subtle must be defined")}e.s(["getWebcryptoSubtle",()=>r],96101);let i=((t=function(){}).prototype=Object.create(null),Object.freeze(t.prototype),t);function n(){return{root:{key:""},static:new i}}function a(e){let[t,...r]=e.split("/");return""===r[r.length-1]?r.slice(0,-1):r}function o(e,t){let r=new i;for(let[i,n]of t){let t=i<0?e.slice(-1*i).join("/"):e[i];if("string"==typeof n)r[n]=t;else{let e=t.match(n);if(e)for(let t in e.groups)r[t]=e.groups[t]}}return r}function s(e,t="",r,n){t=t.toUpperCase(),47!==r.charCodeAt(0)&&(r=`/${r}`);let o=a(r),l=e.root,u=0,c=[],d=[];for(let e=0;e<o.length;e++){let t=o[e];if(t.startsWith("**")){l.wildcard||(l.wildcard={key:"**"}),l=l.wildcard,c.push([-e,t.split(":")[1]||"_",2===t.length]);break}if("*"===t||t.includes(":")){if(l.param||(l.param={key:"*"}),l=l.param,"*"===t)c.push([e,`_${u++}`,!0]);else if(t.includes(":",1)){let r=function(e){let t=e.replace(/:(\w+)/g,(e,t)=>`(?<${t}>[^/]+)`).replace(/\./g,"\\.");return RegExp(`^${t}$`)}(t);d[e]=r,l.hasRegexParam=!0,c.push([e,r,!1])}else c.push([e,t.slice(1),!1]);continue}let r=l.static?.[t];if(r)l=r;else{let e={key:t};l.static||(l.static=new i),l.static[t]=e,l=e}}let p=c.length>0;l.methods||(l.methods=new i),l.methods[t]??=[],l.methods[t].push({data:n||null,paramsRegexp:d,paramsMap:p?c:void 0}),p||(e.static[r]=l)}e.s(["ZodAny",()=>sr,"ZodArray",()=>sp,"ZodBase64",()=>oR,"ZodBase64URL",()=>oP,"ZodBigInt",()=>o1,"ZodBigIntFormat",()=>o4,"ZodBoolean",()=>oY,"ZodCIDRv4",()=>oS,"ZodCIDRv6",()=>oT,"ZodCUID",()=>op,"ZodCUID2",()=>om,"ZodCatch",()=>s6,"ZodCodec",()=>s9,"ZodCustom",()=>lc,"ZodCustomStringFormat",()=>oL,"ZodDate",()=>sc,"ZodDefault",()=>sW,"ZodDiscriminatedUnion",()=>sk,"ZodE164",()=>oN,"ZodEmail",()=>a3,"ZodEmoji",()=>ol,"ZodEnum",()=>sP,"ZodFile",()=>sz,"ZodFunction",()=>ll,"ZodGUID",()=>a9,"ZodIPv4",()=>o_,"ZodIPv6",()=>oI,"ZodIntersection",()=>sx,"ZodJWT",()=>oZ,"ZodKSUID",()=>ow,"ZodLazy",()=>ln,"ZodLiteral",()=>sC,"ZodMAC",()=>o$,"ZodMap",()=>sT,"ZodNaN",()=>s2,"ZodNanoID",()=>oc,"ZodNever",()=>so,"ZodNonOptional",()=>sX,"ZodNull",()=>se,"ZodNullable",()=>sK,"ZodNumber",()=>oK,"ZodNumberFormat",()=>oF,"ZodObject",()=>sh,"ZodOptional",()=>sV,"ZodPipe",()=>s3,"ZodPrefault",()=>sG,"ZodPromise",()=>lo,"ZodReadonly",()=>le,"ZodRecord",()=>sE,"ZodSet",()=>sR,"ZodString",()=>a4,"ZodStringFormat",()=>a8,"ZodSuccess",()=>s0,"ZodSymbol",()=>o3,"ZodTemplateLiteral",()=>lr,"ZodTransform",()=>sH,"ZodTuple",()=>sA,"ZodType",()=>a1,"ZodULID",()=>og,"ZodURL",()=>oa,"ZodUUID",()=>oe,"ZodUndefined",()=>o9,"ZodUnion",()=>sb,"ZodUnknown",()=>sn,"ZodVoid",()=>sl,"ZodXID",()=>ov,"_ZodString",()=>a6,"_default",()=>sJ,"_function",()=>lu,"any",()=>si,"array",()=>sf,"base64",()=>oD,"base64url",()=>oj,"bigint",()=>o6,"boolean",()=>o0,"catch",()=>s4,"check",()=>ld,"cidrv4",()=>oU,"cidrv6",()=>oO,"codec",()=>s7,"cuid",()=>of,"cuid2",()=>oh,"custom",()=>lp,"date",()=>sd,"describe",()=>lh,"discriminatedUnion",()=>s_,"e164",()=>oC,"email",()=>a5,"emoji",()=>ou,"enum",()=>sj,"file",()=>sL,"float32",()=>oJ,"float64",()=>oG,"function",()=>lu,"guid",()=>a7,"hash",()=>oM,"hex",()=>oV,"hostname",()=>oq,"httpUrl",()=>os,"instanceof",()=>ly,"int",()=>oW,"int32",()=>oQ,"int64",()=>o2,"intersection",()=>s$,"ipv4",()=>ox,"ipv6",()=>oE,"json",()=>lb,"jwt",()=>oz,"keyof",()=>sm,"ksuid",()=>ok,"lazy",()=>la,"literal",()=>sZ,"looseObject",()=>sv,"mac",()=>oA,"map",()=>sO,"meta",()=>lg,"nan",()=>s8,"nanoid",()=>od,"nativeEnum",()=>sN,"never",()=>ss,"nonoptional",()=>sY,"null",()=>st,"nullable",()=>sB,"nullish",()=>sF,"number",()=>oB,"object",()=>sg,"optional",()=>sM,"partialRecord",()=>sU,"pipe",()=>s5,"prefault",()=>sQ,"preprocess",()=>lw,"promise",()=>ls,"readonly",()=>lt,"record",()=>sS,"refine",()=>lf,"set",()=>sD,"strictObject",()=>sy,"string",()=>a2,"stringFormat",()=>oH,"stringbool",()=>lv,"success",()=>s1,"superRefine",()=>lm,"symbol",()=>o5,"templateLiteral",()=>li,"transform",()=>sq,"tuple",()=>sI,"uint32",()=>oX,"uint64",()=>o8,"ulid",()=>oy,"undefined",()=>o7,"union",()=>sw,"unknown",()=>sa,"url",()=>oo,"uuid",()=>ot,"uuidv4",()=>or,"uuidv6",()=>oi,"uuidv7",()=>on,"void",()=>su,"xid",()=>ob],7855);let l=Object.freeze({status:"aborted"});function u(e,t,r){function i(r,i){if(r._zod||Object.defineProperty(r,"_zod",{value:{def:i,constr:o,traits:new Set},enumerable:!1}),r._zod.traits.has(e))return;r._zod.traits.add(e),t(r,i);let n=o.prototype,a=Object.keys(n);for(let e=0;e<a.length;e++){let t=a[e];t in r||(r[t]=n[t].bind(r))}}let n=r?.Parent??Object;class a extends n{}function o(e){var t;let n=r?.Parent?new a:this;for(let r of(i(n,e),(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred))r();return n}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}let c=Symbol("zod_brand");class d extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class p extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let f={};function m(e){return e&&Object.assign(f,e),f}function h(e){return e}function g(e){return e}function y(e){}function v(e){throw Error()}function b(e){}function w(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function k(e,t="|"){return e.map(e=>G(e)).join(t)}function _(e,t){return"bigint"==typeof t?t.toString():t}function x(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $(e){return null==e}function A(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function I(e,t){let r=(e.toString().split(".")[1]||"").length,i=t.toString(),n=(i.split(".")[1]||"").length;if(0===n&&/\d?e-\d?/.test(i)){let e=i.match(/\d?e-(\d?)/);e?.[1]&&(n=Number.parseInt(e[1]))}let a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}e.s(["$ZodAsyncError",()=>d,"$ZodEncodeError",()=>p,"$brand",0,c,"$constructor",()=>u,"NEVER",0,l,"config",()=>m,"globalConfig",0,f],27438);let E=Symbol("evaluating");function S(e,t,r){let i;Object.defineProperty(e,t,{get(){if(i!==E)return void 0===i&&(i=E,i=r()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function U(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function T(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function O(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function R(e){return O(e._zod.def)}function D(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function P(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r})}function j(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<e;i++)r+=t[Math.floor(Math.random()*t.length)];return r}function N(e){return JSON.stringify(e)}function C(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let Z="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function z(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let L=x(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function H(e){if(!1===z(e))return!1;let t=e.constructor;if(void 0===t||"function"!=typeof t)return!0;let r=t.prototype;return!1!==z(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function q(e){return H(e)?{...e}:Array.isArray(e)?[...e]:e}function V(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let M=new Set(["string","number","symbol"]),K=new Set(["string","number","bigint","boolean","symbol","undefined"]);function B(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function F(e,t,r){let i=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(i._zod.parent=e),i}function W(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function J(e){let t;return new Proxy({},{get:(r,i,n)=>(t??(t=e()),Reflect.get(t,i,n)),set:(r,i,n,a)=>(t??(t=e()),Reflect.set(t,i,n,a)),has:(r,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(r,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(r,i,n)=>(t??(t=e()),Reflect.defineProperty(t,i,n))})}function G(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function Q(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let X={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Y={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ee(e,t){let r=e._zod.def,i=O(e._zod.def,{get shape(){let e={};for(let i in t){if(!(i in r.shape))throw Error(`Unrecognized key: "${i}"`);t[i]&&(e[i]=r.shape[i])}return T(this,"shape",e),e},checks:[]});return F(e,i)}function et(e,t){let r=e._zod.def,i=O(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete i[e]}return T(this,"shape",i),i},checks:[]});return F(e,i)}function er(e,t){if(!H(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=O(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return T(this,"shape",r),r},checks:[]});return F(e,i)}function ei(e,t){if(!H(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return T(this,"shape",r),r},checks:e._zod.def.checks};return F(e,r)}function en(e,t){let r=O(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return T(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return F(e,r)}function ea(e,t,r){let i=O(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)n[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return T(this,"shape",n),n},checks:[]});return F(t,i)}function eo(e,t,r){let i=O(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)n[t]=new e({type:"nonoptional",innerType:i[t]});return T(this,"shape",n),n},checks:[]});return F(t,i)}function es(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function el(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function eu(e){return"string"==typeof e?e:e?.message}function ec(e,t,r){let i={...e,path:e.path??[]};return e.message||(i.message=eu(e.inst?._zod.def?.error?.(e))??eu(t?.error?.(e))??eu(r.customError?.(e))??eu(r.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function ed(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function ep(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function ef(...e){let[t,r,i]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:i}:{...t}}function em(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function eh(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function eg(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function ey(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return eh(t+r)}function ev(e){return eg(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function eb(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function ew(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class ek{constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,Y,"Class",()=>ek,"NUMBER_FORMAT_RANGES",0,X,"aborted",()=>es,"allowsEval",0,L,"assert",()=>b,"assertEqual",()=>h,"assertIs",()=>y,"assertNever",()=>v,"assertNotEqual",()=>g,"assignProp",()=>T,"base64ToUint8Array",()=>eh,"base64urlToUint8Array",()=>ey,"cached",()=>x,"captureStackTrace",0,Z,"cleanEnum",()=>em,"cleanRegex",()=>A,"clone",()=>F,"cloneDef",()=>R,"createTransparentProxy",()=>J,"defineLazy",()=>S,"esc",()=>N,"escapeRegex",()=>B,"extend",()=>er,"finalizeIssue",()=>ec,"floatSafeRemainder",()=>I,"getElementAtPath",()=>D,"getEnumValues",()=>w,"getLengthableOrigin",()=>ep,"getParsedType",0,e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},"getSizableOrigin",()=>ed,"hexToUint8Array",()=>eb,"isObject",()=>z,"isPlainObject",()=>H,"issue",()=>ef,"joinValues",()=>k,"jsonStringifyReplacer",()=>_,"merge",()=>en,"mergeDefs",()=>O,"normalizeParams",()=>W,"nullish",()=>$,"numKeys",()=>V,"objectClone",()=>U,"omit",()=>et,"optionalKeys",()=>Q,"partial",()=>ea,"pick",()=>ee,"prefixIssues",()=>el,"primitiveTypes",0,K,"promiseAllObject",()=>P,"propertyKeyTypes",0,M,"randomString",()=>j,"required",()=>eo,"safeExtend",()=>ei,"shallowClone",()=>q,"slugify",()=>C,"stringifyPrimitive",()=>G,"uint8ArrayToBase64",()=>eg,"uint8ArrayToBase64url",()=>ev,"uint8ArrayToHex",()=>ew,"unwrapMessage",()=>eu],86618);let e_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,_,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ex=u("$ZodError",e_),e$=u("$ZodError",e_,{Parent:Error});function eA(e,t=e=>e.message){let r={},i=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}}function eI(e,t=e=>e.message){let r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code&&n.errors.length)n.errors.map(e=>i({issues:e}));else if("invalid_key"===n.code)i({issues:n.issues});else if("invalid_element"===n.code)i({issues:n.issues});else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}function eE(e,t=e=>e.message){let r={errors:[]},i=(e,n=[])=>{var a,o;for(let s of e.issues)if("invalid_union"===s.code&&s.errors.length)s.errors.map(e=>i({issues:e},s.path));else if("invalid_key"===s.code)i({issues:s.issues},s.path);else if("invalid_element"===s.code)i({issues:s.issues},s.path);else{let e=[...n,...s.path];if(0===e.length){r.errors.push(t(s));continue}let i=r,l=0;for(;l<e.length;){let r=e[l],n=l===e.length-1;"string"==typeof r?(i.properties??(i.properties={}),(a=i.properties)[r]??(a[r]={errors:[]}),i=i.properties[r]):(i.items??(i.items=[]),(o=i.items)[r]??(o[r]={errors:[]}),i=i.items[r]),n&&i.errors.push(t(s)),l++}}};return i(e),r}function eS(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function eU(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(`✖ ${r.message}`),r.path?.length&&t.push(`  → at ${eS(r.path)}`);return t.join("\n")}e.s(["$ZodError",0,ex,"$ZodRealError",0,e$,"flattenError",()=>eA,"formatError",()=>eI,"prettifyError",()=>eU,"toDotPath",()=>eS,"treeifyError",()=>eE],67021);let eT=e=>(t,r,i,n)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new d;if(o.issues.length){let t=new(n?.Err??e)(o.issues.map(e=>ec(e,a,m())));throw Z(t,n?.callee),t}return o.value},eO=eT(e$),eR=e=>async(t,r,i,n)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let t=new(n?.Err??e)(o.issues.map(e=>ec(e,a,m())));throw Z(t,n?.callee),t}return o.value},eD=eR(e$),eP=e=>(t,r,i)=>{let n=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new d;return a.issues.length?{success:!1,error:new(e??ex)(a.issues.map(e=>ec(e,n,m())))}:{success:!0,data:a.value}},ej=eP(e$),eN=e=>async(t,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>ec(e,n,m())))}:{success:!0,data:a.value}},eC=eN(e$),eZ=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eT(e)(t,r,n)},ez=eZ(e$),eL=e=>(t,r,i)=>eT(e)(t,r,i),eH=eL(e$),eq=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eR(e)(t,r,n)},eV=eq(e$),eM=e=>async(t,r,i)=>eR(e)(t,r,i),eK=eM(e$),eB=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eP(e)(t,r,n)},eF=eB(e$),eW=e=>(t,r,i)=>eP(e)(t,r,i),eJ=eW(e$),eG=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eN(e)(t,r,n)},eQ=eG(e$),eX=e=>async(t,r,i)=>eN(e)(t,r,i),eY=eX(e$);e.s(["_decode",0,eL,"_decodeAsync",0,eM,"_encode",0,eZ,"_encodeAsync",0,eq,"_parse",0,eT,"_parseAsync",0,eR,"_safeDecode",0,eW,"_safeDecodeAsync",0,eX,"_safeEncode",0,eB,"_safeEncodeAsync",0,eG,"_safeParse",0,eP,"_safeParseAsync",0,eN,"decode",0,eH,"decodeAsync",0,eK,"encode",0,ez,"encodeAsync",0,eV,"parse",0,eO,"parseAsync",0,eD,"safeDecode",0,eJ,"safeDecodeAsync",0,eY,"safeEncode",0,eF,"safeEncodeAsync",0,eQ,"safeParse",0,ej,"safeParseAsync",0,eC],91812);let e0=/^[cC][^\s-]{8,}$/,e1=/^[0-9a-z]+$/,e6=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,e4=/^[0-9a-vA-V]{20}$/,e2=/^[A-Za-z0-9]{27}$/,e8=/^[a-zA-Z0-9_-]{21}$/,e3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,e5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,e9=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,e7=e9(4),te=e9(6),tt=e9(7),tr=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ti=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function tn(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let ta=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,to=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ts=e=>{let t=B(e??":");return RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},tl=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tu=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tc=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,td=/^[A-Za-z0-9_-]*$/,tp=/^\+(?:[0-9]){6,14}[0-9]$/,tf="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",tm=RegExp(`^${tf}$`);function th(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tg(e){return RegExp(`^${th(e)}$`)}function ty(e){let t=th({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${t}(?:${r.join("|")})`;return RegExp(`^${tf}T(?:${i})$`)}let tv=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},tb=/^-?\d+n?$/,tw=/^-?\d+$/,tk=/^-?\d+(?:\.\d+)?/,t_=/^(?:true|false)$/i,tx=/^null$/i,t$=/^undefined$/i,tA=/^[^A-Z]*$/,tI=/^[^a-z]*$/;function tE(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function tS(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let tU=tE(22,"=="),tT=tS(22),tO=tE(27,"="),tR=tS(27),tD=tE(43,"="),tP=tS(43),tj=tE(64,""),tN=tS(64),tC=tE(86,"=="),tZ=tS(86);e.s(["base64",0,tc,"base64url",0,td,"bigint",0,tb,"boolean",0,t_,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,tl,"cidrv6",0,tu,"cuid",0,e0,"cuid2",0,e1,"date",0,tm,"datetime",()=>ty,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,e3,"e164",0,tp,"email",0,tr,"emoji",()=>tn,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,e5,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,ti,"integer",0,tw,"ipv4",0,ta,"ipv6",0,to,"ksuid",0,e2,"lowercase",0,tA,"mac",0,ts,"md5_base64",0,tU,"md5_base64url",0,tT,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,e8,"null",()=>tx,"number",0,tk,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,tO,"sha1_base64url",0,tR,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,tD,"sha256_base64url",0,tP,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,tj,"sha384_base64url",0,tN,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,tC,"sha512_base64url",0,tZ,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,tv,"time",()=>tg,"ulid",0,e6,"undefined",()=>t$,"unicodeEmail",0,ti,"uppercase",0,tI,"uuid",0,e9,"uuid4",0,e7,"uuid6",0,te,"uuid7",0,tt,"xid",0,e4],21131);let tz=u("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),tL={number:"number",bigint:"bigint",object:"date"},tH=u("$ZodCheckLessThan",(e,t)=>{tz.init(e,t);let r=tL[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tq=u("$ZodCheckGreaterThan",(e,t)=>{tz.init(e,t);let r=tL[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tV=u("$ZodCheckMultipleOf",(e,t)=>{tz.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===I(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),tM=u("$ZodCheckNumberFormat",(e,t)=>{tz.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),i=r?"int":"number",[n,a]=X[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=a,r&&(i.pattern=tw)}),e._zod.check=o=>{let s=o.value;if(r){if(!Number.isInteger(s))return void o.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}s<n&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inst:e})}}),tK=u("$ZodCheckBigIntFormat",(e,t)=>{tz.init(e,t);let[r,i]=Y[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=r,n.maximum=i}),e._zod.check=n=>{let a=n.value;a<r&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>i&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inst:e})}}),tB=u("$ZodCheckMaxSize",(e,t)=>{var r;tz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!$(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;i.size<=t.maximum||r.issues.push({origin:ed(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tF=u("$ZodCheckMinSize",(e,t)=>{var r;tz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!$(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;i.size>=t.minimum||r.issues.push({origin:ed(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tW=u("$ZodCheckSizeEquals",(e,t)=>{var r;tz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!$(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let i=r.value,n=i.size;if(n===t.size)return;let a=n>t.size;r.issues.push({origin:ed(i),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),tJ=u("$ZodCheckMaxLength",(e,t)=>{var r;tz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!$(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;if(i.length<=t.maximum)return;let n=ep(i);r.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tG=u("$ZodCheckMinLength",(e,t)=>{var r;tz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!$(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;if(i.length>=t.minimum)return;let n=ep(i);r.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tQ=u("$ZodCheckLengthEquals",(e,t)=>{var r;tz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!$(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let i=r.value,n=i.length;if(n===t.length)return;let a=ep(i),o=n>t.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),tX=u("$ZodCheckStringFormat",(e,t)=>{var r,i;tz.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),tY=u("$ZodCheckRegex",(e,t)=>{tX.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),t0=u("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tA),tX.init(e,t)}),t1=u("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=tI),tX.init(e,t)}),t6=u("$ZodCheckIncludes",(e,t)=>{tz.init(e,t);let r=B(t.includes),i=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=i,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),t4=u("$ZodCheckStartsWith",(e,t)=>{tz.init(e,t);let r=RegExp(`^${B(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),t2=u("$ZodCheckEndsWith",(e,t)=>{tz.init(e,t);let r=RegExp(`.*${B(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function t8(e,t,r){e.issues.length&&t.issues.push(...el(r,e.issues))}let t3=u("$ZodCheckProperty",(e,t)=>{tz.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>t8(r,e,t.property));t8(r,e,t.property)}}),t5=u("$ZodCheckMimeType",(e,t)=>{tz.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:t.mime,input:i.value.type,inst:e,continue:!t.abort})}}),t9=u("$ZodCheckOverwrite",(e,t)=>{tz.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,tz,"$ZodCheckBigIntFormat",0,tK,"$ZodCheckEndsWith",0,t2,"$ZodCheckGreaterThan",0,tq,"$ZodCheckIncludes",0,t6,"$ZodCheckLengthEquals",0,tQ,"$ZodCheckLessThan",0,tH,"$ZodCheckLowerCase",0,t0,"$ZodCheckMaxLength",0,tJ,"$ZodCheckMaxSize",0,tB,"$ZodCheckMimeType",0,t5,"$ZodCheckMinLength",0,tG,"$ZodCheckMinSize",0,tF,"$ZodCheckMultipleOf",0,tV,"$ZodCheckNumberFormat",0,tM,"$ZodCheckOverwrite",0,t9,"$ZodCheckProperty",0,t3,"$ZodCheckRegex",0,tY,"$ZodCheckSizeEquals",0,tW,"$ZodCheckStartsWith",0,t4,"$ZodCheckStringFormat",0,tX,"$ZodCheckUpperCase",0,t1],36608);class t7{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>t7],73911);let re={major:4,minor:1,patch:13};e.s(["version",0,re],22824);let rt=u("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=re;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let r of t._zod.onattach)r(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let i,n=es(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(n)continue;let t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&r?.async===!1)throw new d;if(i||o instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(n||(n=es(e,t)))});else{if(e.issues.length===t)continue;n||(n=es(e,t))}}return i?i.then(()=>e):e},r=(r,n,a)=>{if(es(r))return r.aborted=!0,r;let o=t(n,i,a);if(o instanceof Promise){if(!1===a.async)throw new d;return o.then(t=>e._zod.parse(t,a))}return e._zod.parse(o,a)};e._zod.run=(n,a)=>{if(a.skipChecks)return e._zod.parse(n,a);if("backward"===a.direction){let t=e._zod.parse({value:n.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,n,a)):r(t,n,a)}let o=e._zod.parse(n,a);if(o instanceof Promise){if(!1===a.async)throw new d;return o.then(e=>t(e,i,a))}return t(o,i,a)}}e["~standard"]={validate:t=>{try{let r=ej(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return eC(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),rr=u("$ZodString",(e,t)=>{rt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??tv(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ri=u("$ZodStringFormat",(e,t)=>{tX.init(e,t),rr.init(e,t)}),rn=u("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=e5),ri.init(e,t)}),ra=u("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=e9(e))}else t.pattern??(t.pattern=e9());ri.init(e,t)}),ro=u("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=tr),ri.init(e,t)}),rs=u("$ZodURL",(e,t)=>{ri.init(e,t),e._zod.check=r=>{try{let i=r.value.trim(),n=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=n.href:r.value=i;return}catch(i){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),rl=u("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=tn()),ri.init(e,t)}),ru=u("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=e8),ri.init(e,t)}),rc=u("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=e0),ri.init(e,t)}),rd=u("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=e1),ri.init(e,t)}),rp=u("$ZodULID",(e,t)=>{t.pattern??(t.pattern=e6),ri.init(e,t)}),rf=u("$ZodXID",(e,t)=>{t.pattern??(t.pattern=e4),ri.init(e,t)}),rm=u("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=e2),ri.init(e,t)}),rh=u("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ty(t)),ri.init(e,t)}),rg=u("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=tm),ri.init(e,t)}),ry=u("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=tg(t)),ri.init(e,t)}),rv=u("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=e3),ri.init(e,t)}),rb=u("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ta),ri.init(e,t),e._zod.bag.format="ipv4"}),rw=u("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=to),ri.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),rk=u("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=ts(t.delimiter)),ri.init(e,t),e._zod.bag.format="mac"}),r_=u("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=tl),ri.init(e,t)}),rx=u("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=tu),ri.init(e,t),e._zod.check=r=>{let i=r.value.split("/");try{if(2!==i.length)throw Error();let[e,t]=i;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function r$(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let rA=u("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=tc),ri.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{r$(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function rI(e){if(!td.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return r$(t.padEnd(4*Math.ceil(t.length/4),"="))}let rE=u("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=td),ri.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{rI(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),rS=u("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tp),ri.init(e,t)});function rU(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[i]=r;if(!i)return!1;let n=JSON.parse(atob(i));if("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))return!1;return!0}catch{return!1}}let rT=u("$ZodJWT",(e,t)=>{ri.init(e,t),e._zod.check=r=>{rU(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),rO=u("$ZodCustomStringFormat",(e,t)=>{ri.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),rR=u("$ZodNumber",(e,t)=>{rt.init(e,t),e._zod.pattern=e._zod.bag.pattern??tk,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let n=r.value;if("number"==typeof n&&!Number.isNaN(n)&&Number.isFinite(n))return r;let a="number"==typeof n?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...a?{received:a}:{}}),r}}),rD=u("$ZodNumberFormat",(e,t)=>{tM.init(e,t),rR.init(e,t)}),rP=u("$ZodBoolean",(e,t)=>{rt.init(e,t),e._zod.pattern=t_,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let n=r.value;return"boolean"==typeof n||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),r}}),rj=u("$ZodBigInt",(e,t)=>{rt.init(e,t),e._zod.pattern=tb,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),rN=u("$ZodBigIntFormat",(e,t)=>{tK.init(e,t),rj.init(e,t)}),rC=u("$ZodSymbol",(e,t)=>{rt.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return"symbol"==typeof i||t.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),t}}),rZ=u("$ZodUndefined",(e,t)=>{rt.init(e,t),e._zod.pattern=t$,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),t}}),rz=u("$ZodNull",(e,t)=>{rt.init(e,t),e._zod.pattern=tx,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let i=t.value;return null===i||t.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),t}}),rL=u("$ZodAny",(e,t)=>{rt.init(e,t),e._zod.parse=e=>e}),rH=u("$ZodUnknown",(e,t)=>{rt.init(e,t),e._zod.parse=e=>e}),rq=u("$ZodNever",(e,t)=>{rt.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),rV=u("$ZodVoid",(e,t)=>{rt.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),t}}),rM=u("$ZodDate",(e,t)=>{rt.init(e,t),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let n=r.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:e}),r}});function rK(e,t,r){e.issues.length&&t.issues.push(...el(r,e.issues)),t.value[r]=e.value}let rB=u("$ZodArray",(e,t)=>{rt.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let a=[];for(let e=0;e<n.length;e++){let o=n[e],s=t.element._zod.run({value:o,issues:[]},i);s instanceof Promise?a.push(s.then(t=>rK(t,r,e))):rK(s,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function rF(e,t,r,i){e.issues.length&&t.issues.push(...el(r,e.issues)),void 0===e.value?r in i&&(t.value[r]=void 0):t.value[r]=e.value}function rW(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=Q(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function rJ(e,t,r,i,n,a){let o=[],s=n.keySet,l=n.catchall._zod,u=l.def.type;for(let n in t){if(s.has(n))continue;if("never"===u){o.push(n);continue}let a=l.run({value:t[n],issues:[]},i);a instanceof Promise?e.push(a.then(e=>rF(e,r,n,t))):rF(a,r,n,t)}return(o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:a}),e.length)?Promise.all(e).then(()=>r):r}let rG=u("$ZodObject",(e,t)=>{let r;rt.init(e,t);let i=Object.getOwnPropertyDescriptor(t,"shape");if(!i?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let n=x(()=>rW(t));S(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(r[t]??(r[t]=new Set),i.values))r[t].add(e)}return r});let a=t.catchall;e._zod.parse=(t,i)=>{r??(r=n.value);let o=t.value;if(!z(o))return t.issues.push({expected:"object",code:"invalid_type",input:o,inst:e}),t;t.value={};let s=[],l=r.shape;for(let e of r.keys){let r=l[e]._zod.run({value:o[e],issues:[]},i);r instanceof Promise?s.push(r.then(r=>rF(r,t,e,o))):rF(r,t,e,o)}return a?rJ(s,o,t,i,n.value,e):s.length?Promise.all(s).then(()=>t):t}}),rQ=u("$ZodObjectJIT",(e,t)=>{let r,i;rG.init(e,t);let n=e._zod.parse,a=x(()=>rW(t)),o=!f.jitless,s=o&&L.value,l=t.catchall;e._zod.parse=(u,c)=>{i??(i=a.value);let d=u.value;return z(d)?o&&s&&c?.async===!1&&!0!==c.jitless?(r||(r=(e=>{let t=new t7(["shape","payload","ctx"]),r=a.value,i=e=>{let t=N(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let n=Object.create(null),o=0;for(let e of r.keys)n[e]=`key_${o++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=n[e],a=N(e);t.write(`const ${r} = ${i(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let s=t.compile();return(t,r)=>s(e,t,r)})(t.shape)),u=r(u,c),l)?rJ([],d,u,c,i,e):u:n(u,c):(u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u)}});function rX(e,t,r,i){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let n=e.filter(e=>!es(e));return 1===n.length?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>ec(e,i,m())))}),t)}let rY=u("$ZodUnion",(e,t)=>{rt.init(e,t),S(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),S(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),S(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),S(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>A(e.source)).join("|")})$`)}});let r=1===t.options.length,i=t.options[0]._zod.run;e._zod.parse=(n,a)=>{if(r)return i(n,a);let o=!1,s=[];for(let e of t.options){let t=e._zod.run({value:n.value,issues:[]},a);if(t instanceof Promise)s.push(t),o=!0;else{if(0===t.issues.length)return t;s.push(t)}}return o?Promise.all(s).then(t=>rX(t,n,e,a)):rX(s,n,e,a)}}),r0=u("$ZodDiscriminatedUnion",(e,t)=>{rY.init(e,t);let r=e._zod.parse;S(e._zod,"propValues",()=>{let e={};for(let r of t.options){let i=r._zod.propValues;if(!i||0===Object.keys(i).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(i))for(let i of(e[t]||(e[t]=new Set),r))e[t].add(i)}return e});let i=x(()=>{let e=t.options,r=new Map;for(let i of e){let e=i._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,i)}}return r});e._zod.parse=(n,a)=>{let o=n.value;if(!z(o))return n.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),n;let s=i.value.get(o?.[t.discriminator]);return s?s._zod.run(n,a):t.unionFallback?r(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),n)}}),r1=u("$ZodIntersection",(e,t)=>{rt.init(e,t),e._zod.parse=(e,r)=>{let i=e.value,n=t.left._zod.run({value:i,issues:[]},r),a=t.right._zod.run({value:i,issues:[]},r);return n instanceof Promise||a instanceof Promise?Promise.all([n,a]).then(([t,r])=>r6(e,t,r)):r6(e,n,a)}});function r6(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),es(e))return e;let i=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(H(t)&&H(r)){let i=Object.keys(r),n=Object.keys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};a[i]=n.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let i=[];for(let n=0;n<t.length;n++){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};i.push(a.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}let r4=u("$ZodTuple",(e,t)=>{rt.init(e,t);let r=t.items;e._zod.parse=(i,n)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];let o=[],s=[...r].reverse().findIndex(e=>"optional"!==e._zod.optin),l=-1===s?0:r.length-s;if(!t.rest){let t=a.length>r.length,n=a.length<l-1;if(t||n)return i.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),i}let u=-1;for(let e of r){if(++u>=a.length&&u>=l)continue;let t=e._zod.run({value:a[u],issues:[]},n);t instanceof Promise?o.push(t.then(e=>r2(e,i,u))):r2(t,i,u)}if(t.rest)for(let e of a.slice(r.length)){u++;let r=t.rest._zod.run({value:e,issues:[]},n);r instanceof Promise?o.push(r.then(e=>r2(e,i,u))):r2(r,i,u)}return o.length?Promise.all(o).then(()=>i):i}});function r2(e,t,r){e.issues.length&&t.issues.push(...el(r,e.issues)),t.value[r]=e.value}let r8=u("$ZodRecord",(e,t)=>{rt.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!H(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:e}),r;let a=[],o=t.keyType._zod.values;if(o){let s;r.value={};let l=new Set;for(let e of o)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){l.add("number"==typeof e?e.toString():e);let o=t.valueType._zod.run({value:n[e],issues:[]},i);o instanceof Promise?a.push(o.then(t=>{t.issues.length&&r.issues.push(...el(e,t.issues)),r.value[e]=t.value})):(o.issues.length&&r.issues.push(...el(e,o.issues)),r.value[e]=o.value)}for(let e in n)l.has(e)||(s=s??[]).push(e);s&&s.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:e,keys:s})}else for(let o of(r.value={},Reflect.ownKeys(n))){if("__proto__"===o)continue;let s=t.keyType._zod.run({value:o,issues:[]},i);if(s instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(s.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map(e=>ec(e,i,m())),input:o,path:[o],inst:e}),r.value[s.value]=s.value;continue}let l=t.valueType._zod.run({value:n[o],issues:[]},i);l instanceof Promise?a.push(l.then(e=>{e.issues.length&&r.issues.push(...el(o,e.issues)),r.value[s.value]=e.value})):(l.issues.length&&r.issues.push(...el(o,l.issues)),r.value[s.value]=l.value)}return a.length?Promise.all(a).then(()=>r):r}}),r3=u("$ZodMap",(e,t)=>{rt.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:e}),r;let a=[];for(let[o,s]of(r.value=new Map,n)){let l=t.keyType._zod.run({value:o,issues:[]},i),u=t.valueType._zod.run({value:s,issues:[]},i);l instanceof Promise||u instanceof Promise?a.push(Promise.all([l,u]).then(([t,a])=>{r5(t,a,r,o,n,e,i)})):r5(l,u,r,o,n,e,i)}return a.length?Promise.all(a).then(()=>r):r}});function r5(e,t,r,i,n,a,o){e.issues.length&&(M.has(typeof i)?r.issues.push(...el(i,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:a,issues:e.issues.map(e=>ec(e,o,m()))})),t.issues.length&&(M.has(typeof i)?r.issues.push(...el(i,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:i,issues:t.issues.map(e=>ec(e,o,m()))})),r.value.set(e.value,t.value)}let r9=u("$ZodSet",(e,t)=>{rt.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:e,expected:"set",code:"invalid_type"}),r;let a=[];for(let e of(r.value=new Set,n)){let n=t.valueType._zod.run({value:e,issues:[]},i);n instanceof Promise?a.push(n.then(e=>r7(e,r))):r7(n,r)}return a.length?Promise.all(a).then(()=>r):r}});function r7(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let ie=u("$ZodEnum",(e,t)=>{rt.init(e,t);let r=w(t.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=RegExp(`^(${r.filter(e=>M.has(typeof e)).map(e=>"string"==typeof e?B(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{let a=t.value;return i.has(a)||t.issues.push({code:"invalid_value",values:r,input:a,inst:e}),t}}),it=u("$ZodLiteral",(e,t)=>{if(rt.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?B(e):e?B(e.toString()):String(e)).join("|")})$`),e._zod.parse=(i,n)=>{let a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),i}}),ir=u("$ZodFile",(e,t)=>{rt.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return i instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),t}}),ii=u("$ZodTransform",(e,t)=>{rt.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new p(e.constructor.name);let n=t.transform(r.value,r);if(i.async)return(n instanceof Promise?n:Promise.resolve(n)).then(e=>(r.value=e,r));if(n instanceof Promise)throw new d;return r.value=n,r}});function ia(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let io=u("$ZodOptional",(e,t)=>{rt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",S(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),S(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${A(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>ia(t,e.value)):ia(i,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),is=u("$ZodNullable",(e,t)=>{rt.init(e,t),S(e._zod,"optin",()=>t.innerType._zod.optin),S(e._zod,"optout",()=>t.innerType._zod.optout),S(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${A(e.source)}|null)$`):void 0}),S(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),il=u("$ZodDefault",(e,t)=>{rt.init(e,t),e._zod.optin="optional",S(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(e=>iu(e,t)):iu(i,t)}});function iu(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let ic=u("$ZodPrefault",(e,t)=>{rt.init(e,t),e._zod.optin="optional",S(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),id=u("$ZodNonOptional",(e,t)=>{rt.init(e,t),S(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,i)=>{let n=t.innerType._zod.run(r,i);return n instanceof Promise?n.then(t=>ip(t,e)):ip(n,e)}});function ip(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let im=u("$ZodSuccess",(e,t)=>{rt.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new p("ZodSuccess");let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===i.issues.length,e)}}),ih=u("$ZodCatch",(e,t)=>{rt.init(e,t),S(e._zod,"optin",()=>t.innerType._zod.optin),S(e._zod,"optout",()=>t.innerType._zod.optout),S(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>ec(e,r,m()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>ec(e,r,m()))},input:e.value}),e.issues=[]),e)}}),ig=u("$ZodNaN",(e,t)=>{rt.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),iy=u("$ZodPipe",(e,t)=>{rt.init(e,t),S(e._zod,"values",()=>t.in._zod.values),S(e._zod,"optin",()=>t.in._zod.optin),S(e._zod,"optout",()=>t.out._zod.optout),S(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>iv(e,t.in,r)):iv(i,t.in,r)}let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>iv(e,t.out,r)):iv(i,t.out,r)}});function iv(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let ib=u("$ZodCodec",(e,t)=>{rt.init(e,t),S(e._zod,"values",()=>t.in._zod.values),S(e._zod,"optin",()=>t.in._zod.optin),S(e._zod,"optout",()=>t.out._zod.optout),S(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>iw(e,t,r)):iw(i,t,r)}{let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>iw(e,t,r)):iw(i,t,r)}}});function iw(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let i=t.transform(e.value,e);return i instanceof Promise?i.then(i=>ik(e,i,t.out,r)):ik(e,i,t.out,r)}{let i=t.reverseTransform(e.value,e);return i instanceof Promise?i.then(i=>ik(e,i,t.in,r)):ik(e,i,t.in,r)}}function ik(e,t,r,i){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},i)}let i_=u("$ZodReadonly",(e,t)=>{rt.init(e,t),S(e._zod,"propValues",()=>t.innerType._zod.propValues),S(e._zod,"values",()=>t.innerType._zod.values),S(e._zod,"optin",()=>t.innerType?._zod?.optin),S(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(ix):ix(i)}});function ix(e){return e.value=Object.freeze(e.value),e}let i$=u("$ZodTemplateLiteral",(e,t)=>{rt.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let i=+!!t.startsWith("^"),n=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(i,n))}else if(null===e||K.has(typeof e))r.push(B(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,i)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),iA=u("$ZodFunction",(e,t)=>(rt.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let i=Reflect.apply(t,this,e._def.input?eO(e._def.input,r):r);return e._def.output?eO(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let i=e._def.input?await eD(e._def.input,r):r,n=await Reflect.apply(t,this,i);return e._def.output?await eD(e._def.output,n):n}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new r4({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),iI=u("$ZodPromise",(e,t)=>{rt.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),iE=u("$ZodLazy",(e,t)=>{rt.init(e,t),S(e._zod,"innerType",()=>t.getter()),S(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),S(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),S(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),S(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),iS=u("$ZodCustom",(e,t)=>{tz.init(e,t),rt.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let i=r.value,n=t.fn(i);if(n instanceof Promise)return n.then(t=>iU(t,r,i,e));iU(n,r,i,e)}});function iU(e,t,r,i){if(!e){let e={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(ef(e))}}function iT(e,t,r,i){let n=Math.abs(e),a=n%10,o=n%100;return o>=11&&o<=19?i:1===a?t:a>=2&&a<=4?r:i}function iO(){let e,t;return{localeError:(e={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}},t={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"},r=>{switch(r.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${r.expected} ប៉ុន្តែទទួលបាន ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":if(Array.isArray(e))return"អារេ (Array)";if(null===e)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${G(r.values[0])}`;return`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`ធំពេក៖ ត្រូវការ ${r.origin??"តម្លៃ"} ${t} ${r.maximum.toString()} ${i.unit??"ធាតុ"}`;return`ធំពេក៖ ត្រូវការ ${r.origin??"តម្លៃ"} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`តូចពេក៖ ត្រូវការ ${r.origin} ${t} ${r.minimum.toString()} ${i.unit}`;return`តូចពេក៖ ត្រូវការ ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${r.prefix}"`;if("ends_with"===r.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${r.suffix}"`;if("includes"===r.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${r.includes}"`;if("regex"===r.format)return`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${r.pattern}`;return`មិនត្រឹមត្រូវ៖ ${t[r.format]??r.format}`;case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${r.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${k(r.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${r.origin}`;case"invalid_union":default:return`ទិន្នន័យមិនត្រឹមត្រូវ`;case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${r.origin}`}})}}e.s(["$ZodAny",0,rL,"$ZodArray",0,rB,"$ZodBase64",0,rA,"$ZodBase64URL",0,rE,"$ZodBigInt",0,rj,"$ZodBigIntFormat",0,rN,"$ZodBoolean",0,rP,"$ZodCIDRv4",0,r_,"$ZodCIDRv6",0,rx,"$ZodCUID",0,rc,"$ZodCUID2",0,rd,"$ZodCatch",0,ih,"$ZodCodec",0,ib,"$ZodCustom",0,iS,"$ZodCustomStringFormat",0,rO,"$ZodDate",0,rM,"$ZodDefault",0,il,"$ZodDiscriminatedUnion",0,r0,"$ZodE164",0,rS,"$ZodEmail",0,ro,"$ZodEmoji",0,rl,"$ZodEnum",0,ie,"$ZodFile",0,ir,"$ZodFunction",0,iA,"$ZodGUID",0,rn,"$ZodIPv4",0,rb,"$ZodIPv6",0,rw,"$ZodISODate",0,rg,"$ZodISODateTime",0,rh,"$ZodISODuration",0,rv,"$ZodISOTime",0,ry,"$ZodIntersection",0,r1,"$ZodJWT",0,rT,"$ZodKSUID",0,rm,"$ZodLazy",0,iE,"$ZodLiteral",0,it,"$ZodMAC",0,rk,"$ZodMap",0,r3,"$ZodNaN",0,ig,"$ZodNanoID",0,ru,"$ZodNever",0,rq,"$ZodNonOptional",0,id,"$ZodNull",0,rz,"$ZodNullable",0,is,"$ZodNumber",0,rR,"$ZodNumberFormat",0,rD,"$ZodObject",0,rG,"$ZodObjectJIT",0,rQ,"$ZodOptional",0,io,"$ZodPipe",0,iy,"$ZodPrefault",0,ic,"$ZodPromise",0,iI,"$ZodReadonly",0,i_,"$ZodRecord",0,r8,"$ZodSet",0,r9,"$ZodString",0,rr,"$ZodStringFormat",0,ri,"$ZodSuccess",0,im,"$ZodSymbol",0,rC,"$ZodTemplateLiteral",0,i$,"$ZodTransform",0,ii,"$ZodTuple",0,r4,"$ZodType",0,rt,"$ZodULID",0,rp,"$ZodURL",0,rs,"$ZodUUID",0,ra,"$ZodUndefined",0,rZ,"$ZodUnion",0,rY,"$ZodUnknown",0,rH,"$ZodVoid",0,rV,"$ZodXID",0,rf,"isValidBase64",()=>r$,"isValidBase64URL",()=>rI,"isValidJWT",()=>rU],39510),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}},t={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"},r=>{switch(r.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${r.expected}، ولكن تم إدخال ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`مدخلات غير مقبولة: يفترض إدخال ${G(r.values[0])}`;return`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` أكبر من اللازم: يفترض أن تكون ${r.origin??"القيمة"} ${t} ${r.maximum.toString()} ${i.unit??"عنصر"}`;return`أكبر من اللازم: يفترض أن تكون ${r.origin??"القيمة"} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`أصغر من اللازم: يفترض لـ ${r.origin} أن يكون ${t} ${r.minimum.toString()} ${i.unit}`;return`أصغر من اللازم: يفترض لـ ${r.origin} أن يكون ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`نَص غير مقبول: يجب أن يبدأ بـ "${r.prefix}"`;if("ends_with"===r.format)return`نَص غير مقبول: يجب أن ينتهي بـ "${r.suffix}"`;if("includes"===r.format)return`نَص غير مقبول: يجب أن يتضمَّن "${r.includes}"`;if("regex"===r.format)return`نَص غير مقبول: يجب أن يطابق النمط ${r.pattern}`;return`${t[r.format]??r.format} غير مقبول`;case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${r.divisor}`;case"unrecognized_keys":return`معرف${r.keys.length>1?"ات":""} غريب${r.keys.length>1?"ة":""}: ${k(r.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${r.origin}`;case"invalid_union":default:return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${r.origin}`}})}}],13609),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Yanlış dəyər: g\xf6zlənilən ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanlış dəyər: g\xf6zlənilən ${G(r.values[0])}`;return`Yanlış se\xe7im: aşağıdakılardan biri olmalıdır: ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${r.origin??"dəyər"} ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlənilən ${r.origin??"dəyər"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ox ki\xe7ik: g\xf6zlənilən ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlənilən ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanlış mətn: "${r.prefix}" ilə başlamalıdır`;if("ends_with"===r.format)return`Yanlış mətn: "${r.suffix}" ilə bitməlidir`;if("includes"===r.format)return`Yanlış mətn: "${r.includes}" daxil olmalıdır`;if("regex"===r.format)return`Yanlış mətn: ${r.pattern} şablonuna uyğun olmalıdır`;return`Yanlış ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanlış ədəd: ${r.divisor} ilə b\xf6l\xfcnə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan a\xe7ar${r.keys.length>1?"lar":""}: ${k(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilində yanlış a\xe7ar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${r.origin} daxilində yanlış dəyər`;default:return`Yanlış dəyər`}})}}],4623),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}},t={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"},r=>{switch(r.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${r.expected}, атрымана ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"лік";case"object":if(Array.isArray(e))return"масіў";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Няправільны ўвод: чакалася ${G(r.values[0])}`;return`Няправільны варыянт: чакаўся адзін з ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=iT(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return`Занадта вялікі: чакалася, што ${r.origin??"значэнне"} павінна ${i.verb} ${t}${r.maximum.toString()} ${e}`}return`Занадта вялікі: чакалася, што ${r.origin??"значэнне"} павінна быць ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=iT(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return`Занадта малы: чакалася, што ${r.origin} павінна ${i.verb} ${t}${r.minimum.toString()} ${e}`}return`Занадта малы: чакалася, што ${r.origin} павінна быць ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Няправільны радок: павінен пачынацца з "${r.prefix}"`;if("ends_with"===r.format)return`Няправільны радок: павінен заканчвацца на "${r.suffix}"`;if("includes"===r.format)return`Няправільны радок: павінен змяшчаць "${r.includes}"`;if("regex"===r.format)return`Няправільны радок: павінен адпавядаць шаблону ${r.pattern}`;return`Няправільны ${t[r.format]??r.format}`;case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${r.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${r.keys.length>1?"ключы":"ключ"}: ${k(r.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${r.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${r.origin}`;default:return`Няправільны ўвод`}})}}],90881),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"символа",verb:"да съдържа"},file:{unit:"байта",verb:"да съдържа"},array:{unit:"елемента",verb:"да съдържа"},set:{unit:"елемента",verb:"да съдържа"}},t={regex:"вход",email:"имейл адрес",url:"URL",emoji:"емоджи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO време",date:"ISO дата",time:"ISO време",duration:"ISO продължителност",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"base64-кодиран низ",base64url:"base64url-кодиран низ",json_string:"JSON низ",e164:"E.164 номер",jwt:"JWT",template_literal:"вход"},r=>{switch(r.code){case"invalid_type":return`Невалиден вход: очакван ${r.expected}, получен ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"масив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Невалиден вход: очакван ${G(r.values[0])}`;return`Невалидна опция: очаквано едно от ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Твърде голямо: очаква се ${r.origin??"стойност"} да съдържа ${t}${r.maximum.toString()} ${i.unit??"елемента"}`;return`Твърде голямо: очаква се ${r.origin??"стойност"} да бъде ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Твърде малко: очаква се ${r.origin} да съдържа ${t}${r.minimum.toString()} ${i.unit}`;return`Твърде малко: очаква се ${r.origin} да бъде ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return`Невалиден низ: трябва да започва с "${r.prefix}"`;if("ends_with"===r.format)return`Невалиден низ: трябва да завършва с "${r.suffix}"`;if("includes"===r.format)return`Невалиден низ: трябва да включва "${r.includes}"`;if("regex"===r.format)return`Невалиден низ: трябва да съвпада с ${r.pattern}`;let e="Невалиден";return"emoji"===r.format&&(e="Невалидно"),"datetime"===r.format&&(e="Невалидно"),"date"===r.format&&(e="Невалидна"),"time"===r.format&&(e="Невалидно"),"duration"===r.format&&(e="Невалидна"),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return`Невалидно число: трябва да бъде кратно на ${r.divisor}`;case"unrecognized_keys":return`Неразпознат${r.keys.length>1?"и":""} ключ${r.keys.length>1?"ове":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Невалиден ключ в ${r.origin}`;case"invalid_union":return"Невалиден вход";case"invalid_element":return`Невалидна стойност в ${r.origin}`;default:return`Невалиден вход`}})}}],86146),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${G(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${k(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a màxim":"menys de",i=e[r.origin]??null;if(i)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${i.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mínim":"més de",i=e[r.origin]??null;if(i)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${i.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}})}}],40809),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}},t={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"},r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oček\xe1v\xe1no ${r.expected}, obdrženo ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oček\xe1v\xe1no ${G(r.values[0])}`;return`Neplatn\xe1 možnost: oček\xe1v\xe1na jedna z hodnot ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Hodnota je př\xedliš velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${i.unit??"prvků"}`;return`Hodnota je př\xedliš velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Hodnota je př\xedliš mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${i.unit??"prvků"}`;return`Hodnota je př\xedliš mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd řetězec: mus\xed zač\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd řetězec: mus\xed končit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd řetězec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd řetězec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 č\xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xedče: ${k(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xedč v ${r.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}})}}],68382),e.s(["default",0,function(){let e,t,r;return{localeError:(e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sæt",file:"fil"},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslæt",date:"ISO-dato",time:"ISO-klokkeslæt",duration:"ISO-varighed",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i=>{var n,a,o,s;switch(i.code){case"invalid_type":return`Ugyldigt input: forventede ${t[n=i.expected]??n}, fik ${t[a=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(i.input)]??a}`;case"invalid_value":if(1===i.values.length)return`Ugyldig v\xe6rdi: forventede ${G(i.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${k(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",n=e[i.origin]??null,a=t[o=i.origin]??o;if(n)return`For stor: forventede ${a??"value"} ${n.verb} ${r} ${i.maximum.toString()} ${n.unit??"elementer"}`;return`For stor: forventede ${a??"value"} havde ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",n=e[i.origin]??null,a=t[s=i.origin]??s;if(n)return`For lille: forventede ${a} ${n.verb} ${r} ${i.minimum.toString()} ${n.unit}`;return`For lille: forventede ${a} havde ${r} ${i.minimum.toString()}`}case"invalid_format":if("starts_with"===i.format)return`Ugyldig streng: skal starte med "${i.prefix}"`;if("ends_with"===i.format)return`Ugyldig streng: skal ende med "${i.suffix}"`;if("includes"===i.format)return`Ugyldig streng: skal indeholde "${i.includes}"`;if("regex"===i.format)return`Ugyldig streng: skal matche m\xf8nsteret ${i.pattern}`;return`Ugyldig ${r[i.format]??i.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte nøgler":"Ukendt nøgle"}: ${k(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${i.origin}`;default:return"Ugyldigt input"}})}}],57032),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${G(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${i.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${i.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${k(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}})}}],13928),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${G(r.values[0])}`;return`Invalid option: expected one of ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${i.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${i.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}})}}],73237),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${r.expected}, riceviĝis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiĝis ${G(r.values[0])}`;return`Nevalida opcio: atendiĝis unu el ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Tro granda: atendiĝis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${i.unit??"elementojn"}`;return`Tro granda: atendiĝis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Tro malgranda: atendiĝis ke ${r.origin} havu ${t}${r.minimum.toString()} ${i.unit}`;return`Tro malgranda: atendiĝis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komenciĝi per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finiĝi per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} ŝlosilo${r.keys.length>1?"j":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}})}}],75412),e.s(["default",0,function(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"número",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"número grande",symbol:"símbolo",undefined:"indefinido",null:"nulo",function:"función",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeración",union:"unión",literal:"literal",promise:"promesa",void:"vacío",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(e){return t[e]??e}let i={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r(t.expected)}, recibido ${r((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${G(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${k(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${i}${t.maximum.toString()} ${n.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${a??"valor"} fuera ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado peque\xf1o: se esperaba que ${a} tuviera ${i}${t.minimum.toString()} ${n.unit}`;return`Demasiado peque\xf1o: se esperaba que ${a} fuera ${i}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${i[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${k(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r(t.origin)}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inv\xe1lido en ${r(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}}],43041),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}},t={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"},r=>{switch(r.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${r.expected} می‌بود، ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"آرایه";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} دریافت شد`;case"invalid_value":if(1===r.values.length)return`ورودی نامعتبر: می‌بایست ${G(r.values[0])} می‌بود`;return`گزینه نامعتبر: می‌بایست یکی از ${k(r.values,"|")} می‌بود`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`خیلی بزرگ: ${r.origin??"مقدار"} باید ${t}${r.maximum.toString()} ${i.unit??"عنصر"} باشد`;return`خیلی بزرگ: ${r.origin??"مقدار"} باید ${t}${r.maximum.toString()} باشد`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`خیلی کوچک: ${r.origin} باید ${t}${r.minimum.toString()} ${i.unit} باشد`;return`خیلی کوچک: ${r.origin} باید ${t}${r.minimum.toString()} باشد`}case"invalid_format":if("starts_with"===r.format)return`رشته نامعتبر: باید با "${r.prefix}" شروع شود`;if("ends_with"===r.format)return`رشته نامعتبر: باید با "${r.suffix}" تمام شود`;if("includes"===r.format)return`رشته نامعتبر: باید شامل "${r.includes}" باشد`;if("regex"===r.format)return`رشته نامعتبر: باید با الگوی ${r.pattern} مطابقت داشته باشد`;return`${t[r.format]??r.format} نامعتبر`;case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${r.divisor} باشد`;case"unrecognized_keys":return`کلید${r.keys.length>1?"های":""} ناشناس: ${k(r.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${r.origin}`;case"invalid_union":default:return`ورودی نامعتبر`;case"invalid_element":return`مقدار نامعتبر در ${r.origin}`}})}}],69696),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}},t={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${G(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Liian suuri: ${i.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${i.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Liian pieni: ${i.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${i.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${k(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}}],29970),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}},t={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${G(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${k(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Trop grand : ${r.origin??"valeur"} doit ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"élément(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Trop petit : ${r.origin} doit ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${k(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}}],66203),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}},t={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${G(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"≤":"<",i=e[r.origin]??null;if(i)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${i.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"≥":">",i=e[r.origin]??null;if(i)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${k(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}}],1643),e.s(["default",0,function(){let e,t,r,i,n,a,o,s;return{localeError:(e={string:{label:"מחרוזת",gender:"f"},number:{label:"מספר",gender:"m"},boolean:{label:"ערך בוליאני",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"תאריך",gender:"m"},array:{label:"מערך",gender:"m"},object:{label:"אובייקט",gender:"m"},null:{label:"ערך ריק (null)",gender:"m"},undefined:{label:"ערך לא מוגדר (undefined)",gender:"m"},symbol:{label:"סימבול (Symbol)",gender:"m"},function:{label:"פונקציה",gender:"f"},map:{label:"מפה (Map)",gender:"f"},set:{label:"קבוצה (Set)",gender:"f"},file:{label:"קובץ",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"ערך לא ידוע",gender:"m"},value:{label:"ערך",gender:"m"}},t={string:{unit:"תווים",shortLabel:"קצר",longLabel:"ארוך"},file:{unit:"בייטים",shortLabel:"קטן",longLabel:"גדול"},array:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},set:{unit:"פריטים",shortLabel:"קטן",longLabel:"גדול"},number:{unit:"",shortLabel:"קטן",longLabel:"גדול"}},r=t=>t?e[t]:void 0,i=t=>{let i=r(t);return i?i.label:t??e.unknown.label},n=e=>`ה${i(e)}`,a=e=>{let t=r(e);return"f"===(t?.gender??"m")?"צריכה להיות":"צריך להיות"},o=e=>e?t[e]??null:null,s={regex:{label:"קלט",gender:"m"},email:{label:"כתובת אימייל",gender:"f"},url:{label:"כתובת רשת",gender:"f"},emoji:{label:"אימוג'י",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"תאריך וזמן ISO",gender:"m"},date:{label:"תאריך ISO",gender:"m"},time:{label:"זמן ISO",gender:"m"},duration:{label:"משך זמן ISO",gender:"m"},ipv4:{label:"כתובת IPv4",gender:"f"},ipv6:{label:"כתובת IPv6",gender:"f"},cidrv4:{label:"טווח IPv4",gender:"m"},cidrv6:{label:"טווח IPv6",gender:"m"},base64:{label:"מחרוזת בבסיס 64",gender:"f"},base64url:{label:"מחרוזת בבסיס 64 לכתובות רשת",gender:"f"},json_string:{label:"מחרוזת JSON",gender:"f"},e164:{label:"מספר E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"קלט",gender:"m"},includes:{label:"קלט",gender:"m"},lowercase:{label:"קלט",gender:"m"},starts_with:{label:"קלט",gender:"m"},uppercase:{label:"קלט",gender:"m"}},t=>{switch(t.code){case"invalid_type":{let r=i(t.expected),n=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"object";default:return t}})(t.input),a=e[n]?.label??n;return`קלט לא תקין: צריך להיות ${r}, התקבל ${a}`}case"invalid_value":{if(1===t.values.length)return`ערך לא תקין: הערך חייב להיות ${G(t.values[0])}`;let e=t.values.map(e=>G(e));if(2===t.values.length)return`ערך לא תקין: האפשרויות המתאימות הן ${e[0]} או ${e[1]}`;let r=e[e.length-1],i=e.slice(0,-1).join(", ");return`ערך לא תקין: האפשרויות המתאימות הן ${i} או ${r}`}case"too_big":{let e=o(t.origin),r=n(t.origin??"value");if("string"===t.origin)return`${e?.longLabel??"ארוך"} מדי: ${r} צריכה להכיל ${t.maximum.toString()} ${e?.unit??""} ${t.inclusive?"או פחות":"לכל היותר"}`.trim();if("number"===t.origin){let e=t.inclusive?`קטן או שווה ל-${t.maximum}`:`קטן מ-${t.maximum}`;return`גדול מדי: ${r} צריך להיות ${e}`}if("array"===t.origin||"set"===t.origin){let i="set"===t.origin?"צריכה":"צריך",n=t.inclusive?`${t.maximum} ${e?.unit??""} או פחות`:`פחות מ-${t.maximum} ${e?.unit??""}`;return`גדול מדי: ${r} ${i} להכיל ${n}`.trim()}let i=t.inclusive?"<=":"<",s=a(t.origin??"value");if(e?.unit)return`${e.longLabel} מדי: ${r} ${s} ${i}${t.maximum.toString()} ${e.unit}`;return`${e?.longLabel??"גדול"} מדי: ${r} ${s} ${i}${t.maximum.toString()}`}case"too_small":{let e=o(t.origin),r=n(t.origin??"value");if("string"===t.origin)return`${e?.shortLabel??"קצר"} מדי: ${r} צריכה להכיל ${t.minimum.toString()} ${e?.unit??""} ${t.inclusive?"או יותר":"לפחות"}`.trim();if("number"===t.origin){let e=t.inclusive?`גדול או שווה ל-${t.minimum}`:`גדול מ-${t.minimum}`;return`קטן מדי: ${r} צריך להיות ${e}`}if("array"===t.origin||"set"===t.origin){let i="set"===t.origin?"צריכה":"צריך";if(1===t.minimum&&t.inclusive){let e=(t.origin,"לפחות פריט אחד");return`קטן מדי: ${r} ${i} להכיל ${e}`}let n=t.inclusive?`${t.minimum} ${e?.unit??""} או יותר`:`יותר מ-${t.minimum} ${e?.unit??""}`;return`קטן מדי: ${r} ${i} להכיל ${n}`.trim()}let i=t.inclusive?">=":">",s=a(t.origin??"value");if(e?.unit)return`${e.shortLabel} מדי: ${r} ${s} ${i}${t.minimum.toString()} ${e.unit}`;return`${e?.shortLabel??"קטן"} מדי: ${r} ${s} ${i}${t.minimum.toString()}`}case"invalid_format":{if("starts_with"===t.format)return`המחרוזת חייבת להתחיל ב "${t.prefix}"`;if("ends_with"===t.format)return`המחרוזת חייבת להסתיים ב "${t.suffix}"`;if("includes"===t.format)return`המחרוזת חייבת לכלול "${t.includes}"`;if("regex"===t.format)return`המחרוזת חייבת להתאים לתבנית ${t.pattern}`;let e=s[t.format],r=e?.label??t.format,i=e?.gender??"m";return`${r} לא ${"f"===i?"תקינה":"תקין"}`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${t.divisor}`;case"unrecognized_keys":return`מפתח${t.keys.length>1?"ות":""} לא מזוה${t.keys.length>1?"ים":"ה"}: ${k(t.keys,", ")}`;case"invalid_key":return`שדה לא תקין באובייקט`;case"invalid_union":return"קלט לא תקין";case"invalid_element":{let e=n(t.origin??"array");return`ערך לא תקין ב${e}`}default:return`קלט לא תקין`}})}}],85492),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"},r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szám";case"object":if(Array.isArray(e))return"tömb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${G(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xfal nagy: ${r.origin??"érték"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${i.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"érték"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${i.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezdődnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gződnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}}],97294),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${G(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}})}}],68195),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"stafi",verb:"að hafa"},file:{unit:"bæti",verb:"að hafa"},array:{unit:"hluti",verb:"að hafa"},set:{unit:"hluti",verb:"að hafa"}},t={regex:"gildi",email:"netfang",url:"vefslóð",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tími",date:"ISO dagsetning",time:"ISO tími",duration:"ISO tímalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tölugildi",jwt:"JWT",template_literal:"gildi"},r=>{switch(r.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"númer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} \xfear sem \xe1 a\xf0 vera ${r.expected}`;case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${G(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${i.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${i.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${k(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}})}}],49605),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${G(r.values[0])}`;return`Opzione non valida: atteso uno tra ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${i.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${i.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${k(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}})}}],26399),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}},t={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"},r=>{switch(r.code){case"invalid_type":return`無効な入力: ${r.expected}が期待されましたが、${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"数値";case"object":if(Array.isArray(e))return"配列";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}が入力されました`;case"invalid_value":if(1===r.values.length)return`無効な入力: ${G(r.values[0])}が期待されました`;return`無効な選択: ${k(r.values,"、")}のいずれかである必要があります`;case"too_big":{let t=r.inclusive?"以下である":"より小さい",i=e[r.origin]??null;if(i)return`大きすぎる値: ${r.origin??"値"}は${r.maximum.toString()}${i.unit??"要素"}${t}必要があります`;return`大きすぎる値: ${r.origin??"値"}は${r.maximum.toString()}${t}必要があります`}case"too_small":{let t=r.inclusive?"以上である":"より大きい",i=e[r.origin]??null;if(i)return`小さすぎる値: ${r.origin}は${r.minimum.toString()}${i.unit}${t}必要があります`;return`小さすぎる値: ${r.origin}は${r.minimum.toString()}${t}必要があります`}case"invalid_format":if("starts_with"===r.format)return`無効な文字列: "${r.prefix}"で始まる必要があります`;if("ends_with"===r.format)return`無効な文字列: "${r.suffix}"で終わる必要があります`;if("includes"===r.format)return`無効な文字列: "${r.includes}"を含む必要があります`;if("regex"===r.format)return`無効な文字列: パターン${r.pattern}に一致する必要があります`;return`無効な${t[r.format]??r.format}`;case"not_multiple_of":return`無効な数値: ${r.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${r.keys.length>1?"群":""}: ${k(r.keys,"、")}`;case"invalid_key":return`${r.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${r.origin}内の無効な値`;default:return`無効な入力`}})}}],4629),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"სიმბოლო",verb:"უნდა შეიცავდეს"},file:{unit:"ბაიტი",verb:"უნდა შეიცავდეს"},array:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"},set:{unit:"ელემენტი",verb:"უნდა შეიცავდეს"}},t={regex:"შეყვანა",email:"ელ-ფოსტის მისამართი",url:"URL",emoji:"ემოჯი",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"თარიღი-დრო",date:"თარიღი",time:"დრო",duration:"ხანგრძლივობა",ipv4:"IPv4 მისამართი",ipv6:"IPv6 მისამართი",cidrv4:"IPv4 დიაპაზონი",cidrv6:"IPv6 დიაპაზონი",base64:"base64-კოდირებული სტრინგი",base64url:"base64url-კოდირებული სტრინგი",json_string:"JSON სტრინგი",e164:"E.164 ნომერი",jwt:"JWT",template_literal:"შეყვანა"},r=>{switch(r.code){case"invalid_type":return`არასწორი შეყვანა: მოსალოდნელი ${r.expected}, მიღებული ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"რიცხვი";case"object":if(Array.isArray(e))return"მასივი";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"სტრინგი",boolean:"ბულეანი",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"ფუნქცია"})[t]??t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`არასწორი შეყვანა: მოსალოდნელი ${G(r.values[0])}`;return`არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${k(r.values,"|")}-დან`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`ზედმეტად დიდი: მოსალოდნელი ${r.origin??"მნიშვნელობა"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit}`;return`ზედმეტად დიდი: მოსალოდნელი ${r.origin??"მნიშვნელობა"} იყოს ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`ზედმეტად პატარა: მოსალოდნელი ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`ზედმეტად პატარა: მოსალოდნელი ${r.origin} იყოს ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`არასწორი სტრინგი: უნდა იწყებოდეს "${r.prefix}"-ით`;if("ends_with"===r.format)return`არასწორი სტრინგი: უნდა მთავრდებოდეს "${r.suffix}"-ით`;if("includes"===r.format)return`არასწორი სტრინგი: უნდა შეიცავდეს "${r.includes}"-ს`;if("regex"===r.format)return`არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${r.pattern}`;return`არასწორი ${t[r.format]??r.format}`;case"not_multiple_of":return`არასწორი რიცხვი: უნდა იყოს ${r.divisor}-ის ჯერადი`;case"unrecognized_keys":return`უცნობი გასაღებ${r.keys.length>1?"ები":"ი"}: ${k(r.keys,", ")}`;case"invalid_key":return`არასწორი გასაღები ${r.origin}-ში`;case"invalid_union":return"არასწორი შეყვანა";case"invalid_element":return`არასწორი მნიშვნელობა ${r.origin}-ში`;default:return`არასწორი შეყვანა`}})}}],52060),e.s(["default",0,iO],20838),e.s(["default",0,function(){return iO()}],98321),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}},t={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"},r=>{switch(r.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${r.expected}, 받은 타입은 ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}입니다`;case"invalid_value":if(1===r.values.length)return`잘못된 입력: 값은 ${G(r.values[0])} 이어야 합니다`;return`잘못된 옵션: ${k(r.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{let t=r.inclusive?"이하":"미만",i="미만"===t?"이어야 합니다":"여야 합니다",n=e[r.origin]??null,a=n?.unit??"요소";if(n)return`${r.origin??"값"}이 너무 큽니다: ${r.maximum.toString()}${a} ${t}${i}`;return`${r.origin??"값"}이 너무 큽니다: ${r.maximum.toString()} ${t}${i}`}case"too_small":{let t=r.inclusive?"이상":"초과",i="이상"===t?"이어야 합니다":"여야 합니다",n=e[r.origin]??null,a=n?.unit??"요소";if(n)return`${r.origin??"값"}이 너무 작습니다: ${r.minimum.toString()}${a} ${t}${i}`;return`${r.origin??"값"}이 너무 작습니다: ${r.minimum.toString()} ${t}${i}`}case"invalid_format":if("starts_with"===r.format)return`잘못된 문자열: "${r.prefix}"(으)로 시작해야 합니다`;if("ends_with"===r.format)return`잘못된 문자열: "${r.suffix}"(으)로 끝나야 합니다`;if("includes"===r.format)return`잘못된 문자열: "${r.includes}"을(를) 포함해야 합니다`;if("regex"===r.format)return`잘못된 문자열: 정규식 ${r.pattern} 패턴과 일치해야 합니다`;return`잘못된 ${t[r.format]??r.format}`;case"not_multiple_of":return`잘못된 숫자: ${r.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${k(r.keys,", ")}`;case"invalid_key":return`잘못된 키: ${r.origin}`;case"invalid_union":default:return`잘못된 입력`;case"invalid_element":return`잘못된 값: ${r.origin}`}})}}],48389);let iR=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaičius";case"bigint":return"sveikasis skaičius";case"string":return"eilutė";case"boolean":return"loginė reikšmė";case"undefined":case"void":return"neapibrėžta reikšmė";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"nežinomas objektas";if(null===t)return"nulinė reikšmė";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulinė reikšmė"}return e},iD=e=>e.charAt(0).toUpperCase()+e.slice(1);function iP(e){let t=Math.abs(e),r=t%10,i=t%100;return i>=11&&i<=19||0===r?"many":1===r?"one":"few"}function ij(e,t,r,i){let n=Math.abs(e),a=n%10,o=n%100;return o>=11&&o<=19?i:1===a?t:a>=2&&a<=4?r:i}function iN(){let e,t;return{localeError:(e={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}},t={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"},r=>{switch(r.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${r.expected}, отримано ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"масив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Неправильні вхідні дані: очікується ${G(r.values[0])}`;return`Неправильна опція: очікується одне з ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Занадто велике: очікується, що ${r.origin??"значення"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"елементів"}`;return`Занадто велике: очікується, що ${r.origin??"значення"} буде ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Занадто мале: очікується, що ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Занадто мале: очікується, що ${r.origin} буде ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Неправильний рядок: повинен починатися з "${r.prefix}"`;if("ends_with"===r.format)return`Неправильний рядок: повинен закінчуватися на "${r.suffix}"`;if("includes"===r.format)return`Неправильний рядок: повинен містити "${r.includes}"`;if("regex"===r.format)return`Неправильний рядок: повинен відповідати шаблону ${r.pattern}`;return`Неправильний ${t[r.format]??r.format}`;case"not_multiple_of":return`Неправильне число: повинно бути кратним ${r.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${r.keys.length>1?"і":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${r.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${r.origin}`;default:return`Неправильні вхідні дані`}})}}e.s(["default",0,function(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simbolių"},verb:{smaller:{inclusive:"turi būti ne ilgesnė kaip",notInclusive:"turi būti trumpesnė kaip"},bigger:{inclusive:"turi būti ne trumpesnė kaip",notInclusive:"turi būti ilgesnė kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitų"},verb:{smaller:{inclusive:"turi būti ne didesnis kaip",notInclusive:"turi būti mažesnis kaip"},bigger:{inclusive:"turi būti ne mažesnis kaip",notInclusive:"turi būti didesnis kaip"}}},array:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}},set:{unit:{one:"elementą",few:"elementus",many:"elementų"},verb:{smaller:{inclusive:"turi turėti ne daugiau kaip",notInclusive:"turi turėti mažiau kaip"},bigger:{inclusive:"turi turėti ne mažiau kaip",notInclusive:"turi turėti daugiau kaip"}}}};function t(t,r,i,n){let a=e[t]??null;return null===a?a:{unit:a.unit[r],verb:a.verb[n][i?"inclusive":"notInclusive"]}}let r={regex:"įvestis",email:"el. pašto adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmė",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 užkoduota eilutė",base64url:"base64url užkoduota eilutė",json_string:"JSON eilutė",e164:"E.164 numeris",jwt:"JWT",template_literal:"įvestis"};return e=>{switch(e.code){case"invalid_type":var i;return`Gautas tipas ${iR(typeof(i=e.input),i)}, o tikėtasi - ${iR(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo būti ${G(e.values[0])}`;return`Privalo būti vienas iš ${k(e.values,"|")} pasirinkimų`;case"too_big":{let r=iR(e.origin),i=t(e.origin,iP(Number(e.maximum)),e.inclusive??!1,"smaller");if(i?.verb)return`${iD(r??e.origin??"reikšmė")} ${i.verb} ${e.maximum.toString()} ${i.unit??"elementų"}`;let n=e.inclusive?"ne didesnis kaip":"mažesnis kaip";return`${iD(r??e.origin??"reikšmė")} turi būti ${n} ${e.maximum.toString()} ${i?.unit}`}case"too_small":{let r=iR(e.origin),i=t(e.origin,iP(Number(e.minimum)),e.inclusive??!1,"bigger");if(i?.verb)return`${iD(r??e.origin??"reikšmė")} ${i.verb} ${e.minimum.toString()} ${i.unit??"elementų"}`;let n=e.inclusive?"ne mažesnis kaip":"didesnis kaip";return`${iD(r??e.origin??"reikšmė")} turi būti ${n} ${e.minimum.toString()} ${i?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilutė privalo prasidėti "${e.prefix}"`;if("ends_with"===e.format)return`Eilutė privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilutė privalo įtraukti "${e.includes}"`;if("regex"===e.format)return`Eilutė privalo atitikti ${e.pattern}`;return`Neteisingas ${r[e.format]??e.format}`;case"not_multiple_of":return`Skaičius privalo būti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpažint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${k(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga įvestis";case"invalid_element":{let t=iR(e.origin);return`${iD(t??e.origin??"reikšmė")} turi klaidingą įvestį`}}}})()}}],34652),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}},t={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"},r=>{switch(r.code){case"invalid_type":return`Грешен внес: се очекува ${r.expected}, примено ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"број";case"object":if(Array.isArray(e))return"низа";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${G(r.values[0])}`;return`Грешана опција: се очекува една ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Премногу голем: се очекува ${r.origin??"вредноста"} да има ${t}${r.maximum.toString()} ${i.unit??"елементи"}`;return`Премногу голем: се очекува ${r.origin??"вредноста"} да биде ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Премногу мал: се очекува ${r.origin} да има ${t}${r.minimum.toString()} ${i.unit}`;return`Премногу мал: се очекува ${r.origin} да биде ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Неважечка низа: мора да започнува со "${r.prefix}"`;if("ends_with"===r.format)return`Неважечка низа: мора да завршува со "${r.suffix}"`;if("includes"===r.format)return`Неважечка низа: мора да вклучува "${r.includes}"`;if("regex"===r.format)return`Неважечка низа: мора да одгоара на патернот ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Грешен број: мора да биде делив со ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${k(r.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${r.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${r.origin}`;default:return`Грешен внес`}})}}],88267),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${G(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: dijangka ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${k(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}})}}],83288),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${G(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Te groot: verwacht dat ${r.origin??"waarde"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"elementen"}`;return`Te groot: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Te klein: verwacht dat ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Te klein: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}})}}],65564),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${G(r.values[0])}`;return`Ugyldig valg: forventet en av ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${i.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${i.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${k(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}})}}],15546),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}},t={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"},r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alınan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${G(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${i.unit??"elements"} sahip olmalıydı.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalıydı.`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${i.unit} sahip olmalıydı.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalıydı.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile başlamalı.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakşına uymalı.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit sayı: ${r.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${r.origin} i\xe7in tanınmayan kıymet var.`;default:return`Kıymet tanınamadı.`}})}}],78074),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}},t={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"},r=>{switch(r.code){case"invalid_type":return`ناسم ورودي: باید ${r.expected} وای, مګر ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"عدد";case"object":if(Array.isArray(e))return"ارې";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} ترلاسه شو`;case"invalid_value":if(1===r.values.length)return`ناسم ورودي: باید ${G(r.values[0])} وای`;return`ناسم انتخاب: باید یو له ${k(r.values,"|")} څخه وای`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`ډیر لوی: ${r.origin??"ارزښت"} باید ${t}${r.maximum.toString()} ${i.unit??"عنصرونه"} ولري`;return`ډیر لوی: ${r.origin??"ارزښت"} باید ${t}${r.maximum.toString()} وي`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`ډیر کوچنی: ${r.origin} باید ${t}${r.minimum.toString()} ${i.unit} ولري`;return`ډیر کوچنی: ${r.origin} باید ${t}${r.minimum.toString()} وي`}case"invalid_format":if("starts_with"===r.format)return`ناسم متن: باید د "${r.prefix}" سره پیل شي`;if("ends_with"===r.format)return`ناسم متن: باید د "${r.suffix}" سره پای ته ورسيږي`;if("includes"===r.format)return`ناسم متن: باید "${r.includes}" ولري`;if("regex"===r.format)return`ناسم متن: باید د ${r.pattern} سره مطابقت ولري`;return`${t[r.format]??r.format} ناسم دی`;case"not_multiple_of":return`ناسم عدد: باید د ${r.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${r.keys.length>1?"کلیډونه":"کلیډ"}: ${k(r.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${r.origin} کې`;case"invalid_union":default:return`ناسمه ورودي`;case"invalid_element":return`ناسم عنصر په ${r.origin} کې`}})}}],74070),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}},t={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"},r=>{switch(r.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidłowe dane wejściowe: oczekiwano ${G(r.values[0])}`;return`Nieprawidłowa opcja: oczekiwano jednej z wartości ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Za duża wartość: oczekiwano, że ${r.origin??"wartość"} będzie mieć ${t}${r.maximum.toString()} ${i.unit??"elementów"}`;return`Zbyt duż(y/a/e): oczekiwano, że ${r.origin??"wartość"} będzie wynosić ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Za mała wartość: oczekiwano, że ${r.origin??"wartość"} będzie mieć ${t}${r.minimum.toString()} ${i.unit??"elementów"}`;return`Zbyt mał(y/a/e): oczekiwano, że ${r.origin??"wartość"} będzie wynosić ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidłowy ciąg znak\xf3w: musi zaczynać się od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidłowy ciąg znak\xf3w: musi kończyć się na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidłowy ciąg znak\xf3w: musi zawierać "${r.includes}"`;if("regex"===r.format)return`Nieprawidłowy ciąg znak\xf3w: musi odpowiadać wzorcowi ${r.pattern}`;return`Nieprawidłow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${r.origin}`;default:return`Nieprawidłowe dane wejściowe`}})}}],73642),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"número";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${G(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${i.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${i.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}})}}],6115),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}},t={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"},r=>{switch(r.code){case"invalid_type":return`Неверный ввод: ожидалось ${r.expected}, получено ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"число";case"object":if(Array.isArray(e))return"массив";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Неверный ввод: ожидалось ${G(r.values[0])}`;return`Неверный вариант: ожидалось одно из ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=ij(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return`Слишком большое значение: ожидалось, что ${r.origin??"значение"} будет иметь ${t}${r.maximum.toString()} ${e}`}return`Слишком большое значение: ожидалось, что ${r.origin??"значение"} будет ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=ij(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return`Слишком маленькое значение: ожидалось, что ${r.origin} будет иметь ${t}${r.minimum.toString()} ${e}`}return`Слишком маленькое значение: ожидалось, что ${r.origin} будет ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Неверная строка: должна начинаться с "${r.prefix}"`;if("ends_with"===r.format)return`Неверная строка: должна заканчиваться на "${r.suffix}"`;if("includes"===r.format)return`Неверная строка: должна содержать "${r.includes}"`;if("regex"===r.format)return`Неверная строка: должна соответствовать шаблону ${r.pattern}`;return`Неверный ${t[r.format]??r.format}`;case"not_multiple_of":return`Неверное число: должно быть кратным ${r.divisor}`;case"unrecognized_keys":return`Нераспознанн${r.keys.length>1?"ые":"ый"} ключ${r.keys.length>1?"и":""}: ${k(r.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${r.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${r.origin}`;default:return`Неверные входные данные`}})}}],46205),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"},r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"število";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: pričakovano ${G(r.values[0])}`;return`Neveljavna možnost: pričakovano eno izmed ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Preveliko: pričakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${i.unit??"elementov"}`;return`Preveliko: pričakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Premajhno: pričakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${i.unit}`;return`Premajhno: pričakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se začeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se končati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i ključi":" ključ"}: ${k(r.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}})}}],25374),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}},t={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${G(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"värdet"} att ha ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"värdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"värdet"} att ha ${t}${r.minimum.toString()} ${i.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"värdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${k(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"värdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"värdet"}`}})}}],92205),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}},t={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${r.expected}, பெறப்பட்டது ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"எண் அல்லாதது":"எண்";case"object":if(Array.isArray(e))return"அணி";if(null===e)return"வெறுமை";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${G(r.values[0])}`;return`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${k(r.values,"|")} இல் ஒன்று`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${r.origin??"மதிப்பு"} ${t}${r.maximum.toString()} ${i.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`;return`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${r.origin??"மதிப்பு"} ${t}${r.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${r.origin} ${t}${r.minimum.toString()} ${i.unit} ஆக இருக்க வேண்டும்`;return`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${r.origin} ${t}${r.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":if("starts_with"===r.format)return`தவறான சரம்: "${r.prefix}" இல் தொடங்க வேண்டும்`;if("ends_with"===r.format)return`தவறான சரம்: "${r.suffix}" இல் முடிவடைய வேண்டும்`;if("includes"===r.format)return`தவறான சரம்: "${r.includes}" ஐ உள்ளடக்க வேண்டும்`;if("regex"===r.format)return`தவறான சரம்: ${r.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`;return`தவறான ${t[r.format]??r.format}`;case"not_multiple_of":return`தவறான எண்: ${r.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${r.keys.length>1?"கள்":""}: ${k(r.keys,", ")}`;case"invalid_key":return`${r.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${r.origin} இல் தவறான மதிப்பு`;default:return`தவறான உள்ளீடு`}})}}],68146),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}},t={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"},r=>{switch(r.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${r.expected} แต่ได้รับ ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":if(Array.isArray(e))return"อาร์เรย์ (Array)";if(null===e)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`ค่าไม่ถูกต้อง: ควรเป็น ${G(r.values[0])}`;return`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"ไม่เกิน":"น้อยกว่า",i=e[r.origin]??null;if(i)return`เกินกำหนด: ${r.origin??"ค่า"} ควรมี${t} ${r.maximum.toString()} ${i.unit??"รายการ"}`;return`เกินกำหนด: ${r.origin??"ค่า"} ควรมี${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"อย่างน้อย":"มากกว่า",i=e[r.origin]??null;if(i)return`น้อยกว่ากำหนด: ${r.origin} ควรมี${t} ${r.minimum.toString()} ${i.unit}`;return`น้อยกว่ากำหนด: ${r.origin} ควรมี${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${r.prefix}"`;if("ends_with"===r.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${r.suffix}"`;if("includes"===r.format)return`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${r.includes}" อยู่ในข้อความ`;if("regex"===r.format)return`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${r.pattern}`;return`รูปแบบไม่ถูกต้อง: ${t[r.format]??r.format}`;case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${r.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${k(r.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${r.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${r.origin}`;default:return`ข้อมูลไม่ถูกต้อง`}})}}],14003),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"},r=>{switch(r.code){case"invalid_type":return`Ge\xe7ersiz değer: beklenen ${r.expected}, alınan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz değer: beklenen ${G(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aşağıdakilerden biri olmalı: ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"değer"} ${t}${r.maximum.toString()} ${i.unit??"öğe"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"değer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile başlamalı`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymalı`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz sayı: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${r.keys.length>1?"lar":""}: ${k(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz değer`;default:return`Ge\xe7ersiz değer`}})}}],91976),e.s(["default",0,iN],80440),e.s(["default",0,function(){return iN()}],80477),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}},t={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"},r=>{switch(r.code){case"invalid_type":return`غلط ان پٹ: ${r.expected} متوقع تھا، ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"نمبر";case"object":if(Array.isArray(e))return"آرے";if(null===e)return"نل";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} موصول ہوا`;case"invalid_value":if(1===r.values.length)return`غلط ان پٹ: ${G(r.values[0])} متوقع تھا`;return`غلط آپشن: ${k(r.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`بہت بڑا: ${r.origin??"ویلیو"} کے ${t}${r.maximum.toString()} ${i.unit??"عناصر"} ہونے متوقع تھے`;return`بہت بڑا: ${r.origin??"ویلیو"} کا ${t}${r.maximum.toString()} ہونا متوقع تھا`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`بہت چھوٹا: ${r.origin} کے ${t}${r.minimum.toString()} ${i.unit} ہونے متوقع تھے`;return`بہت چھوٹا: ${r.origin} کا ${t}${r.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":if("starts_with"===r.format)return`غلط سٹرنگ: "${r.prefix}" سے شروع ہونا چاہیے`;if("ends_with"===r.format)return`غلط سٹرنگ: "${r.suffix}" پر ختم ہونا چاہیے`;if("includes"===r.format)return`غلط سٹرنگ: "${r.includes}" شامل ہونا چاہیے`;if("regex"===r.format)return`غلط سٹرنگ: پیٹرن ${r.pattern} سے میچ ہونا چاہیے`;return`غلط ${t[r.format]??r.format}`;case"not_multiple_of":return`غلط نمبر: ${r.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${r.keys.length>1?"ز":""}: ${k(r.keys,"، ")}`;case"invalid_key":return`${r.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${r.origin} میں غلط ویلیو`;default:return`غلط ان پٹ`}})}}],87420),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}},t={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"},r=>{switch(r.code){case"invalid_type":return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${r.expected}, nhận được ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"số";case"object":if(Array.isArray(e))return"mảng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Đầu v\xe0o kh\xf4ng hợp lệ: mong đợi ${G(r.values[0])}`;return`T\xf9y chọn kh\xf4ng hợp lệ: mong đợi một trong c\xe1c gi\xe1 trị ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Qu\xe1 lớn: mong đợi ${r.origin??"giá trị"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"phần tử"}`;return`Qu\xe1 lớn: mong đợi ${r.origin??"giá trị"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Qu\xe1 nhỏ: mong đợi ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Qu\xe1 nhỏ: mong đợi ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chuỗi kh\xf4ng hợp lệ: phải bắt đầu bằng "${r.prefix}"`;if("ends_with"===r.format)return`Chuỗi kh\xf4ng hợp lệ: phải kết th\xfac bằng "${r.suffix}"`;if("includes"===r.format)return`Chuỗi kh\xf4ng hợp lệ: phải bao gồm "${r.includes}"`;if("regex"===r.format)return`Chuỗi kh\xf4ng hợp lệ: phải khớp với mẫu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hợp lệ`;case"not_multiple_of":return`Số kh\xf4ng hợp lệ: phải l\xe0 bội số của ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng được nhận dạng: ${k(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hợp lệ trong ${r.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Gi\xe1 trị kh\xf4ng hợp lệ trong ${r.origin}`;default:return`Đầu v\xe0o kh\xf4ng hợp lệ`}})}}],15017),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}},t={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"},r=>{switch(r.code){case"invalid_type":return`无效输入：期望 ${r.expected}，实际接收 ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"非数字(NaN)":"数字";case"object":if(Array.isArray(e))return"数组";if(null===e)return"空值(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`无效输入：期望 ${G(r.values[0])}`;return`无效选项：期望以下之一 ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`数值过大：期望 ${r.origin??"值"} ${t}${r.maximum.toString()} ${i.unit??"个元素"}`;return`数值过大：期望 ${r.origin??"值"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`数值过小：期望 ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`数值过小：期望 ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`无效字符串：必须以 "${r.prefix}" 开头`;if("ends_with"===r.format)return`无效字符串：必须以 "${r.suffix}" 结尾`;if("includes"===r.format)return`无效字符串：必须包含 "${r.includes}"`;if("regex"===r.format)return`无效字符串：必须满足正则表达式 ${r.pattern}`;return`无效${t[r.format]??r.format}`;case"not_multiple_of":return`无效数字：必须是 ${r.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${k(r.keys,", ")}`;case"invalid_key":return`${r.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${r.origin} 中包含无效值(value)`;default:return`无效输入`}})}}],67304),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}},t={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"},r=>{switch(r.code){case"invalid_type":return`無效的輸入值：預期為 ${r.expected}，但收到 ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`無效的輸入值：預期為 ${G(r.values[0])}`;return`無效的選項：預期為以下其中之一 ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`數值過大：預期 ${r.origin??"值"} 應為 ${t}${r.maximum.toString()} ${i.unit??"個元素"}`;return`數值過大：預期 ${r.origin??"值"} 應為 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`數值過小：預期 ${r.origin} 應為 ${t}${r.minimum.toString()} ${i.unit}`;return`數值過小：預期 ${r.origin} 應為 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`無效的字串：必須以 "${r.prefix}" 開頭`;if("ends_with"===r.format)return`無效的字串：必須以 "${r.suffix}" 結尾`;if("includes"===r.format)return`無效的字串：必須包含 "${r.includes}"`;if("regex"===r.format)return`無效的字串：必須符合格式 ${r.pattern}`;return`無效的 ${t[r.format]??r.format}`;case"not_multiple_of":return`無效的數字：必須為 ${r.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${r.keys.length>1?"們":""}：${k(r.keys,"、")}`;case"invalid_key":return`${r.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${r.origin} 中有無效的值`;default:return`無效的輸入值`}})}}],22104),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"àmi",verb:"ní"},file:{unit:"bytes",verb:"ní"},array:{unit:"nkan",verb:"ní"},set:{unit:"nkan",verb:"ní"}},t={regex:"ẹ̀rọ ìbáwọlé",email:"àdírẹ́sì ìmẹ́lì",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"àkókò ISO",date:"ọjọ́ ISO",time:"àkókò ISO",duration:"àkókò tó pé ISO",ipv4:"àdírẹ́sì IPv4",ipv6:"àdírẹ́sì IPv6",cidrv4:"àgbègbè IPv4",cidrv6:"àgbègbè IPv6",base64:"ọ̀rọ̀ tí a kọ́ ní base64",base64url:"ọ̀rọ̀ base64url",json_string:"ọ̀rọ̀ JSON",e164:"nọ́mbà E.164",jwt:"JWT",template_literal:"ẹ̀rọ ìbáwọlé"},r=>{switch(r.code){case"invalid_type":return`\xccb\xe1wọl\xe9 aṣ\xecṣe: a n\xed l\xe1ti fi ${r.expected}, \xe0mọ̀ a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nọ́mbà";case"object":if(Array.isArray(e))return"akopọ";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xccb\xe1wọl\xe9 aṣ\xecṣe: a n\xed l\xe1ti fi ${G(r.values[0])}`;return`\xc0ṣ\xe0y\xe0n aṣ\xecṣe: yan ọ̀kan l\xe1ra ${k(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xf3 pọ̀ j\xf9: a n\xed l\xe1ti jẹ́ p\xe9 ${r.origin??"iye"} ${i.verb} ${t}${r.maximum} ${i.unit}`;return`T\xf3 pọ̀ j\xf9: a n\xed l\xe1ti jẹ́ ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`K\xe9r\xe9 ju: a n\xed l\xe1ti jẹ́ p\xe9 ${r.origin} ${i.verb} ${t}${r.minimum} ${i.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti jẹ́ ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀l\xfa "${r.prefix}"`;if("ends_with"===r.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ par\xed pẹ̀l\xfa "${r.suffix}"`;if("includes"===r.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ n\xed "${r.includes}"`;if("regex"===r.format)return`Ọ̀rọ̀ aṣ\xecṣe: gbọ́dọ̀ b\xe1 \xe0pẹẹrẹ mu ${r.pattern}`;return`Aṣ\xecṣe: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nọ́mb\xe0 aṣ\xecṣe: gbọ́dọ̀ jẹ́ \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bọt\xecn\xec \xe0\xecmọ̀: ${k(r.keys,", ")}`;case"invalid_key":return`Bọt\xecn\xec aṣ\xecṣe n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"Ìbáwọlé aṣìṣe";case"invalid_element":return`Iye aṣ\xecṣe n\xedn\xfa ${r.origin}`}})}}],24978),e.s([],79113);let iC=Symbol("ZodOutput"),iZ=Symbol("ZodInput");class iz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function iL(){return new iz}(aU=globalThis).__zod_globalRegistry??(aU.__zod_globalRegistry=iL());let iH=globalThis.__zod_globalRegistry;function iq(e,t){return new e({type:"string",...W(t)})}function iV(e,t){return new e({type:"string",coerce:!0,...W(t)})}function iM(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...W(t)})}function iK(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...W(t)})}function iB(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...W(t)})}function iF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...W(t)})}function iW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...W(t)})}function iJ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...W(t)})}function iG(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...W(t)})}function iQ(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...W(t)})}function iX(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...W(t)})}function iY(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...W(t)})}function i0(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...W(t)})}function i1(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...W(t)})}function i6(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...W(t)})}function i4(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...W(t)})}function i2(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...W(t)})}function i8(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...W(t)})}function i3(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...W(t)})}function i5(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...W(t)})}function i9(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...W(t)})}function i7(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...W(t)})}function ne(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...W(t)})}function nt(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...W(t)})}function nr(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...W(t)})}function ni(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...W(t)})}function nn(e,t){return new e({type:"string",format:"date",check:"string_format",...W(t)})}function na(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...W(t)})}function no(e,t){return new e({type:"string",format:"duration",check:"string_format",...W(t)})}function ns(e,t){return new e({type:"number",checks:[],...W(t)})}function nl(e,t){return new e({type:"number",coerce:!0,checks:[],...W(t)})}function nu(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...W(t)})}function nc(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...W(t)})}function nd(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...W(t)})}function np(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...W(t)})}function nf(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...W(t)})}function nm(e,t){return new e({type:"boolean",...W(t)})}function nh(e,t){return new e({type:"boolean",coerce:!0,...W(t)})}function ng(e,t){return new e({type:"bigint",...W(t)})}function ny(e,t){return new e({type:"bigint",coerce:!0,...W(t)})}function nv(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...W(t)})}function nb(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...W(t)})}function nw(e,t){return new e({type:"symbol",...W(t)})}function nk(e,t){return new e({type:"undefined",...W(t)})}function n_(e,t){return new e({type:"null",...W(t)})}function nx(e){return new e({type:"any"})}function n$(e){return new e({type:"unknown"})}function nA(e,t){return new e({type:"never",...W(t)})}function nI(e,t){return new e({type:"void",...W(t)})}function nE(e,t){return new e({type:"date",...W(t)})}function nS(e,t){return new e({type:"date",coerce:!0,...W(t)})}function nU(e,t){return new e({type:"nan",...W(t)})}function nT(e,t){return new tH({check:"less_than",...W(t),value:e,inclusive:!1})}function nO(e,t){return new tH({check:"less_than",...W(t),value:e,inclusive:!0})}function nR(e,t){return new tq({check:"greater_than",...W(t),value:e,inclusive:!1})}function nD(e,t){return new tq({check:"greater_than",...W(t),value:e,inclusive:!0})}function nP(e){return nR(0,e)}function nj(e){return nT(0,e)}function nN(e){return nO(0,e)}function nC(e){return nD(0,e)}function nZ(e,t){return new tV({check:"multiple_of",...W(t),value:e})}function nz(e,t){return new tB({check:"max_size",...W(t),maximum:e})}function nL(e,t){return new tF({check:"min_size",...W(t),minimum:e})}function nH(e,t){return new tW({check:"size_equals",...W(t),size:e})}function nq(e,t){return new tJ({check:"max_length",...W(t),maximum:e})}function nV(e,t){return new tG({check:"min_length",...W(t),minimum:e})}function nM(e,t){return new tQ({check:"length_equals",...W(t),length:e})}function nK(e,t){return new tY({check:"string_format",format:"regex",...W(t),pattern:e})}function nB(e){return new t0({check:"string_format",format:"lowercase",...W(e)})}function nF(e){return new t1({check:"string_format",format:"uppercase",...W(e)})}function nW(e,t){return new t6({check:"string_format",format:"includes",...W(t),includes:e})}function nJ(e,t){return new t4({check:"string_format",format:"starts_with",...W(t),prefix:e})}function nG(e,t){return new t2({check:"string_format",format:"ends_with",...W(t),suffix:e})}function nQ(e,t,r){return new t3({check:"property",property:e,schema:t,...W(r)})}function nX(e,t){return new t5({check:"mime_type",mime:e,...W(t)})}function nY(e){return new t9({check:"overwrite",tx:e})}function n0(e){return nY(t=>t.normalize(e))}function n1(){return nY(e=>e.trim())}function n6(){return nY(e=>e.toLowerCase())}function n4(){return nY(e=>e.toUpperCase())}function n2(){return nY(e=>C(e))}function n8(e,t,r){return new e({type:"array",element:t,...W(r)})}function n3(e,t,r){return new e({type:"union",options:t,...W(r)})}function n5(e,t,r,i){return new e({type:"union",options:r,discriminator:t,...W(i)})}function n9(e,t,r){return new e({type:"intersection",left:t,right:r})}function n7(e,t,r,i){let n=r instanceof rt,a=n?i:r;return new e({type:"tuple",items:t,rest:n?r:null,...W(a)})}function ae(e,t,r,i){return new e({type:"record",keyType:t,valueType:r,...W(i)})}function at(e,t,r,i){return new e({type:"map",keyType:t,valueType:r,...W(i)})}function ar(e,t,r){return new e({type:"set",valueType:t,...W(r)})}function ai(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...W(r)})}function an(e,t,r){return new e({type:"enum",entries:t,...W(r)})}function aa(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...W(r)})}function ao(e,t){return new e({type:"file",...W(t)})}function as(e,t){return new e({type:"transform",transform:t})}function al(e,t){return new e({type:"optional",innerType:t})}function au(e,t){return new e({type:"nullable",innerType:t})}function ac(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():q(r)}})}function ad(e,t,r){return new e({type:"nonoptional",innerType:t,...W(r)})}function ap(e,t){return new e({type:"success",innerType:t})}function af(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function am(e,t,r){return new e({type:"pipe",in:t,out:r})}function ah(e,t){return new e({type:"readonly",innerType:t})}function ag(e,t,r){return new e({type:"template_literal",parts:t,...W(r)})}function ay(e,t){return new e({type:"lazy",getter:t})}function av(e,t){return new e({type:"promise",innerType:t})}function ab(e,t,r){let i=W(r);return i.abort??(i.abort=!0),new e({type:"custom",check:"custom",fn:t,...i})}function aw(e,t,r){return new e({type:"custom",check:"custom",fn:t,...W(r)})}function ak(e){let t=a_(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(ef(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(ef(e)))},e(r.value,r)));return t}function a_(e,t){let r=new tz({check:"custom",...W(t)});return r._zod.check=e,r}function ax(e){let t=new tz({check:"describe"});return t._zod.onattach=[t=>{let r=iH.get(t)??{};iH.add(t,{...r,description:e})}],t._zod.check=()=>{},t}function a$(e){let t=new tz({check:"meta"});return t._zod.onattach=[t=>{let r=iH.get(t)??{};iH.add(t,{...r,...e})}],t._zod.check=()=>{},t}function aA(e,t){let r=W(t),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(i=i.map(e=>"string"==typeof e?e.toLowerCase():e),n=n.map(e=>"string"==typeof e?e.toLowerCase():e));let a=new Set(i),o=new Set(n),s=e.Codec??ib,l=e.Boolean??rP,u=new s({type:"pipe",in:new(e.String??rr)({type:"string",error:r.error}),out:new l({type:"boolean",error:r.error}),transform:(e,t)=>{let i=e;return"sensitive"!==r.case&&(i=i.toLowerCase()),!!a.has(i)||!o.has(i)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?i[0]||"true":n[0]||"false",error:r.error});return u}function aI(e,t,r,i={}){let n=W(i),a={...W(i),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...n};return r instanceof RegExp&&(a.pattern=r),new e(a)}e.s(["$ZodRegistry",()=>iz,"$input",0,iZ,"$output",0,iC,"globalRegistry",0,iH,"registry",()=>iL],52637),e.s(["TimePrecision",0,{Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6},"_any",()=>nx,"_array",()=>n8,"_base64",()=>i7,"_base64url",()=>ne,"_bigint",()=>ng,"_boolean",()=>nm,"_catch",()=>af,"_check",()=>a_,"_cidrv4",()=>i5,"_cidrv6",()=>i9,"_coercedBigint",()=>ny,"_coercedBoolean",()=>nh,"_coercedDate",()=>nS,"_coercedNumber",()=>nl,"_coercedString",()=>iV,"_cuid",()=>iY,"_cuid2",()=>i0,"_custom",()=>ab,"_date",()=>nE,"_default",()=>ac,"_discriminatedUnion",()=>n5,"_e164",()=>nt,"_email",()=>iM,"_emoji",()=>iQ,"_endsWith",()=>nG,"_enum",()=>ai,"_file",()=>ao,"_float32",()=>nc,"_float64",()=>nd,"_gt",()=>nR,"_gte",()=>nD,"_guid",()=>iK,"_includes",()=>nW,"_int",()=>nu,"_int32",()=>np,"_int64",()=>nv,"_intersection",()=>n9,"_ipv4",()=>i2,"_ipv6",()=>i8,"_isoDate",()=>nn,"_isoDateTime",()=>ni,"_isoDuration",()=>no,"_isoTime",()=>na,"_jwt",()=>nr,"_ksuid",()=>i4,"_lazy",()=>ay,"_length",()=>nM,"_literal",()=>aa,"_lowercase",()=>nB,"_lt",()=>nT,"_lte",()=>nO,"_mac",()=>i3,"_map",()=>at,"_max",()=>nO,"_maxLength",()=>nq,"_maxSize",()=>nz,"_mime",()=>nX,"_min",()=>nD,"_minLength",()=>nV,"_minSize",()=>nL,"_multipleOf",()=>nZ,"_nan",()=>nU,"_nanoid",()=>iX,"_nativeEnum",()=>an,"_negative",()=>nj,"_never",()=>nA,"_nonnegative",()=>nC,"_nonoptional",()=>ad,"_nonpositive",()=>nN,"_normalize",()=>n0,"_null",()=>n_,"_nullable",()=>au,"_number",()=>ns,"_optional",()=>al,"_overwrite",()=>nY,"_pipe",()=>am,"_positive",()=>nP,"_promise",()=>av,"_property",()=>nQ,"_readonly",()=>ah,"_record",()=>ae,"_refine",()=>aw,"_regex",()=>nK,"_set",()=>ar,"_size",()=>nH,"_slugify",()=>n2,"_startsWith",()=>nJ,"_string",()=>iq,"_stringFormat",()=>aI,"_stringbool",()=>aA,"_success",()=>ap,"_superRefine",()=>ak,"_symbol",()=>nw,"_templateLiteral",()=>ag,"_toLowerCase",()=>n6,"_toUpperCase",()=>n4,"_transform",()=>as,"_trim",()=>n1,"_tuple",()=>n7,"_uint32",()=>nf,"_uint64",()=>nb,"_ulid",()=>i1,"_undefined",()=>nk,"_union",()=>n3,"_unknown",()=>n$,"_uppercase",()=>nF,"_url",()=>iG,"_uuid",()=>iB,"_uuidv4",()=>iF,"_uuidv6",()=>iW,"_uuidv7",()=>iJ,"_void",()=>nI,"_xid",()=>i6,"describe",()=>ax,"meta",()=>a$],62061);class aE{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??iH,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let i=e._zod.def,n=this.seen.get(e);if(n)return n.count++,t.schemaPath.includes(e)&&(n.cycle=t.path),n.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let o=e._zod.toJSONSchema?.();if(o)a.schema=o;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},n=e._zod.parent;if(n)a.ref=n,this.process(n,r),this.seen.get(n).isParent=!0;else{let t=a.schema;switch(i.type){case"string":{t.type="string";let{minimum:r,maximum:i,format:n,patterns:o,contentEncoding:s}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof i&&(t.maxLength=i),n&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[n]??n,""===t.format&&delete t.format),s&&(t.contentEncoding=s),o&&o.size>0){let e=[...o];1===e.length?t.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:i,format:n,multipleOf:a,exclusiveMaximum:o,exclusiveMinimum:s}=e._zod.bag;"string"==typeof n&&n.includes("int")?t.type="integer":t.type="number","number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=s,t.exclusiveMinimum=!0):t.exclusiveMinimum=s),"number"==typeof r&&(t.minimum=r,"number"==typeof s&&"draft-4"!==this.target&&(s>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=o,t.exclusiveMaximum=!0):t.exclusiveMaximum=o),"number"==typeof i&&(t.maximum=i,"number"==typeof o&&"draft-4"!==this.target&&(o<=i?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof a&&(t.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:n,maximum:a}=e._zod.bag;"number"==typeof n&&(t.minItems=n),"number"==typeof a&&(t.maxItems=a),t.type="array",t.items=this.process(i.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=i.shape;for(let i in e)t.properties[i]=this.process(e[i],{...r,path:[...r.path,"properties",i]});let n=new Set([...new Set(Object.keys(e))].filter(e=>{let t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));n.size>0&&(t.required=Array.from(n)),i.catchall?._zod.def.type==="never"?t.additionalProperties=!1:i.catchall?i.catchall&&(t.additionalProperties=this.process(i.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":{let e=void 0!==i.discriminator,n=i.options.map((t,i)=>this.process(t,{...r,path:[...r.path,e?"oneOf":"anyOf",i]}));e?t.oneOf=n:t.anyOf=n;break}case"intersection":{let e=this.process(i.left,{...r,path:[...r.path,"allOf",0]}),n=this.process(i.right,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...a(e)?e.allOf:[e],...a(n)?n.allOf:[n]];break}case"tuple":{t.type="array";let n="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",o=i.items.map((e,t)=>this.process(e,{...r,path:[...r.path,n,t]})),s=i.rest?this.process(i.rest,{...r,path:[...r.path,a,..."openapi-3.0"===this.target?[i.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=o,s&&(t.items=s)):"openapi-3.0"===this.target?(t.items={anyOf:o},s&&t.items.anyOf.push(s),t.minItems=o.length,s||(t.maxItems=o.length)):(t.items=o,s&&(t.additionalItems=s));let{minimum:l,maximum:u}=e._zod.bag;"number"==typeof l&&(t.minItems=l),"number"==typeof u&&(t.maxItems=u);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(i.keyType,{...r,path:[...r.path,"propertyNames"]})),t.additionalProperties=this.process(i.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=w(i.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of i.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[r]:t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:n,mime:a}=e._zod.bag;void 0!==i&&(r.minLength=i),void 0!==n&&(r.maxLength=n),a?1===a.length?(r.contentMediaType=a[0],Object.assign(t,r)):t.anyOf=a.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(i.innerType,r);"openapi-3.0"===this.target?(a.ref=i.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,r),a.ref=i.innerType;break;case"default":this.process(i.innerType,r),a.ref=i.innerType,t.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,r),a.ref=i.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,r),a.ref=i.innerType;try{e=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,r),a.ref=e;break}case"readonly":this.process(i.innerType,r),a.ref=i.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let s=this.metadataRegistry.get(e);return s&&Object.assign(a.schema,s),"input"===this.io&&function e(t,r){let i=r??{seen:new Set};if(i.seen.has(t))return!1;i.seen.add(t);let n=t._zod.def;if("transform"===n.type)return!0;if("array"===n.type)return e(n.element,i);if("set"===n.type)return e(n.valueType,i);if("lazy"===n.type)return e(n.getter(),i);if("promise"===n.type||"optional"===n.type||"nonoptional"===n.type||"nullable"===n.type||"readonly"===n.type||"default"===n.type||"prefault"===n.type)return e(n.innerType,i);if("intersection"===n.type)return e(n.left,i)||e(n.right,i);if("record"===n.type||"map"===n.type)return e(n.keyType,i)||e(n.valueType,i);if("pipe"===n.type)return e(n.in,i)||e(n.out,i);if("object"===n.type){for(let t in n.shape)if(e(n.shape[t],i))return!0;return!1}if("union"===n.type){for(let t of n.options)if(e(t,i))return!0;return!1}if("tuple"===n.type){for(let t of n.items)if(e(t,i))return!0;if(n.rest&&e(n.rest,i))return!0}return!1}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},i=this.seen.get(e);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let n=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let i=r.external.registry.get(e[0])?.id,n=r.external.uri??(e=>e);if(i)return{ref:n(i)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${n("__shared")}#/${t}/${a}`}}if(e[1]===i)return{ref:"#"};let n=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:n+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:i}=n(e);t.def={...t.schema},i&&(t.defId=i);let a=t.schema;for(let e in a)delete a[e];a.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let i=t[1];if(e===t[0]){a(t);continue}if(r.external){let i=r.external.registry.get(t[0])?.id;if(e!==t[0]&&i){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id||i.cycle||i.count>1&&"ref"===r.reused){a(t);continue}}let o=(e,t)=>{let r=this.seen.get(e),i=r.def??r.schema,n={...i};if(null===r.ref)return;let a=r.ref;if(r.ref=null,a){o(a,t);let e=this.seen.get(a).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(i.allOf=i.allOf??[],i.allOf.push(e)):(Object.assign(i,e),Object.assign(i,n))}r.isParent||this.override({zodSchema:e,jsonSchema:i,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())o(e[0],{target:this.target});let s={};if("draft-2020-12"===this.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?s.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?s.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");s.$id=r.external.uri(t)}Object.assign(s,i.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}r.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch(e){throw Error("Error converting schema to JSON.")}}}function aS(e,t){if(e instanceof iz){let r=new aE(t),i={};for(let t of e._idmap.entries()){let[e,i]=t;r.process(i)}let n={},a={registry:e,uri:t?.uri,defs:i};for(let i of e._idmap.entries()){let[e,o]=i;n[e]=r.emit(o,{...t,external:a})}return Object.keys(i).length>0&&(n.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:i}),{schemas:n}}let r=new aE(t);return r.process(e),r.emit(e,t)}e.s(["JSONSchemaGenerator",()=>aE,"toJSONSchema",()=>aS],7159),e.s([],33145),e.s([],82811),e.i(39510),e.s(["$ZodAny",0,rL,"$ZodArray",0,rB,"$ZodBase64",0,rA,"$ZodBase64URL",0,rE,"$ZodBigInt",0,rj,"$ZodBigIntFormat",0,rN,"$ZodBoolean",0,rP,"$ZodCIDRv4",0,r_,"$ZodCIDRv6",0,rx,"$ZodCUID",0,rc,"$ZodCUID2",0,rd,"$ZodCatch",0,ih,"$ZodCodec",0,ib,"$ZodCustom",0,iS,"$ZodCustomStringFormat",0,rO,"$ZodDate",0,rM,"$ZodDefault",0,il,"$ZodDiscriminatedUnion",0,r0,"$ZodE164",0,rS,"$ZodEmail",0,ro,"$ZodEmoji",0,rl,"$ZodEnum",0,ie,"$ZodFile",0,ir,"$ZodFunction",0,iA,"$ZodGUID",0,rn,"$ZodIPv4",0,rb,"$ZodIPv6",0,rw,"$ZodISODate",0,rg,"$ZodISODateTime",0,rh,"$ZodISODuration",0,rv,"$ZodISOTime",0,ry,"$ZodIntersection",0,r1,"$ZodJWT",0,rT,"$ZodKSUID",0,rm,"$ZodLazy",0,iE,"$ZodLiteral",0,it,"$ZodMAC",0,rk,"$ZodMap",0,r3,"$ZodNaN",0,ig,"$ZodNanoID",0,ru,"$ZodNever",0,rq,"$ZodNonOptional",0,id,"$ZodNull",0,rz,"$ZodNullable",0,is,"$ZodNumber",0,rR,"$ZodNumberFormat",0,rD,"$ZodObject",0,rG,"$ZodObjectJIT",0,rQ,"$ZodOptional",0,io,"$ZodPipe",0,iy,"$ZodPrefault",0,ic,"$ZodPromise",0,iI,"$ZodReadonly",0,i_,"$ZodRecord",0,r8,"$ZodSet",0,r9,"$ZodString",0,rr,"$ZodStringFormat",0,ri,"$ZodSuccess",0,im,"$ZodSymbol",0,rC,"$ZodTemplateLiteral",0,i$,"$ZodTransform",0,ii,"$ZodTuple",0,r4,"$ZodType",0,rt,"$ZodULID",0,rp,"$ZodURL",0,rs,"$ZodUUID",0,ra,"$ZodUndefined",0,rZ,"$ZodUnion",0,rY,"$ZodUnknown",0,rH,"$ZodVoid",0,rV,"$ZodXID",0,rf,"clone",()=>F,"isValidBase64",()=>r$,"isValidBase64URL",()=>rI,"isValidJWT",()=>rU],62429);var aU,aT=e.i(21131);e.s(["regexes",0,aT],67662);var aT=aT,aO=e.i(86618);e.s(["util",0,aO],28343);var aO=aO;e.s([],64328),e.s(["ZodISODate",()=>aP,"ZodISODateTime",()=>aR,"ZodISODuration",()=>aZ,"ZodISOTime",()=>aN,"date",()=>aj,"datetime",()=>aD,"duration",()=>az,"time",()=>aC],51047);let aR=u("ZodISODateTime",(e,t)=>{rh.init(e,t),a8.init(e,t)});function aD(e){return ni(aR,e)}let aP=u("ZodISODate",(e,t)=>{rg.init(e,t),a8.init(e,t)});function aj(e){return nn(aP,e)}let aN=u("ZodISOTime",(e,t)=>{ry.init(e,t),a8.init(e,t)});function aC(e){return na(aN,e)}let aZ=u("ZodISODuration",(e,t)=>{rv.init(e,t),a8.init(e,t)});function az(e){return no(aZ,e)}let aL=(e,t)=>{ex.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>eI(e,t)},flatten:{value:t=>eA(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,_,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,_,2)}},isEmpty:{get:()=>0===e.issues.length}})},aH=u("ZodError",aL),aq=u("ZodError",aL,{Parent:Error});e.s(["ZodError",0,aH,"ZodRealError",0,aq],15874);let aV=eT(aq),aM=eR(aq),aK=eP(aq),aB=eN(aq),aF=eZ(aq),aW=eL(aq),aJ=eq(aq),aG=eM(aq),aQ=eB(aq),aX=eW(aq),aY=eG(aq),a0=eX(aq);e.s(["decode",0,aW,"decodeAsync",0,aG,"encode",0,aF,"encodeAsync",0,aJ,"parse",0,aV,"parseAsync",0,aM,"safeDecode",0,aX,"safeDecodeAsync",0,a0,"safeEncode",0,aQ,"safeEncodeAsync",0,aY,"safeParse",0,aK,"safeParseAsync",0,aB],48804);let a1=u("ZodType",(e,t)=>(rt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(aO.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>F(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>aV(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>aK(e,t,r),e.parseAsync=async(t,r)=>aM(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>aB(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>aF(e,t,r),e.decode=(t,r)=>aW(e,t,r),e.encodeAsync=async(t,r)=>aJ(e,t,r),e.decodeAsync=async(t,r)=>aG(e,t,r),e.safeEncode=(t,r)=>aQ(e,t,r),e.safeDecode=(t,r)=>aX(e,t,r),e.safeEncodeAsync=async(t,r)=>aY(e,t,r),e.safeDecodeAsync=async(t,r)=>a0(e,t,r),e.refine=(t,r)=>e.check(lf(t,r)),e.superRefine=t=>e.check(ak(t)),e.overwrite=t=>e.check(nY(t)),e.optional=()=>sM(e),e.nullable=()=>sB(e),e.nullish=()=>sM(sB(e)),e.nonoptional=t=>sY(e,t),e.array=()=>sf(e),e.or=t=>sw([e,t]),e.and=t=>s$(e,t),e.transform=t=>s5(e,sq(t)),e.default=t=>sJ(e,t),e.prefault=t=>sQ(e,t),e.catch=t=>s4(e,t),e.pipe=t=>s5(e,t),e.readonly=()=>lt(e),e.describe=t=>{let r=e.clone();return iH.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>iH.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return iH.get(e);let r=e.clone();return iH.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),a6=u("_ZodString",(e,t)=>{rr.init(e,t),a1.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(nK(...t)),e.includes=(...t)=>e.check(nW(...t)),e.startsWith=(...t)=>e.check(nJ(...t)),e.endsWith=(...t)=>e.check(nG(...t)),e.min=(...t)=>e.check(nV(...t)),e.max=(...t)=>e.check(nq(...t)),e.length=(...t)=>e.check(nM(...t)),e.nonempty=(...t)=>e.check(nV(1,...t)),e.lowercase=t=>e.check(nB(t)),e.uppercase=t=>e.check(nF(t)),e.trim=()=>e.check(n1()),e.normalize=(...t)=>e.check(n0(...t)),e.toLowerCase=()=>e.check(n6()),e.toUpperCase=()=>e.check(n4()),e.slugify=()=>e.check(n2())}),a4=u("ZodString",(e,t)=>{rr.init(e,t),a6.init(e,t),e.email=t=>e.check(iM(a3,t)),e.url=t=>e.check(iG(oa,t)),e.jwt=t=>e.check(nr(oZ,t)),e.emoji=t=>e.check(iQ(ol,t)),e.guid=t=>e.check(iK(a9,t)),e.uuid=t=>e.check(iB(oe,t)),e.uuidv4=t=>e.check(iF(oe,t)),e.uuidv6=t=>e.check(iW(oe,t)),e.uuidv7=t=>e.check(iJ(oe,t)),e.nanoid=t=>e.check(iX(oc,t)),e.guid=t=>e.check(iK(a9,t)),e.cuid=t=>e.check(iY(op,t)),e.cuid2=t=>e.check(i0(om,t)),e.ulid=t=>e.check(i1(og,t)),e.base64=t=>e.check(i7(oR,t)),e.base64url=t=>e.check(ne(oP,t)),e.xid=t=>e.check(i6(ov,t)),e.ksuid=t=>e.check(i4(ow,t)),e.ipv4=t=>e.check(i2(o_,t)),e.ipv6=t=>e.check(i8(oI,t)),e.cidrv4=t=>e.check(i5(oS,t)),e.cidrv6=t=>e.check(i9(oT,t)),e.e164=t=>e.check(nt(oN,t)),e.datetime=t=>e.check(aD(t)),e.date=t=>e.check(aj(t)),e.time=t=>e.check(aC(t)),e.duration=t=>e.check(az(t))});function a2(e){return iq(a4,e)}let a8=u("ZodStringFormat",(e,t)=>{ri.init(e,t),a6.init(e,t)}),a3=u("ZodEmail",(e,t)=>{ro.init(e,t),a8.init(e,t)});function a5(e){return iM(a3,e)}let a9=u("ZodGUID",(e,t)=>{rn.init(e,t),a8.init(e,t)});function a7(e){return iK(a9,e)}let oe=u("ZodUUID",(e,t)=>{ra.init(e,t),a8.init(e,t)});function ot(e){return iB(oe,e)}function or(e){return iF(oe,e)}function oi(e){return iW(oe,e)}function on(e){return iJ(oe,e)}let oa=u("ZodURL",(e,t)=>{rs.init(e,t),a8.init(e,t)});function oo(e){return iG(oa,e)}function os(e){return iG(oa,{protocol:/^https?$/,hostname:aT.domain,...aO.normalizeParams(e)})}let ol=u("ZodEmoji",(e,t)=>{rl.init(e,t),a8.init(e,t)});function ou(e){return iQ(ol,e)}let oc=u("ZodNanoID",(e,t)=>{ru.init(e,t),a8.init(e,t)});function od(e){return iX(oc,e)}let op=u("ZodCUID",(e,t)=>{rc.init(e,t),a8.init(e,t)});function of(e){return iY(op,e)}let om=u("ZodCUID2",(e,t)=>{rd.init(e,t),a8.init(e,t)});function oh(e){return i0(om,e)}let og=u("ZodULID",(e,t)=>{rp.init(e,t),a8.init(e,t)});function oy(e){return i1(og,e)}let ov=u("ZodXID",(e,t)=>{rf.init(e,t),a8.init(e,t)});function ob(e){return i6(ov,e)}let ow=u("ZodKSUID",(e,t)=>{rm.init(e,t),a8.init(e,t)});function ok(e){return i4(ow,e)}let o_=u("ZodIPv4",(e,t)=>{rb.init(e,t),a8.init(e,t)});function ox(e){return i2(o_,e)}let o$=u("ZodMAC",(e,t)=>{rk.init(e,t),a8.init(e,t)});function oA(e){return i3(o$,e)}let oI=u("ZodIPv6",(e,t)=>{rw.init(e,t),a8.init(e,t)});function oE(e){return i8(oI,e)}let oS=u("ZodCIDRv4",(e,t)=>{r_.init(e,t),a8.init(e,t)});function oU(e){return i5(oS,e)}let oT=u("ZodCIDRv6",(e,t)=>{rx.init(e,t),a8.init(e,t)});function oO(e){return i9(oT,e)}let oR=u("ZodBase64",(e,t)=>{rA.init(e,t),a8.init(e,t)});function oD(e){return i7(oR,e)}let oP=u("ZodBase64URL",(e,t)=>{rE.init(e,t),a8.init(e,t)});function oj(e){return ne(oP,e)}let oN=u("ZodE164",(e,t)=>{rS.init(e,t),a8.init(e,t)});function oC(e){return nt(oN,e)}let oZ=u("ZodJWT",(e,t)=>{rT.init(e,t),a8.init(e,t)});function oz(e){return nr(oZ,e)}let oL=u("ZodCustomStringFormat",(e,t)=>{rO.init(e,t),a8.init(e,t)});function oH(e,t,r={}){return aI(oL,e,t,r)}function oq(e){return aI(oL,"hostname",aT.hostname,e)}function oV(e){return aI(oL,"hex",aT.hex,e)}function oM(e,t){let r=t?.enc??"hex",i=`${e}_${r}`,n=aT[i];if(!n)throw Error(`Unrecognized hash format: ${i}`);return aI(oL,i,n,t)}let oK=u("ZodNumber",(e,t)=>{rR.init(e,t),a1.init(e,t),e.gt=(t,r)=>e.check(nR(t,r)),e.gte=(t,r)=>e.check(nD(t,r)),e.min=(t,r)=>e.check(nD(t,r)),e.lt=(t,r)=>e.check(nT(t,r)),e.lte=(t,r)=>e.check(nO(t,r)),e.max=(t,r)=>e.check(nO(t,r)),e.int=t=>e.check(oW(t)),e.safe=t=>e.check(oW(t)),e.positive=t=>e.check(nR(0,t)),e.nonnegative=t=>e.check(nD(0,t)),e.negative=t=>e.check(nT(0,t)),e.nonpositive=t=>e.check(nO(0,t)),e.multipleOf=(t,r)=>e.check(nZ(t,r)),e.step=(t,r)=>e.check(nZ(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function oB(e){return ns(oK,e)}let oF=u("ZodNumberFormat",(e,t)=>{rD.init(e,t),oK.init(e,t)});function oW(e){return nu(oF,e)}function oJ(e){return nc(oF,e)}function oG(e){return nd(oF,e)}function oQ(e){return np(oF,e)}function oX(e){return nf(oF,e)}let oY=u("ZodBoolean",(e,t)=>{rP.init(e,t),a1.init(e,t)});function o0(e){return nm(oY,e)}let o1=u("ZodBigInt",(e,t)=>{rj.init(e,t),a1.init(e,t),e.gte=(t,r)=>e.check(nD(t,r)),e.min=(t,r)=>e.check(nD(t,r)),e.gt=(t,r)=>e.check(nR(t,r)),e.gte=(t,r)=>e.check(nD(t,r)),e.min=(t,r)=>e.check(nD(t,r)),e.lt=(t,r)=>e.check(nT(t,r)),e.lte=(t,r)=>e.check(nO(t,r)),e.max=(t,r)=>e.check(nO(t,r)),e.positive=t=>e.check(nR(BigInt(0),t)),e.negative=t=>e.check(nT(BigInt(0),t)),e.nonpositive=t=>e.check(nO(BigInt(0),t)),e.nonnegative=t=>e.check(nD(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(nZ(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function o6(e){return ng(o1,e)}let o4=u("ZodBigIntFormat",(e,t)=>{rN.init(e,t),o1.init(e,t)});function o2(e){return nv(o4,e)}function o8(e){return nb(o4,e)}let o3=u("ZodSymbol",(e,t)=>{rC.init(e,t),a1.init(e,t)});function o5(e){return nw(o3,e)}let o9=u("ZodUndefined",(e,t)=>{rZ.init(e,t),a1.init(e,t)});function o7(e){return nk(o9,e)}let se=u("ZodNull",(e,t)=>{rz.init(e,t),a1.init(e,t)});function st(e){return n_(se,e)}let sr=u("ZodAny",(e,t)=>{rL.init(e,t),a1.init(e,t)});function si(){return nx(sr)}let sn=u("ZodUnknown",(e,t)=>{rH.init(e,t),a1.init(e,t)});function sa(){return n$(sn)}let so=u("ZodNever",(e,t)=>{rq.init(e,t),a1.init(e,t)});function ss(e){return nA(so,e)}let sl=u("ZodVoid",(e,t)=>{rV.init(e,t),a1.init(e,t)});function su(e){return nI(sl,e)}let sc=u("ZodDate",(e,t)=>{rM.init(e,t),a1.init(e,t),e.min=(t,r)=>e.check(nD(t,r)),e.max=(t,r)=>e.check(nO(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function sd(e){return nE(sc,e)}let sp=u("ZodArray",(e,t)=>{rB.init(e,t),a1.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(nV(t,r)),e.nonempty=t=>e.check(nV(1,t)),e.max=(t,r)=>e.check(nq(t,r)),e.length=(t,r)=>e.check(nM(t,r)),e.unwrap=()=>e.element});function sf(e,t){return n8(sp,e,t)}function sm(e){return sj(Object.keys(e._zod.def.shape))}let sh=u("ZodObject",(e,t)=>{rQ.init(e,t),a1.init(e,t),aO.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>sj(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:sa()}),e.loose=()=>e.clone({...e._zod.def,catchall:sa()}),e.strict=()=>e.clone({...e._zod.def,catchall:ss()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>aO.extend(e,t),e.safeExtend=t=>aO.safeExtend(e,t),e.merge=t=>aO.merge(e,t),e.pick=t=>aO.pick(e,t),e.omit=t=>aO.omit(e,t),e.partial=(...t)=>aO.partial(sV,e,t[0]),e.required=(...t)=>aO.required(sX,e,t[0])});function sg(e,t){return new sh({type:"object",shape:e??{},...aO.normalizeParams(t)})}function sy(e,t){return new sh({type:"object",shape:e,catchall:ss(),...aO.normalizeParams(t)})}function sv(e,t){return new sh({type:"object",shape:e,catchall:sa(),...aO.normalizeParams(t)})}let sb=u("ZodUnion",(e,t)=>{rY.init(e,t),a1.init(e,t),e.options=t.options});function sw(e,t){return new sb({type:"union",options:e,...aO.normalizeParams(t)})}let sk=u("ZodDiscriminatedUnion",(e,t)=>{sb.init(e,t),r0.init(e,t)});function s_(e,t,r){return new sk({type:"union",options:t,discriminator:e,...aO.normalizeParams(r)})}let sx=u("ZodIntersection",(e,t)=>{r1.init(e,t),a1.init(e,t)});function s$(e,t){return new sx({type:"intersection",left:e,right:t})}let sA=u("ZodTuple",(e,t)=>{r4.init(e,t),a1.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function sI(e,t,r){let i=t instanceof rt,n=i?r:t;return new sA({type:"tuple",items:e,rest:i?t:null,...aO.normalizeParams(n)})}let sE=u("ZodRecord",(e,t)=>{r8.init(e,t),a1.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function sS(e,t,r){return new sE({type:"record",keyType:e,valueType:t,...aO.normalizeParams(r)})}function sU(e,t,r){let i=F(e);return i._zod.values=void 0,new sE({type:"record",keyType:i,valueType:t,...aO.normalizeParams(r)})}let sT=u("ZodMap",(e,t)=>{r3.init(e,t),a1.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function sO(e,t,r){return new sT({type:"map",keyType:e,valueType:t,...aO.normalizeParams(r)})}let sR=u("ZodSet",(e,t)=>{r9.init(e,t),a1.init(e,t),e.min=(...t)=>e.check(nL(...t)),e.nonempty=t=>e.check(nL(1,t)),e.max=(...t)=>e.check(nz(...t)),e.size=(...t)=>e.check(nH(...t))});function sD(e,t){return new sR({type:"set",valueType:e,...aO.normalizeParams(t)})}let sP=u("ZodEnum",(e,t)=>{ie.init(e,t),a1.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let n={};for(let i of e)if(r.has(i))n[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new sP({...t,checks:[],...aO.normalizeParams(i),entries:n})},e.exclude=(e,i)=>{let n={...t.entries};for(let t of e)if(r.has(t))delete n[t];else throw Error(`Key ${t} not found in enum`);return new sP({...t,checks:[],...aO.normalizeParams(i),entries:n})}});function sj(e,t){return new sP({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...aO.normalizeParams(t)})}function sN(e,t){return new sP({type:"enum",entries:e,...aO.normalizeParams(t)})}let sC=u("ZodLiteral",(e,t)=>{it.init(e,t),a1.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function sZ(e,t){return new sC({type:"literal",values:Array.isArray(e)?e:[e],...aO.normalizeParams(t)})}let sz=u("ZodFile",(e,t)=>{ir.init(e,t),a1.init(e,t),e.min=(t,r)=>e.check(nL(t,r)),e.max=(t,r)=>e.check(nz(t,r)),e.mime=(t,r)=>e.check(nX(Array.isArray(t)?t:[t],r))});function sL(e){return ao(sz,e)}let sH=u("ZodTransform",(e,t)=>{ii.init(e,t),a1.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new p(e.constructor.name);r.addIssue=i=>{"string"==typeof i?r.issues.push(aO.issue(i,r.value,t)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(aO.issue(i)))};let n=t.transform(r.value,r);return n instanceof Promise?n.then(e=>(r.value=e,r)):(r.value=n,r)}});function sq(e){return new sH({type:"transform",transform:e})}let sV=u("ZodOptional",(e,t)=>{io.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sM(e){return new sV({type:"optional",innerType:e})}let sK=u("ZodNullable",(e,t)=>{is.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sB(e){return new sK({type:"nullable",innerType:e})}function sF(e){return sM(sB(e))}let sW=u("ZodDefault",(e,t)=>{il.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function sJ(e,t){return new sW({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():aO.shallowClone(t)}})}let sG=u("ZodPrefault",(e,t)=>{ic.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sQ(e,t){return new sG({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():aO.shallowClone(t)}})}let sX=u("ZodNonOptional",(e,t)=>{id.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sY(e,t){return new sX({type:"nonoptional",innerType:e,...aO.normalizeParams(t)})}let s0=u("ZodSuccess",(e,t)=>{im.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function s1(e){return new s0({type:"success",innerType:e})}let s6=u("ZodCatch",(e,t)=>{ih.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function s4(e,t){return new s6({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let s2=u("ZodNaN",(e,t)=>{ig.init(e,t),a1.init(e,t)});function s8(e){return nU(s2,e)}let s3=u("ZodPipe",(e,t)=>{iy.init(e,t),a1.init(e,t),e.in=t.in,e.out=t.out});function s5(e,t){return new s3({type:"pipe",in:e,out:t})}let s9=u("ZodCodec",(e,t)=>{s3.init(e,t),ib.init(e,t)});function s7(e,t,r){return new s9({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let le=u("ZodReadonly",(e,t)=>{i_.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lt(e){return new le({type:"readonly",innerType:e})}let lr=u("ZodTemplateLiteral",(e,t)=>{i$.init(e,t),a1.init(e,t)});function li(e,t){return new lr({type:"template_literal",parts:e,...aO.normalizeParams(t)})}let ln=u("ZodLazy",(e,t)=>{iE.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.getter()});function la(e){return new ln({type:"lazy",getter:e})}let lo=u("ZodPromise",(e,t)=>{iI.init(e,t),a1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ls(e){return new lo({type:"promise",innerType:e})}let ll=u("ZodFunction",(e,t)=>{iA.init(e,t),a1.init(e,t)});function lu(e){return new ll({type:"function",input:Array.isArray(e?.input)?sI(e?.input):e?.input??sf(sa()),output:e?.output??sa()})}let lc=u("ZodCustom",(e,t)=>{iS.init(e,t),a1.init(e,t)});function ld(e){let t=new tz({check:"custom"});return t._zod.check=e,t}function lp(e,t){return ab(lc,e??(()=>!0),t)}function lf(e,t={}){return aw(lc,e,t)}function lm(e){return ak(e)}let lh=ax,lg=a$;function ly(e,t={error:`Input not instance of ${e.name}`}){let r=new lc({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...aO.normalizeParams(t)});return r._zod.bag.Class=e,r}let lv=(...e)=>aA({Codec:s9,Boolean:oY,String:a4},...e);function lb(e){let t=la(()=>sw([a2(e),oB(),o0(),st(),sf(t),sS(a2(),t)]));return t}function lw(e,t){return s5(sq(e),t)}let lk={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511};var l_=class extends Error{constructor(e="INTERNAL_SERVER_ERROR",t,r={},i="number"==typeof e?e:lk[e]){super(t?.message,t?.cause?{cause:t.cause}:void 0),this.status=e,this.body=t,this.headers=r,this.statusCode=i,this.name="APIError",this.status=e,this.headers=r,this.statusCode=i,this.body=t?{code:t?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...t}:void 0}},lx=class extends l_{constructor(e,t){super(400,{message:e,code:"VALIDATION_ERROR"}),this.message=e,this.issues=t,this.issues=t}},l$=class extends Error{constructor(e){super(e),this.name="BetterCallError"}};let lA=function(e,t){class r extends e{#e;constructor(...e){if(function(){let e=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===e?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(e,"writable")?e.writable:void 0!==e.set}()){const t=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...e),Error.stackTraceLimit=t}else super(...e);const t=Error().stack;t&&(this.#e=function(e){let t=e.split("\n    at ");return t.length<=1?e:(t.splice(1,1),t.join("\n    at "))}(t.replace(/^Error/,this.name)))}get errorStack(){return this.#e}}return Object.defineProperty(r.prototype,"constructor",{get:()=>t,enumerable:!1,configurable:!0}),r}(l_,Error),lI=/^application\/([a-z0-9.+-]*\+)?json/i;async function lE(e,t){let r=e.headers.get("content-type")||"",i=r.toLowerCase();if(e.body){if(t&&t.length>0&&!t.some(e=>{let t=i.split(";")[0].trim(),r=e.toLowerCase().trim();return t===r||t.includes(r)})){if(!i)throw new lA(415,{message:`Content-Type is required. Allowed types: ${t.join(", ")}`,code:"UNSUPPORTED_MEDIA_TYPE"});throw new lA(415,{message:`Content-Type "${r}" is not allowed. Allowed types: ${t.join(", ")}`,code:"UNSUPPORTED_MEDIA_TYPE"})}if(lI.test(i))return await e.json();if(i.includes("application/x-www-form-urlencoded")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e.toString()}),r}if(i.includes("multipart/form-data")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e}),r}return i.includes("text/plain")?await e.text():i.includes("application/octet-stream")?await e.arrayBuffer():i.includes("application/pdf")||i.includes("image/")||i.includes("video/")?await e.blob():i.includes("application/stream")||e.body instanceof ReadableStream?e.body:await e.text()}}function lS(e){return e instanceof lA||e?.name==="APIError"}async function lU(e){try{return{data:await e,error:null}}catch(e){return{data:null,error:e}}}function lT(e,t){if(e instanceof Response)return t?.headers instanceof Headers&&t.headers.forEach((t,r)=>{e.headers.set(r,t)}),e;if(e&&"object"==typeof e&&"_flag"in e&&"json"===e._flag){let r=e.body,i=e.routerResponse;if(i instanceof Response)return i;let n=new Headers;if(i?.headers){let e=new Headers(i.headers);for(let[t,r]of e.entries())e.set(t,r)}if(e.headers)for(let[t,r]of new Headers(e.headers).entries())n.set(t,r);if(t?.headers)for(let[e,r]of new Headers(t.headers).entries())n.set(e,r);return n.set("Content-Type","application/json"),new Response(JSON.stringify(r),{...i,headers:n,status:e.status??t?.status??i?.status,statusText:t?.statusText??i?.statusText})}if(lS(e))return lT(e.body,{status:t?.status??e.statusCode,statusText:e.status.toString(),headers:t?.headers||e.headers});let r=e,i=new Headers(t?.headers);if(e){if("string"==typeof e)r=e,i.set("Content-Type","text/plain");else if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))r=e,i.set("Content-Type","application/octet-stream");else if(e instanceof Blob)r=e,i.set("Content-Type",e.type||"application/octet-stream");else if(e instanceof FormData)r=e;else if(e instanceof URLSearchParams)r=e,i.set("Content-Type","application/x-www-form-urlencoded");else if(e instanceof ReadableStream)r=e,i.set("Content-Type","application/octet-stream");else if(function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(e)){let t,n;t=0,n=new WeakMap,r=JSON.stringify(e,(e,r)=>{if("bigint"==typeof r)return r.toString();if("object"==typeof r&&null!==r){if(n.has(r))return`[Circular ref-${n.get(r)}]`;n.set(r,t++)}return r},void 0),i.set("Content-Type","application/json")}}else null===e&&(r=JSON.stringify(null)),i.set("content-type","application/json");return new Response(r,{...t,headers:i})}async function lO(e,t={}){let r={body:t.body,query:t.query};if(e.body){let i=await e.body["~standard"].validate(t.body);if(i.issues)return{data:null,error:lR(i.issues,"body")};r.body=i.value}if(e.query){let i=await e.query["~standard"].validate(t.query);if(i.issues)return{data:null,error:lR(i.issues,"query")};r.query=i.value}return e.requireHeaders&&!t.headers?{data:null,error:{message:"Headers is required",issues:[]}}:e.requireRequest&&!t.request?{data:null,error:{message:"Request is required",issues:[]}}:{data:r,error:null}}function lR(e,t){return{message:e.map(e=>`[${e.path?.length?`${t}.`+e.path.map(e=>"object"==typeof e?e.key:e).join("."):t}] ${e.message}`).join("; "),issues:e}}let lD={name:"HMAC",hash:"SHA-256"},lP=async e=>{let t="string"==typeof e?new TextEncoder().encode(e):e;return await r().importKey("raw",t,lD,!1,["sign","verify"])},lj=async(e,t,i)=>{try{let n=atob(e),a=new Uint8Array(n.length);for(let e=0,t=n.length;e<t;e++)a[e]=n.charCodeAt(e);return await r().verify(lD,i,a,new TextEncoder().encode(t))}catch(e){return!1}},lN=async(e,t)=>{let i=await lP(t);return btoa(String.fromCharCode(...new Uint8Array(await r().sign(lD.name,i,new TextEncoder().encode(e)))))},lC=async(e,t)=>{let r=await lN(e,t);return encodeURIComponent(e=`${e}.${r}`)},lZ=(e,t)=>{let r=e;if(t)if("secure"===t)r="__Secure-"+e;else{if("host"!==t)return;r="__Host-"+e}return r},lz=(e,t,r={})=>{let i;if(i=r?.prefix==="secure"?`__Secure-${e}=${t}`:r?.prefix==="host"?`__Host-${e}=${t}`:`${e}=${t}`,e.startsWith("__Secure-")&&!r.secure&&(r.secure=!0),e.startsWith("__Host-")&&(r.secure||(r.secure=!0),"/"!==r.path&&(r.path="/"),r.domain&&(r.domain=void 0)),r&&"number"==typeof r.maxAge&&r.maxAge>=0){if(r.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");i+=`; Max-Age=${Math.floor(r.maxAge)}`}if(r.domain&&"host"!==r.prefix&&(i+=`; Domain=${r.domain}`),r.path&&(i+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");i+=`; Expires=${r.expires.toUTCString()}`}return r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite&&(i+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.partitioned&&(r.secure||(r.secure=!0),i+="; Partitioned"),i},lL=async(e,t,r,i)=>lz(e,t=await lC(t,r),i),lH=async(e,{options:t,path:r})=>{let i,n=new Headers,{data:a,error:o}=await lO(t,e);if(o)throw new lx(o.message,o.issues);let s="headers"in e?e.headers instanceof Headers?e.headers:new Headers(e.headers):"request"in e&&e.request instanceof Request?e.request.headers:null,l=s?.get("cookie"),u=l?function(e){if("string"!=typeof e)throw TypeError("argument str must be a string");let t=new Map,r=0;for(;r<e.length;){let i=e.indexOf("=",r);if(-1===i)break;let n=e.indexOf(";",r);if(-1===n)n=e.length;else if(n<i){r=e.lastIndexOf(";",i-1)+1;continue}let a=e.slice(r,i).trim();if(!t.has(a)){let r=e.slice(i+1,n).trim();34===r.codePointAt(0)&&(r=r.slice(1,-1)),t.set(a,function(e){try{return e.includes("%")?decodeURIComponent(e):e}catch{return e}}(r))}r=n+1}return t}(l):void 0,c={...e,body:a.body,query:a.query,path:e.path||r||"virtual:",context:"context"in e&&e.context?e.context:{},returned:void 0,headers:e?.headers,request:e?.request,params:"params"in e?e.params:void 0,method:e.method,setHeader:(e,t)=>{n.set(e,t)},getHeader:e=>s?s.get(e):null,getCookie:(e,t)=>{let r=lZ(e,t);return r&&u?.get(r)||null},getSignedCookie:async(e,t,r)=>{let i=lZ(e,r);if(!i)return null;let n=u?.get(i);if(!n)return null;let a=n.lastIndexOf(".");if(a<1)return null;let o=n.substring(0,a),s=n.substring(a+1);return 44===s.length&&s.endsWith("=")?!!await lj(s,o,await lP(t))&&o:null},setCookie:(e,t,r)=>{var i;let a=lz(e,i=encodeURIComponent(i=t),r);return n.append("set-cookie",a),a},setSignedCookie:async(e,t,r,i)=>{let a=await lL(e,t,r,i);return n.append("set-cookie",a),a},redirect:e=>(n.set("location",e),new lA("FOUND",void 0,n)),error:(e,t,r)=>new lA(e,t,r),setStatus:e=>{i=e},json:(t,r)=>e.asResponse?{body:r?.body||t,routerResponse:r,_flag:"json"}:t,responseHeaders:n,get responseStatus(){return i}};for(let e of t.use||[]){let t=await e({...c,returnHeaders:!0,asResponse:!1});t.response&&Object.assign(c.context,t.response),t.headers&&t.headers.forEach((e,t)=>{c.responseHeaders.set(t,e)})}return c};function lq(e,t,r){let i="string"==typeof e?e:void 0,n="object"==typeof t?t:e,a="function"==typeof t?t:r;if(("GET"===n.method||"HEAD"===n.method)&&n.body)throw new l$("Body is not allowed with GET or HEAD methods");if(i&&/\/{2,}/.test(i))throw new l$("Path cannot contain consecutive slashes");let o=async(...e)=>{let t=e[0]||{},{data:r,error:o}=await lU(lH(t,{options:n,path:i}));if(o){if(!(o instanceof lx))throw o;throw n.onValidationError&&await n.onValidationError({message:o.message,issues:o.issues}),new lA(400,{message:o.message,code:"VALIDATION_ERROR"})}let s=await a(r).catch(async e=>{if(lS(e)){let r=n.onAPIError;if(r&&await r(e),t.asResponse)return e}throw e}),l=r.responseHeaders,u=r.responseStatus;return t.asResponse?lT(s,{headers:l,status:u}):t.returnHeaders?t.returnStatus?{headers:l,response:s,status:u}:{headers:l,response:s}:t.returnStatus?{response:s,status:u}:s};return o.options=n,o.path=i,o}function lV(e,t){let r=async r=>{let i="function"==typeof e?e:t,n=await lH(r,{options:"function"==typeof e?{}:e,path:"/"});if(!i)throw Error("handler must be defined");let a=await i(n),o=n.responseHeaders;return r.returnHeaders?{headers:o,response:a}:a};return r.options="function"==typeof e?{}:e,r}lq.create=e=>(t,r,i)=>lq(t,{...r,use:[...r?.use||[],...e?.use||[]]},i),lV.create=e=>function(t,r){if("function"==typeof t)return lV({use:e?.use},t);if(!r)throw Error("Middleware handler is required");return lV({...t,method:"*",use:[...e?.use||[],...t.use||[]]},r)};let lM={};function lK(e){switch(e.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function lB(e){let t=[];return e.metadata?.openapi?.parameters?t.push(...e.metadata.openapi.parameters):e.query instanceof sh&&Object.entries(e.query.shape).forEach(([e,r])=>{r instanceof sh&&t.push({name:e,in:"query",schema:{type:lK(r),..."minLength"in r&&r.minLength?{minLength:r.minLength}:{},description:r.description}})}),t}function lF(e){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...e}}async function lW(e,t){return Object.entries(e).forEach(([e,t])=>{let r=t.options;if(!(!t.path||r.metadata?.SERVER_ONLY)&&("GET"===r.method&&(lM[t.path]={get:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:lB(r),responses:lF(r.metadata?.openapi?.responses)}}),"POST"===r.method)){let e=function(e){if(e.metadata?.openapi?.requestBody)return e.metadata.openapi.requestBody;if(e.body&&(e.body instanceof sh||e.body instanceof sV)){let t=e.body.shape;if(!t)return;let r={},i=[];return Object.entries(t).forEach(([e,t])=>{t instanceof sh&&(r[e]={type:lK(t),description:t.description},t instanceof sV||i.push(e))}),{required:!(e.body instanceof sV)&&!!e.body,content:{"application/json":{schema:{type:"object",properties:r,required:i}}}}}}(r);lM[t.path]={post:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:lB(r),...e?{requestBody:e}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:lF(r.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{schemas:{}},security:[{apiKeyCookie:[]}],servers:[{url:t?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:lM}}let lJ=(e,t)=>{if(!t?.openapi?.disabled){let r={path:"/api/reference",...t?.openapi};e.openapi=lq(r.path,{method:"GET"},async t=>{let i,n;return new Response((i=await lW(e),n=r.scalar,`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(i)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${n?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(n.logo)}`:void 0} ,
	   	theme: ${n?.theme||"saturn"},
        metaData: {
			title: ${n?.title||"Open API Reference"},
			description: ${n?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`),{headers:{"Content-Type":"text/html"}})})}let r=n(),i=n();for(let t of Object.values(e))if(!(!t.options||!t.path||t.options?.metadata?.SERVER_ONLY))for(let e of Array.isArray(t.options?.method)?t.options.method:[t.options?.method])s(r,e,t.path,t);if(t?.routerMiddleware?.length)for(let{path:e,middleware:r}of t.routerMiddleware)s(i,"*",e,r);let l=async e=>{let n=new URL(e.url),s=n.pathname,l=t?.basePath&&"/"!==t.basePath?s.split(t.basePath).reduce((e,r,i)=>(0!==i&&(i>1?e.push(`${t.basePath}${r}`):e.push(r)),e),[]).join(""):n.pathname;if(!l?.length||/\/{2,}/.test(l))return new Response(null,{status:404,statusText:"Not Found"});let u=function(e,t="",r,i){47===r.charCodeAt(r.length-1)&&(r=r.slice(0,-1));let n=e.static[r];if(n&&n.methods){let e=n.methods[t]||n.methods[""];if(void 0!==e)return e[0]}let s=a(r),l=function e(t,r,i,n,a){if(a===n.length){if(r.methods){let e=r.methods[i]||r.methods[""];if(e)return e}if(r.param&&r.param.methods){let e=r.param.methods[i]||r.param.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[i]||r.wildcard.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}return}let o=n[a];if(r.static){let s=r.static[o];if(s){let r=e(t,s,i,n,a+1);if(r)return r}}if(r.param){let s=e(t,r.param,i,n,a+1);if(s){if(r.param.hasRegexParam){let e=s.find(e=>e.paramsRegexp[a]?.test(o))||s.find(e=>!e.paramsRegexp[a]);return e?[e]:void 0}return s}}if(r.wildcard&&r.wildcard.methods)return r.wildcard.methods[i]||r.wildcard.methods[""]}(e,e.root,t,s,0)?.[0];if(void 0!==l)return{data:l.data,params:l.paramsMap?o(s,l.paramsMap):void 0}}(r,e.method,l);if(l.endsWith("/")!==u?.data?.path?.endsWith("/")&&!t?.skipTrailingSlashes||!u?.data)return new Response(null,{status:404,statusText:"Not Found"});let c={};n.searchParams.forEach((e,t)=>{t in c?Array.isArray(c[t])?c[t].push(e):c[t]=[c[t],e]:c[t]=e});let d=u.data;try{let r=d.options.metadata?.allowedMediaTypes||t?.allowedMediaTypes,n={path:l,method:e.method,headers:e.headers,params:u.params?JSON.parse(JSON.stringify(u.params)):{},request:e,body:d.options.disableBody?void 0:await lE(d.options.cloneRequest?e.clone():e,r),query:c,_flag:"router",asResponse:!0,context:t?.routerContext},s=function(e,t="",r,i){47===r.charCodeAt(r.length-1)&&(r=r.slice(0,-1));let n=a(r);return(function e(t,r,i,n,a,o=[]){let s=n[a];if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[i]||r.wildcard.methods[""];e&&o.push(...e)}if(r.param&&(e(t,r.param,i,n,a+1,o),a===n.length&&r.param.methods)){let e=r.param.methods[i]||r.param.methods[""];if(e){let t=e[0].paramsMap;t?.[t?.length-1]?.[2]&&o.push(...e)}}let l=r.static?.[s];if(l&&e(t,l,i,n,a+1,o),a===n.length&&r.methods){let e=r.methods[i]||r.methods[""];e&&o.push(...e)}return o})(e,e.root,t,n,0).map(e=>({data:e.data,params:e.paramsMap?o(n,e.paramsMap):void 0}))}(i,"*",l);if(s?.length)for(let{data:e,params:t}of s){let r=await e({...n,params:t,asResponse:!1});if(r instanceof Response)return r}return await d(n)}catch(e){if(t?.onError)try{let r=await t.onError(e);if(r instanceof Response)return lT(r)}catch(e){if(lS(e))return lT(e);throw e}if(t?.throwError)throw e;if(lS(e))return lT(e);return console.error("# SERVER_ERROR: ",e),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async e=>{let r=await t?.onRequest?.(e);if(r instanceof Response)return r;let i=await l(r instanceof Request?r:e),n=await t?.onResponse?.(i);return n instanceof Response?n:i},endpoints:e}};e.s(["APIError",()=>lA,"createEndpoint",()=>lq,"createMiddleware",()=>lV,"createRouter",()=>lJ,"toResponse",()=>lT],31428);let lG=(e,t="ms")=>new Date(Date.now()+("sec"===t?1e3*e:e)),lQ=new WeakMap;function lX(e,t){let r=t.fields,i={};for(let t in e){let n=r[t];if(!n){i[t]=e[t];continue}!1!==n.returned&&(i[t]=e[t])}return i}function lY(e,t){lQ.has(e)||lQ.set(e,new Map);let r=lQ.get(e);if(r.has(t))return r.get(t);let i={..."user"===t?e.user?.additionalFields:{},..."session"===t?e.session?.additionalFields:{}};for(let r of e.plugins||[])r.schema&&r.schema[t]&&(i={...i,...r.schema[t].fields});return lQ.get(e).set(t,i),i}function l0(e,t){return{...lX(t,{fields:lY(e,"user")}),id:t.id}}function l1(e,t){return lX(t,{fields:lY(e,"account")})}function l6(e,t){return lX(t,{fields:lY(e,"session")})}function l4(e,t){let r=t.action||"create",i=t.fields,n=Object.assign(Object.create(null),null);for(let t in i){if(t in e){if(!1===i[t].input){if(void 0!==i[t].defaultValue&&"update"!==r){n[t]=i[t].defaultValue;continue}if(e[t])throw new lA("BAD_REQUEST",{message:`${t} is not allowed to be set`});continue}if(i[t].validator?.input&&void 0!==e[t]){let r=i[t].validator.input["~standard"].validate(e[t]);if(r instanceof Promise)throw new lA("INTERNAL_SERVER_ERROR",{message:"Async validation is not supported for additional fields"});if("issues"in r&&r.issues)throw new lA("BAD_REQUEST",{message:r.issues[0]?.message||"Validation Error"});n[t]=r.value;continue}if(i[t].transform?.input&&void 0!==e[t]){n[t]=i[t].transform?.input(e[t]);continue}n[t]=e[t];continue}if(void 0!==i[t].defaultValue&&"create"===r){if("function"==typeof i[t].defaultValue){n[t]=i[t].defaultValue();continue}n[t]=i[t].defaultValue;continue}if(i[t].required&&"create"===r)throw new lA("BAD_REQUEST",{message:`${t} is required`})}return n}function l2(e,t={},r){return l4(t,{fields:lY(e,"user"),action:r})}function l8(e,t){return l4(t||{},{fields:lY(e,"user")})}function l3(e,t){return l4(t,{fields:lY(e,"account")})}function l5(e,t){return l4(t,{fields:lY(e,"session")})}function l9(e,t){if(!t)return e;for(let r in t){let i=t[r]?.modelName;for(let n in i&&(e[r].modelName=i),e[r].fields){let i=t[r]?.fields?.[n];i&&(e[r].fields[n].fieldName=i)}}return e}e.s(["a",()=>l4,"c",()=>l2,"i",()=>l8,"l",()=>l0,"n",()=>l3,"o",()=>l5,"r",()=>l1,"s",()=>l6,"t",()=>l9,"u",()=>lG],71878)},87191,27761,e=>{"use strict";var t=e.i(62245),r=class{#t=void 0;run(e,t){let r=this.#t;this.#t=e;let i=t();return i instanceof Promise?i.finally(()=>{this.#t=r}):(this.#t=r,i)}getStore(){return this.#t}};let i=import("node:async_hooks").then(e=>e.AsyncLocalStorage).catch(e=>{if("AsyncLocalStorage"in globalThis)return globalThis.AsyncLocalStorage;if(t.c.CONVEX_CLOUD_URL||t.c.CONVEX_SITE_URL)return r;throw console.warn("[better-auth] Warning: AsyncLocalStorage is not available in this environment. Some features may not work as expected."),console.warn("[better-auth] Please read more about this warning at https://better-auth.com/docs/installation#mount-handler"),console.warn("[better-auth] If you are using Cloudflare Workers, please see: https://developers.cloudflare.com/workers/configuration/compatibility-flags/#nodejs-compatibility-flag"),e});async function n(){let e=await i;if(null!==e)return e;throw Error("getAsyncLocalStorage is only available in server code")}e.s(["t",()=>n],87191);let a=null,o=async()=>(a||(a=new(await n())),a);async function s(){return o()}async function l(){let e=(await o()).getStore();if(!e)throw Error("No auth context found. Please make sure you are calling this function within a `runWithEndpointContext` callback.");return e}async function u(e,t){return(await o()).run(e,t)}let c=null,d=async()=>(c||(c=new(await n())),c);async function p(){return d()}async function f(){return void 0!==(await d()).getStore()}async function m(){let e=(await d()).getStore();if(!e)throw Error("No request state found. Please make sure you are calling this function within a `runWithRequestState` callback.");return e}async function h(e,t){return(await d()).run(e,t)}function g(e){let t=Object.freeze({});return{get ref(){return t},async get(){let r=await m();if(!r.has(t)){let i=await e();return r.set(t,i),i}return r.get(t)},async set(e){(await m()).set(t,e)}}}let y=null,v=async()=>(y||(y=new(await n())),y),b=async()=>v(),w=async e=>v().then(t=>t.getStore()||e).catch(()=>e),k=async(e,t)=>v().then(r=>r.run(e,t)).catch(e=>{throw e}),_=async(e,t)=>v().then(r=>e.transaction(async e=>r.run(e,t))).catch(e=>{throw e});e.s(["a",()=>g,"c",()=>f,"d",()=>s,"f",()=>u,"i",()=>_,"l",()=>h,"n",()=>b,"o",()=>m,"r",()=>k,"s",()=>p,"t",()=>w,"u",()=>l],27761)},62810,54048,e=>{"use strict";e.i(82811);var t,r=e.i(7855);e.i(64328);var i=e.i(15874),n=e.i(48804),a=e.i(27438);let o={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function s(e){a.config({customError:e})}function l(){return a.config().customError}t||(t={}),e.s(["ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",0,o,"getErrorMap",()=>l,"setErrorMap",()=>s],33137);var u=e.i(73237);e.i(79113);var c=e.i(51047),d=e.i(62061);function p(e){return d._coercedString(r.ZodString,e)}function f(e){return d._coercedNumber(r.ZodNumber,e)}function m(e){return d._coercedBoolean(r.ZodBoolean,e)}function h(e){return d._coercedBigint(r.ZodBigInt,e)}function g(e){return d._coercedDate(r.ZodDate,e)}e.s(["bigint",()=>h,"boolean",()=>m,"date",()=>g,"number",()=>f,"string",()=>p],34512),(0,a.config)((0,u.default)()),e.s([],54048),e.i(54048);var y=e.i(91812),v=e.i(67021),b=e.i(62429),w=e.i(36608),k=e.i(22824),_=e.i(86618),x=e.i(21131),$=e.i(13609),A=e.i(4623),I=e.i(90881),E=e.i(86146),S=e.i(40809),U=e.i(68382),T=e.i(57032),O=e.i(13928),R=e.i(75412),D=e.i(43041),P=e.i(69696),j=e.i(29970),N=e.i(66203),C=e.i(1643),Z=e.i(85492),z=e.i(97294),L=e.i(68195),H=e.i(49605),q=e.i(26399),V=e.i(4629),M=e.i(52060),K=e.i(98321),B=e.i(20838),F=e.i(48389),W=e.i(34652),J=e.i(88267),G=e.i(83288),Q=e.i(65564),X=e.i(15546),Y=e.i(78074),ee=e.i(74070),et=e.i(73642),er=e.i(6115),ei=e.i(46205),en=e.i(25374),ea=e.i(92205),eo=e.i(68146),es=e.i(14003),el=e.i(91976),eu=e.i(80477),ec=e.i(80440),ed=e.i(87420),ep=e.i(15017),ef=e.i(67304),em=e.i(22104),eh=e.i(24978);e.s(["ar",()=>$.default,"az",()=>A.default,"be",()=>I.default,"bg",()=>E.default,"ca",()=>S.default,"cs",()=>U.default,"da",()=>T.default,"de",()=>O.default,"en",()=>u.default,"eo",()=>R.default,"es",()=>D.default,"fa",()=>P.default,"fi",()=>j.default,"fr",()=>N.default,"frCA",()=>C.default,"he",()=>Z.default,"hu",()=>z.default,"id",()=>L.default,"is",()=>H.default,"it",()=>q.default,"ja",()=>V.default,"ka",()=>M.default,"kh",()=>K.default,"km",()=>B.default,"ko",()=>F.default,"lt",()=>W.default,"mk",()=>J.default,"ms",()=>G.default,"nl",()=>Q.default,"no",()=>X.default,"ota",()=>Y.default,"pl",()=>et.default,"ps",()=>ee.default,"pt",()=>er.default,"ru",()=>ei.default,"sl",()=>en.default,"sv",()=>ea.default,"ta",()=>eo.default,"th",()=>es.default,"tr",()=>el.default,"ua",()=>eu.default,"uk",()=>ec.default,"ur",()=>ed.default,"vi",()=>ep.default,"yo",()=>eh.default,"zhCN",()=>ef.default,"zhTW",()=>em.default],60544);var eg=e.i(60544),ey=e.i(52637),ev=e.i(73911),eb=e.i(7159),ew=e.i(33145);e.s(["$ZodAny",()=>b.$ZodAny,"$ZodArray",()=>b.$ZodArray,"$ZodAsyncError",()=>a.$ZodAsyncError,"$ZodBase64",()=>b.$ZodBase64,"$ZodBase64URL",()=>b.$ZodBase64URL,"$ZodBigInt",()=>b.$ZodBigInt,"$ZodBigIntFormat",()=>b.$ZodBigIntFormat,"$ZodBoolean",()=>b.$ZodBoolean,"$ZodCIDRv4",()=>b.$ZodCIDRv4,"$ZodCIDRv6",()=>b.$ZodCIDRv6,"$ZodCUID",()=>b.$ZodCUID,"$ZodCUID2",()=>b.$ZodCUID2,"$ZodCatch",()=>b.$ZodCatch,"$ZodCheck",()=>w.$ZodCheck,"$ZodCheckBigIntFormat",()=>w.$ZodCheckBigIntFormat,"$ZodCheckEndsWith",()=>w.$ZodCheckEndsWith,"$ZodCheckGreaterThan",()=>w.$ZodCheckGreaterThan,"$ZodCheckIncludes",()=>w.$ZodCheckIncludes,"$ZodCheckLengthEquals",()=>w.$ZodCheckLengthEquals,"$ZodCheckLessThan",()=>w.$ZodCheckLessThan,"$ZodCheckLowerCase",()=>w.$ZodCheckLowerCase,"$ZodCheckMaxLength",()=>w.$ZodCheckMaxLength,"$ZodCheckMaxSize",()=>w.$ZodCheckMaxSize,"$ZodCheckMimeType",()=>w.$ZodCheckMimeType,"$ZodCheckMinLength",()=>w.$ZodCheckMinLength,"$ZodCheckMinSize",()=>w.$ZodCheckMinSize,"$ZodCheckMultipleOf",()=>w.$ZodCheckMultipleOf,"$ZodCheckNumberFormat",()=>w.$ZodCheckNumberFormat,"$ZodCheckOverwrite",()=>w.$ZodCheckOverwrite,"$ZodCheckProperty",()=>w.$ZodCheckProperty,"$ZodCheckRegex",()=>w.$ZodCheckRegex,"$ZodCheckSizeEquals",()=>w.$ZodCheckSizeEquals,"$ZodCheckStartsWith",()=>w.$ZodCheckStartsWith,"$ZodCheckStringFormat",()=>w.$ZodCheckStringFormat,"$ZodCheckUpperCase",()=>w.$ZodCheckUpperCase,"$ZodCodec",()=>b.$ZodCodec,"$ZodCustom",()=>b.$ZodCustom,"$ZodCustomStringFormat",()=>b.$ZodCustomStringFormat,"$ZodDate",()=>b.$ZodDate,"$ZodDefault",()=>b.$ZodDefault,"$ZodDiscriminatedUnion",()=>b.$ZodDiscriminatedUnion,"$ZodE164",()=>b.$ZodE164,"$ZodEmail",()=>b.$ZodEmail,"$ZodEmoji",()=>b.$ZodEmoji,"$ZodEncodeError",()=>a.$ZodEncodeError,"$ZodEnum",()=>b.$ZodEnum,"$ZodError",()=>v.$ZodError,"$ZodFile",()=>b.$ZodFile,"$ZodFunction",()=>b.$ZodFunction,"$ZodGUID",()=>b.$ZodGUID,"$ZodIPv4",()=>b.$ZodIPv4,"$ZodIPv6",()=>b.$ZodIPv6,"$ZodISODate",()=>b.$ZodISODate,"$ZodISODateTime",()=>b.$ZodISODateTime,"$ZodISODuration",()=>b.$ZodISODuration,"$ZodISOTime",()=>b.$ZodISOTime,"$ZodIntersection",()=>b.$ZodIntersection,"$ZodJWT",()=>b.$ZodJWT,"$ZodKSUID",()=>b.$ZodKSUID,"$ZodLazy",()=>b.$ZodLazy,"$ZodLiteral",()=>b.$ZodLiteral,"$ZodMAC",()=>b.$ZodMAC,"$ZodMap",()=>b.$ZodMap,"$ZodNaN",()=>b.$ZodNaN,"$ZodNanoID",()=>b.$ZodNanoID,"$ZodNever",()=>b.$ZodNever,"$ZodNonOptional",()=>b.$ZodNonOptional,"$ZodNull",()=>b.$ZodNull,"$ZodNullable",()=>b.$ZodNullable,"$ZodNumber",()=>b.$ZodNumber,"$ZodNumberFormat",()=>b.$ZodNumberFormat,"$ZodObject",()=>b.$ZodObject,"$ZodObjectJIT",()=>b.$ZodObjectJIT,"$ZodOptional",()=>b.$ZodOptional,"$ZodPipe",()=>b.$ZodPipe,"$ZodPrefault",()=>b.$ZodPrefault,"$ZodPromise",()=>b.$ZodPromise,"$ZodReadonly",()=>b.$ZodReadonly,"$ZodRealError",()=>v.$ZodRealError,"$ZodRecord",()=>b.$ZodRecord,"$ZodRegistry",()=>ey.$ZodRegistry,"$ZodSet",()=>b.$ZodSet,"$ZodString",()=>b.$ZodString,"$ZodStringFormat",()=>b.$ZodStringFormat,"$ZodSuccess",()=>b.$ZodSuccess,"$ZodSymbol",()=>b.$ZodSymbol,"$ZodTemplateLiteral",()=>b.$ZodTemplateLiteral,"$ZodTransform",()=>b.$ZodTransform,"$ZodTuple",()=>b.$ZodTuple,"$ZodType",()=>b.$ZodType,"$ZodULID",()=>b.$ZodULID,"$ZodURL",()=>b.$ZodURL,"$ZodUUID",()=>b.$ZodUUID,"$ZodUndefined",()=>b.$ZodUndefined,"$ZodUnion",()=>b.$ZodUnion,"$ZodUnknown",()=>b.$ZodUnknown,"$ZodVoid",()=>b.$ZodVoid,"$ZodXID",()=>b.$ZodXID,"$brand",()=>a.$brand,"$constructor",()=>a.$constructor,"$input",()=>ey.$input,"$output",()=>ey.$output,"Doc",()=>ev.Doc,"JSONSchema",0,ew,"JSONSchemaGenerator",()=>eb.JSONSchemaGenerator,"NEVER",()=>a.NEVER,"TimePrecision",()=>d.TimePrecision,"_any",()=>d._any,"_array",()=>d._array,"_base64",()=>d._base64,"_base64url",()=>d._base64url,"_bigint",()=>d._bigint,"_boolean",()=>d._boolean,"_catch",()=>d._catch,"_check",()=>d._check,"_cidrv4",()=>d._cidrv4,"_cidrv6",()=>d._cidrv6,"_coercedBigint",()=>d._coercedBigint,"_coercedBoolean",()=>d._coercedBoolean,"_coercedDate",()=>d._coercedDate,"_coercedNumber",()=>d._coercedNumber,"_coercedString",()=>d._coercedString,"_cuid",()=>d._cuid,"_cuid2",()=>d._cuid2,"_custom",()=>d._custom,"_date",()=>d._date,"_decode",()=>y._decode,"_decodeAsync",()=>y._decodeAsync,"_default",()=>d._default,"_discriminatedUnion",()=>d._discriminatedUnion,"_e164",()=>d._e164,"_email",()=>d._email,"_emoji",()=>d._emoji,"_encode",()=>y._encode,"_encodeAsync",()=>y._encodeAsync,"_endsWith",()=>d._endsWith,"_enum",()=>d._enum,"_file",()=>d._file,"_float32",()=>d._float32,"_float64",()=>d._float64,"_gt",()=>d._gt,"_gte",()=>d._gte,"_guid",()=>d._guid,"_includes",()=>d._includes,"_int",()=>d._int,"_int32",()=>d._int32,"_int64",()=>d._int64,"_intersection",()=>d._intersection,"_ipv4",()=>d._ipv4,"_ipv6",()=>d._ipv6,"_isoDate",()=>d._isoDate,"_isoDateTime",()=>d._isoDateTime,"_isoDuration",()=>d._isoDuration,"_isoTime",()=>d._isoTime,"_jwt",()=>d._jwt,"_ksuid",()=>d._ksuid,"_lazy",()=>d._lazy,"_length",()=>d._length,"_literal",()=>d._literal,"_lowercase",()=>d._lowercase,"_lt",()=>d._lt,"_lte",()=>d._lte,"_mac",()=>d._mac,"_map",()=>d._map,"_max",()=>d._max,"_maxLength",()=>d._maxLength,"_maxSize",()=>d._maxSize,"_mime",()=>d._mime,"_min",()=>d._min,"_minLength",()=>d._minLength,"_minSize",()=>d._minSize,"_multipleOf",()=>d._multipleOf,"_nan",()=>d._nan,"_nanoid",()=>d._nanoid,"_nativeEnum",()=>d._nativeEnum,"_negative",()=>d._negative,"_never",()=>d._never,"_nonnegative",()=>d._nonnegative,"_nonoptional",()=>d._nonoptional,"_nonpositive",()=>d._nonpositive,"_normalize",()=>d._normalize,"_null",()=>d._null,"_nullable",()=>d._nullable,"_number",()=>d._number,"_optional",()=>d._optional,"_overwrite",()=>d._overwrite,"_parse",()=>y._parse,"_parseAsync",()=>y._parseAsync,"_pipe",()=>d._pipe,"_positive",()=>d._positive,"_promise",()=>d._promise,"_property",()=>d._property,"_readonly",()=>d._readonly,"_record",()=>d._record,"_refine",()=>d._refine,"_regex",()=>d._regex,"_safeDecode",()=>y._safeDecode,"_safeDecodeAsync",()=>y._safeDecodeAsync,"_safeEncode",()=>y._safeEncode,"_safeEncodeAsync",()=>y._safeEncodeAsync,"_safeParse",()=>y._safeParse,"_safeParseAsync",()=>y._safeParseAsync,"_set",()=>d._set,"_size",()=>d._size,"_slugify",()=>d._slugify,"_startsWith",()=>d._startsWith,"_string",()=>d._string,"_stringFormat",()=>d._stringFormat,"_stringbool",()=>d._stringbool,"_success",()=>d._success,"_superRefine",()=>d._superRefine,"_symbol",()=>d._symbol,"_templateLiteral",()=>d._templateLiteral,"_toLowerCase",()=>d._toLowerCase,"_toUpperCase",()=>d._toUpperCase,"_transform",()=>d._transform,"_trim",()=>d._trim,"_tuple",()=>d._tuple,"_uint32",()=>d._uint32,"_uint64",()=>d._uint64,"_ulid",()=>d._ulid,"_undefined",()=>d._undefined,"_union",()=>d._union,"_unknown",()=>d._unknown,"_uppercase",()=>d._uppercase,"_url",()=>d._url,"_uuid",()=>d._uuid,"_uuidv4",()=>d._uuidv4,"_uuidv6",()=>d._uuidv6,"_uuidv7",()=>d._uuidv7,"_void",()=>d._void,"_xid",()=>d._xid,"clone",()=>b.clone,"config",()=>a.config,"decode",()=>y.decode,"decodeAsync",()=>y.decodeAsync,"describe",()=>d.describe,"encode",()=>y.encode,"encodeAsync",()=>y.encodeAsync,"flattenError",()=>v.flattenError,"formatError",()=>v.formatError,"globalConfig",()=>a.globalConfig,"globalRegistry",()=>ey.globalRegistry,"isValidBase64",()=>b.isValidBase64,"isValidBase64URL",()=>b.isValidBase64URL,"isValidJWT",()=>b.isValidJWT,"locales",0,eg,"meta",()=>d.meta,"parse",()=>y.parse,"parseAsync",()=>y.parseAsync,"prettifyError",()=>v.prettifyError,"regexes",0,x,"registry",()=>ey.registry,"safeDecode",()=>y.safeDecode,"safeDecodeAsync",()=>y.safeDecodeAsync,"safeEncode",()=>y.safeEncode,"safeEncodeAsync",()=>y.safeEncodeAsync,"safeParse",()=>y.safeParse,"safeParseAsync",()=>y.safeParseAsync,"toDotPath",()=>v.toDotPath,"toJSONSchema",()=>eb.toJSONSchema,"treeifyError",()=>v.treeifyError,"util",0,_,"version",()=>k.version],13007);var ek=e.i(13007);e.s(["endsWith",()=>d._endsWith,"gt",()=>d._gt,"gte",()=>d._gte,"includes",()=>d._includes,"length",()=>d._length,"lowercase",()=>d._lowercase,"lt",()=>d._lt,"lte",()=>d._lte,"maxLength",()=>d._maxLength,"maxSize",()=>d._maxSize,"mime",()=>d._mime,"minLength",()=>d._minLength,"minSize",()=>d._minSize,"multipleOf",()=>d._multipleOf,"negative",()=>d._negative,"nonnegative",()=>d._nonnegative,"nonpositive",()=>d._nonpositive,"normalize",()=>d._normalize,"overwrite",()=>d._overwrite,"positive",()=>d._positive,"property",()=>d._property,"regex",()=>d._regex,"size",()=>d._size,"slugify",()=>d._slugify,"startsWith",()=>d._startsWith,"toLowerCase",()=>d._toLowerCase,"toUpperCase",()=>d._toUpperCase,"trim",()=>d._trim,"uppercase",()=>d._uppercase],85648),e.i(85648),e.i(33137),e.s(["$brand",()=>a.$brand,"ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",0,o,"config",()=>a.config,"getErrorMap",()=>l,"setErrorMap",()=>s],63203),e.i(63203);var e_=e.i(67662),ex=e.i(62061),e$=e.i(28343),eA=e.i(34512);e.s(["$brand",()=>a.$brand,"$input",()=>ey.$input,"$output",()=>ey.$output,"NEVER",()=>a.NEVER,"TimePrecision",()=>ex.TimePrecision,"ZodAny",()=>r.ZodAny,"ZodArray",()=>r.ZodArray,"ZodBase64",()=>r.ZodBase64,"ZodBase64URL",()=>r.ZodBase64URL,"ZodBigInt",()=>r.ZodBigInt,"ZodBigIntFormat",()=>r.ZodBigIntFormat,"ZodBoolean",()=>r.ZodBoolean,"ZodCIDRv4",()=>r.ZodCIDRv4,"ZodCIDRv6",()=>r.ZodCIDRv6,"ZodCUID",()=>r.ZodCUID,"ZodCUID2",()=>r.ZodCUID2,"ZodCatch",()=>r.ZodCatch,"ZodCodec",()=>r.ZodCodec,"ZodCustom",()=>r.ZodCustom,"ZodCustomStringFormat",()=>r.ZodCustomStringFormat,"ZodDate",()=>r.ZodDate,"ZodDefault",()=>r.ZodDefault,"ZodDiscriminatedUnion",()=>r.ZodDiscriminatedUnion,"ZodE164",()=>r.ZodE164,"ZodEmail",()=>r.ZodEmail,"ZodEmoji",()=>r.ZodEmoji,"ZodEnum",()=>r.ZodEnum,"ZodError",()=>i.ZodError,"ZodFile",()=>r.ZodFile,"ZodFirstPartyTypeKind",()=>t,"ZodFunction",()=>r.ZodFunction,"ZodGUID",()=>r.ZodGUID,"ZodIPv4",()=>r.ZodIPv4,"ZodIPv6",()=>r.ZodIPv6,"ZodISODate",()=>c.ZodISODate,"ZodISODateTime",()=>c.ZodISODateTime,"ZodISODuration",()=>c.ZodISODuration,"ZodISOTime",()=>c.ZodISOTime,"ZodIntersection",()=>r.ZodIntersection,"ZodIssueCode",0,o,"ZodJWT",()=>r.ZodJWT,"ZodKSUID",()=>r.ZodKSUID,"ZodLazy",()=>r.ZodLazy,"ZodLiteral",()=>r.ZodLiteral,"ZodMAC",()=>r.ZodMAC,"ZodMap",()=>r.ZodMap,"ZodNaN",()=>r.ZodNaN,"ZodNanoID",()=>r.ZodNanoID,"ZodNever",()=>r.ZodNever,"ZodNonOptional",()=>r.ZodNonOptional,"ZodNull",()=>r.ZodNull,"ZodNullable",()=>r.ZodNullable,"ZodNumber",()=>r.ZodNumber,"ZodNumberFormat",()=>r.ZodNumberFormat,"ZodObject",()=>r.ZodObject,"ZodOptional",()=>r.ZodOptional,"ZodPipe",()=>r.ZodPipe,"ZodPrefault",()=>r.ZodPrefault,"ZodPromise",()=>r.ZodPromise,"ZodReadonly",()=>r.ZodReadonly,"ZodRealError",()=>i.ZodRealError,"ZodRecord",()=>r.ZodRecord,"ZodSet",()=>r.ZodSet,"ZodString",()=>r.ZodString,"ZodStringFormat",()=>r.ZodStringFormat,"ZodSuccess",()=>r.ZodSuccess,"ZodSymbol",()=>r.ZodSymbol,"ZodTemplateLiteral",()=>r.ZodTemplateLiteral,"ZodTransform",()=>r.ZodTransform,"ZodTuple",()=>r.ZodTuple,"ZodType",()=>r.ZodType,"ZodULID",()=>r.ZodULID,"ZodURL",()=>r.ZodURL,"ZodUUID",()=>r.ZodUUID,"ZodUndefined",()=>r.ZodUndefined,"ZodUnion",()=>r.ZodUnion,"ZodUnknown",()=>r.ZodUnknown,"ZodVoid",()=>r.ZodVoid,"ZodXID",()=>r.ZodXID,"_ZodString",()=>r._ZodString,"_default",()=>r._default,"_function",()=>r._function,"any",()=>r.any,"array",()=>r.array,"base64",()=>r.base64,"base64url",()=>r.base64url,"bigint",()=>r.bigint,"boolean",()=>r.boolean,"catch",()=>r.catch,"check",()=>r.check,"cidrv4",()=>r.cidrv4,"cidrv6",()=>r.cidrv6,"clone",()=>b.clone,"codec",()=>r.codec,"coerce",0,eA,"config",()=>a.config,"core",0,ek,"cuid",()=>r.cuid,"cuid2",()=>r.cuid2,"custom",()=>r.custom,"date",()=>r.date,"decode",()=>n.decode,"decodeAsync",()=>n.decodeAsync,"describe",()=>r.describe,"discriminatedUnion",()=>r.discriminatedUnion,"e164",()=>r.e164,"email",()=>r.email,"emoji",()=>r.emoji,"encode",()=>n.encode,"encodeAsync",()=>n.encodeAsync,"endsWith",()=>d._endsWith,"enum",()=>r.enum,"file",()=>r.file,"flattenError",()=>v.flattenError,"float32",()=>r.float32,"float64",()=>r.float64,"formatError",()=>v.formatError,"function",()=>r.function,"getErrorMap",()=>l,"globalRegistry",()=>ey.globalRegistry,"gt",()=>d._gt,"gte",()=>d._gte,"guid",()=>r.guid,"hash",()=>r.hash,"hex",()=>r.hex,"hostname",()=>r.hostname,"httpUrl",()=>r.httpUrl,"includes",()=>d._includes,"instanceof",()=>r.instanceof,"int",()=>r.int,"int32",()=>r.int32,"int64",()=>r.int64,"intersection",()=>r.intersection,"ipv4",()=>r.ipv4,"ipv6",()=>r.ipv6,"iso",0,c,"json",()=>r.json,"jwt",()=>r.jwt,"keyof",()=>r.keyof,"ksuid",()=>r.ksuid,"lazy",()=>r.lazy,"length",()=>d._length,"literal",()=>r.literal,"locales",0,eg,"looseObject",()=>r.looseObject,"lowercase",()=>d._lowercase,"lt",()=>d._lt,"lte",()=>d._lte,"mac",()=>r.mac,"map",()=>r.map,"maxLength",()=>d._maxLength,"maxSize",()=>d._maxSize,"meta",()=>r.meta,"mime",()=>d._mime,"minLength",()=>d._minLength,"minSize",()=>d._minSize,"multipleOf",()=>d._multipleOf,"nan",()=>r.nan,"nanoid",()=>r.nanoid,"nativeEnum",()=>r.nativeEnum,"negative",()=>d._negative,"never",()=>r.never,"nonnegative",()=>d._nonnegative,"nonoptional",()=>r.nonoptional,"nonpositive",()=>d._nonpositive,"normalize",()=>d._normalize,"null",()=>r.null,"nullable",()=>r.nullable,"nullish",()=>r.nullish,"number",()=>r.number,"object",()=>r.object,"optional",()=>r.optional,"overwrite",()=>d._overwrite,"parse",()=>n.parse,"parseAsync",()=>n.parseAsync,"partialRecord",()=>r.partialRecord,"pipe",()=>r.pipe,"positive",()=>d._positive,"prefault",()=>r.prefault,"preprocess",()=>r.preprocess,"prettifyError",()=>v.prettifyError,"promise",()=>r.promise,"property",()=>d._property,"readonly",()=>r.readonly,"record",()=>r.record,"refine",()=>r.refine,"regex",()=>d._regex,"regexes",()=>e_.regexes,"registry",()=>ey.registry,"safeDecode",()=>n.safeDecode,"safeDecodeAsync",()=>n.safeDecodeAsync,"safeEncode",()=>n.safeEncode,"safeEncodeAsync",()=>n.safeEncodeAsync,"safeParse",()=>n.safeParse,"safeParseAsync",()=>n.safeParseAsync,"set",()=>r.set,"setErrorMap",()=>s,"size",()=>d._size,"slugify",()=>d._slugify,"startsWith",()=>d._startsWith,"strictObject",()=>r.strictObject,"string",()=>r.string,"stringFormat",()=>r.stringFormat,"stringbool",()=>r.stringbool,"success",()=>r.success,"superRefine",()=>r.superRefine,"symbol",()=>r.symbol,"templateLiteral",()=>r.templateLiteral,"toJSONSchema",()=>eb.toJSONSchema,"toLowerCase",()=>d._toLowerCase,"toUpperCase",()=>d._toUpperCase,"transform",()=>r.transform,"treeifyError",()=>v.treeifyError,"trim",()=>d._trim,"tuple",()=>r.tuple,"uint32",()=>r.uint32,"uint64",()=>r.uint64,"ulid",()=>r.ulid,"undefined",()=>r.undefined,"union",()=>r.union,"unknown",()=>r.unknown,"uppercase",()=>d._uppercase,"url",()=>r.url,"util",()=>e$.util,"uuid",()=>r.uuid,"uuidv4",()=>r.uuidv4,"uuidv6",()=>r.uuidv6,"uuidv7",()=>r.uuidv7,"void",()=>r.void,"xid",()=>r.xid],62810)},71616,68069,e=>{"use strict";e.i(62245),e.i(40659);var t=e.i(55858);e.s([],71616),e.s(["BetterAuthError",()=>t.t],68069)},36447,27235,e=>{"use strict";e.i(62245);var t=e.i(40659);e.s([],36447),e.s(["safeJSONParse",()=>t.n],27235)},94914,30501,82318,32802,63370,65466,42020,97554,9939,72381,49060,24382,19407,e=>{"use strict";let t,r,i;e.i(71616);var n,a=e.i(68069);function o(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function s(e,t,r){let i="",n=0,a=0;for(let r of e)for(n=n<<8|r,a+=8;a>=6;)a-=6,i+=t[n>>a&63];if(a>0&&(i+=t[n<<6-a&63]),r){let e=(4-i.length%4)%4;i+="=".repeat(e)}return i}function l(e,t){let r=new Map;for(let e=0;e<t.length;e++)r.set(t[e],e);let i=[],n=0,a=0;for(let t of e){if("="===t)break;let e=r.get(t);if(void 0===e)throw Error(`Invalid Base64 character: ${t}`);n=n<<6|e,(a+=6)>=8&&(a-=8,i.push(n>>a&255))}return Uint8Array.from(i)}let u={encode(e,t={}){let r=o(!1);return s("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){"string"!=typeof e&&(e=new TextDecoder().decode(e));let t=o(e.includes("-")||e.includes("_"));return l(e,t)}},c={encode(e,t={}){let r=o(!0);return s("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){let t=o(e.includes("-")||e.includes("_"));return l(e,t)}};e.s(["base64",()=>u,"base64Url",()=>c],30501);var d=e.i(96101);function p(e,t){return{digest:async r=>{let i=new TextEncoder,n="string"==typeof r?i.encode(r):r,a=await (0,d.getWebcryptoSubtle)().digest(e,n);return"hex"===t?Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join(""):"base64"===t||"base64url"===t||"base64urlnopad"===t?t.includes("url")?c.encode(a,{padding:"base64urlnopad"!==t}):u.encode(a):a}}}function f(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function m(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function h(e,t,r=""){let i=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,n=e?.length,a=void 0!==t;if(!i||a&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function g(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function y(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function v(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}e.s(["createHash",()=>p],82318);let b=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],w="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,k=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function x(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error('"output" expected Uint8Array of length '+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function $(e){return Uint8Array.from(e)}function A(e=32){let t="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof t?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}function I(e,t=A){let{nonceLength:r}=e;m(r);let i=(e,t)=>{let r=function(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];h(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}(e,t);return t.fill(0),r};return(n,...a)=>({encrypt(o){h(o);let s=t(r),l=e(n,s,...a).encrypt(o);return l instanceof Promise?l.then(e=>i(s,e)):i(s,l)},decrypt(t){h(t);let i=t.subarray(0,r),o=t.subarray(r);return e(n,i,...a).decrypt(o)}})}let E=e=>Uint8Array.from(e.split(""),e=>e.charCodeAt(0)),S=E("expand 16-byte k"),U=E("expand 32-byte k"),T=y(S),O=y(U);function R(e,t){return e<<t|e>>>32-t}function D(e){return e.byteOffset%4==0}let P=0x100000000-1,j=Uint32Array.of();function N(e,t){let{allowShortKeys:r,extendNonceFn:i,counterLength:n,counterRight:a,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return m(n),m(o),f(a),f(r),(t,s,l,u,c=0)=>{let d,p;h(t,void 0,"key"),h(s,void 0,"nonce"),h(l,void 0,"data");let f=l.length;if(void 0===u&&(u=new Uint8Array(f)),h(u,void 0,"output"),m(c),c<0||c>=P)throw Error("arx: counter overflow");if(u.length<f)throw Error(`arx: output (${u.length}) is shorter than data (${f})`);let g=[],b=t.length;if(32===b)g.push(d=$(t)),p=O;else if(16===b&&r)(d=new Uint8Array(32)).set(t),d.set(t,16),p=T,g.push(d);else throw h(t,32,"arx key"),Error("invalid key size");D(s)||g.push(s=$(s));let w=y(d);if(i){if(24!==s.length)throw Error("arx: extended nonce must be 24 bytes");i(p,w,y(s.subarray(0,16)),w),s=s.subarray(16)}let k=16-n;if(k!==s.length)throw Error(`arx: nonce must be ${k} or 16 bytes`);if(12!==k){let e=new Uint8Array(12);e.set(s,a?0:12-s.length),s=e,g.push(s)}return!function(e,t,r,i,n,a,o,s){let l=n.length,u=new Uint8Array(64),c=y(u),d=D(n)&&D(a),p=d?y(n):j,f=d?y(a):j;for(let m=0;m<l;o++){if(e(t,r,i,c,o,s),o>=P)throw Error("arx: counter overflow");let h=Math.min(64,l-m);if(d&&64===h){let e=m/4;if(m%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)f[r=e+t]=p[r]^c[t];m+=64;continue}for(let e=0,t;e<h;e++)a[t=m+e]=n[t]^u[e];m+=h}}(e,p,w,y(s),l,u,c,o),v(...g),u}}function C(e,t){return 255&e[t++]|(255&e[t++])<<8}class Z{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(e){const t=C(e=$(h(e,32,"key")),0),r=C(e,2),i=C(e,4),n=C(e,6),a=C(e,8),o=C(e,10),s=C(e,12),l=C(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|n<<9)&8191,this.r[4]=(n>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|s<<5)&8065,this.r[8]=(s>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=C(e,16+2*t)}process(e,t,r=!1){let{h:i,r:n}=this,a=n[0],o=n[1],s=n[2],l=n[3],u=n[4],c=n[5],d=n[6],p=n[7],f=n[8],m=n[9],h=C(e,t+0),g=C(e,t+2),y=C(e,t+4),v=C(e,t+6),b=C(e,t+8),w=C(e,t+10),k=C(e,t+12),_=C(e,t+14),x=i[0]+(8191&h),$=i[1]+((h>>>13|g<<3)&8191),A=i[2]+((g>>>10|y<<6)&8191),I=i[3]+((y>>>7|v<<9)&8191),E=i[4]+((v>>>4|b<<12)&8191),S=i[5]+(b>>>1&8191),U=i[6]+((b>>>14|w<<2)&8191),T=i[7]+((w>>>11|k<<5)&8191),O=i[8]+((k>>>8|_<<8)&8191),R=i[9]+(_>>>5|2048*!r),D=0,P=0+x*a+5*m*$+5*f*A+5*p*I+5*d*E;D=P>>>13,P&=8191,P+=5*c*S+5*u*U+5*l*T+5*s*O+5*o*R,D+=P>>>13,P&=8191;let j=D+x*o+$*a+5*m*A+5*f*I+5*p*E;D=j>>>13,j&=8191,j+=5*d*S+5*c*U+5*u*T+5*l*O+5*s*R,D+=j>>>13,j&=8191;let N=D+x*s+$*o+A*a+5*m*I+5*f*E;D=N>>>13,N&=8191,N+=5*p*S+5*d*U+5*c*T+5*u*O+5*l*R,D+=N>>>13,N&=8191;let Z=D+x*l+$*s+A*o+I*a+5*m*E;D=Z>>>13,Z&=8191,Z+=5*f*S+5*p*U+5*d*T+5*c*O+5*u*R,D+=Z>>>13,Z&=8191;let z=D+x*u+$*l+A*s+I*o+E*a;D=z>>>13,z&=8191,z+=5*m*S+5*f*U+5*p*T+5*d*O+5*c*R,D+=z>>>13,z&=8191;let L=D+x*c+$*u+A*l+I*s+E*o;D=L>>>13,L&=8191,L+=S*a+5*m*U+5*f*T+5*p*O+5*d*R,D+=L>>>13,L&=8191;let H=D+x*d+$*c+A*u+I*l+E*s;D=H>>>13,H&=8191,H+=S*o+U*a+5*m*T+5*f*O+5*p*R,D+=H>>>13,H&=8191;let q=D+x*p+$*d+A*c+I*u+E*l;D=q>>>13,q&=8191,q+=S*s+U*o+T*a+5*m*O+5*f*R,D+=q>>>13,q&=8191;let V=D+x*f+$*p+A*d+I*c+E*u;D=V>>>13,V&=8191,V+=S*l+U*s+T*o+O*a+5*m*R,D+=V>>>13,V&=8191;let M=D+x*m+$*f+A*p+I*d+E*c;D=M>>>13,M&=8191,M+=S*u+U*l+T*s+O*o+R*a,D+=M>>>13,M&=8191,P=8191&(D=(D=(D<<2)+D|0)+P|0),D>>>=13,j+=D,i[0]=P,i[1]=j,i[2]=N,i[3]=Z,i[4]=z,i[5]=L,i[6]=H,i[7]=q,i[8]=V,i[9]=M}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=i,i=e[t]>>>13,e[t]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+i,i=r[t]>>>13,r[t]&=8191;r[9]-=8192;let n=(1^i)-1;for(let e=0;e<10;e++)r[e]&=n;n=~n;for(let t=0;t<10;t++)e[t]=e[t]&n|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=65535&a;for(let r=1;r<8;r++)a=(e[r]+t[r]|0)+(a>>>16)|0,e[r]=65535&a;v(r)}update(e){g(this),h(e);let{buffer:t,blockLen:r}=this,i=(e=$(e)).length;for(let n=0;n<i;){let a=Math.min(r-this.pos,i-n);if(a===r){for(;r<=i-n;n+=r)this.process(e,n);continue}t.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){v(this.h,this.r,this.buffer,this.pad)}digestInto(e){g(this);h(e,void 0,"output");let t=this.outputLen;if(e.length<t)throw Error("digestInto() expects output buffer of length at least "+t);this.finished=!0;let{buffer:r,h:i}=this,{pos:n}=this;if(n){for(r[n++]=1;n<16;n++)r[n]=0;this.process(r,0,!0)}this.finalize();let a=0;for(let t=0;t<8;t++)e[a++]=i[t]>>>0,e[a++]=i[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let z=(n=e=>new Z(e),(r=(e,t)=>n(t).update(e).digest()).outputLen=(i=n(new Uint8Array(32))).outputLen,r.blockLen=i.blockLen,r.create=e=>n(e),r);function L(e,t,r,i,n,a=20){let o=e[0],s=e[1],l=e[2],u=e[3],c=t[0],d=t[1],p=t[2],f=t[3],m=t[4],h=t[5],g=t[6],y=t[7],v=r[0],b=r[1],w=r[2],k=o,_=s,x=l,$=u,A=c,I=d,E=p,S=f,U=m,T=h,O=g,D=y,P=n,j=v,N=b,C=w;for(let e=0;e<a;e+=2)U=U+(P=R(P^(k=k+A|0),16))|0,k=k+(A=R(A^U,12))|0,U=U+(P=R(P^k,8))|0,A=R(A^U,7),T=T+(j=R(j^(_=_+I|0),16))|0,_=_+(I=R(I^T,12))|0,T=T+(j=R(j^_,8))|0,I=R(I^T,7),O=O+(N=R(N^(x=x+E|0),16))|0,x=x+(E=R(E^O,12))|0,O=O+(N=R(N^x,8))|0,E=R(E^O,7),D=D+(C=R(C^($=$+S|0),16))|0,$=$+(S=R(S^D,12))|0,D=D+(C=R(C^$,8))|0,S=R(S^D,7),O=O+(C=R(C^(k=k+I|0),16))|0,k=k+(I=R(I^O,12))|0,O=O+(C=R(C^k,8))|0,I=R(I^O,7),D=D+(P=R(P^(_=_+E|0),16))|0,_=_+(E=R(E^D,12))|0,D=D+(P=R(P^_,8))|0,E=R(E^D,7),U=U+(j=R(j^(x=x+S|0),16))|0,x=x+(S=R(S^U,12))|0,U=U+(j=R(j^x,8))|0,S=R(S^U,7),T=T+(N=R(N^($=$+A|0),16))|0,$=$+(A=R(A^T,12))|0,T=T+(N=R(N^$,8))|0,A=R(A^T,7);let Z=0;i[Z++]=o+k|0,i[Z++]=s+_|0,i[Z++]=l+x|0,i[Z++]=u+$|0,i[Z++]=c+A|0,i[Z++]=d+I|0,i[Z++]=p+E|0,i[Z++]=f+S|0,i[Z++]=m+U|0,i[Z++]=h+T|0,i[Z++]=g+O|0,i[Z++]=y+D|0,i[Z++]=n+P|0,i[Z++]=v+j|0,i[Z++]=b+N|0,i[Z++]=w+C|0}let H=N(L,{counterRight:!1,counterLength:4,allowShortKeys:!1}),q=N(L,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,r,i){let n=e[0],a=e[1],o=e[2],s=e[3],l=t[0],u=t[1],c=t[2],d=t[3],p=t[4],f=t[5],m=t[6],h=t[7],g=r[0],y=r[1],v=r[2],b=r[3];for(let e=0;e<20;e+=2)p=p+(g=R(g^(n=n+l|0),16))|0,n=n+(l=R(l^p,12))|0,p=p+(g=R(g^n,8))|0,l=R(l^p,7),f=f+(y=R(y^(a=a+u|0),16))|0,a=a+(u=R(u^f,12))|0,f=f+(y=R(y^a,8))|0,u=R(u^f,7),m=m+(v=R(v^(o=o+c|0),16))|0,o=o+(c=R(c^m,12))|0,m=m+(v=R(v^o,8))|0,c=R(c^m,7),h=h+(b=R(b^(s=s+d|0),16))|0,s=s+(d=R(d^h,12))|0,h=h+(b=R(b^s,8))|0,d=R(d^h,7),m=m+(b=R(b^(n=n+u|0),16))|0,n=n+(u=R(u^m,12))|0,m=m+(b=R(b^n,8))|0,u=R(u^m,7),h=h+(g=R(g^(a=a+c|0),16))|0,a=a+(c=R(c^h,12))|0,h=h+(g=R(g^a,8))|0,c=R(c^h,7),p=p+(y=R(y^(o=o+d|0),16))|0,o=o+(d=R(d^p,12))|0,p=p+(y=R(y^o,8))|0,d=R(d^p,7),f=f+(v=R(v^(s=s+l|0),16))|0,s=s+(l=R(l^f,12))|0,f=f+(v=R(v^s,8))|0,l=R(l^f,7);let w=0;i[w++]=n,i[w++]=a,i[w++]=o,i[w++]=s,i[w++]=g,i[w++]=y,i[w++]=v,i[w++]=b},allowShortKeys:!1}),V=new Uint8Array(16),M=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(V.subarray(r))},K=new Uint8Array(32);function B(e,t,r,i,n){var a,o;let s,l;void 0!==n&&h(n,void 0,"AAD");let u=e(t,r,K),c=(a=i.length,o=n?n.length:0,f(!0),(l=new DataView((s=new Uint8Array(16)).buffer,s.byteOffset,s.byteLength)).setBigUint64(0,BigInt(o),!0),l.setBigUint64(8,BigInt(a),!0),s),d=z.create(u);n&&M(d,n),M(d,i),d.update(c);let p=d.digest();return v(u,c),p}let F=e=>(t,r,i)=>({encrypt(n,a){let o=n.length;(a=x(o+16,a,!1)).set(n);let s=a.subarray(0,-16);e(t,r,s,s,1);let l=B(e,t,r,s,i);return a.set(l,o),v(l),a},decrypt(n,a){a=x(n.length-16,a,!1);let o=n.subarray(0,-16),s=n.subarray(-16),l=B(e,t,r,o,i);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}(s,l))throw Error("invalid tag");return a.set(n.subarray(0,-16)),e(t,r,a,a,1),v(l),a}});F(H);let W=((e,t)=>{function r(i,...n){if(h(i,void 0,"key"),!b)throw Error("Non little-endian hardware is not yet supported");void 0!==e.nonceLength&&h(n[0],e.varSizeNonce?void 0:e.nonceLength,"nonce");let a=e.tagLength;a&&void 0!==n[1]&&h(n[1],void 0,"AAD");let o=t(i,...n),s=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");h(t,void 0,"output")}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,h(e),s(o.encrypt.length,t),o.encrypt(e,t)},decrypt(e,t){if(h(e),a&&e.length<a)throw Error('"ciphertext" expected length bigger than tagLength='+a);return s(o.decrypt.length,t),o.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:24,tagLength:16},F(q));function J(e,t=""){if(!Number.isSafeInteger(e)||e<0){let r=t&&`"${t}" `;throw Error(`${r}expected integer >= 0, got ${e}`)}}function G(e,t,r=""){let i=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,n=e?.length,a=void 0!==t;if(!i||a&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function Q(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash must wrapped by utils.createHasher");J(e.outputLen),J(e.blockLen)}function X(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function Y(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ee(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function et(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function er(e,t){return e<<32-t|e>>>t}function ei(e,t){return e<<t|e>>>32-t>>>0}let en=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e},ea="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex;function eo(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}let es=async()=>{};async function el(e,t,r){let i=Date.now();for(let n=0;n<e;n++){r(n);let e=Date.now()-i;e>=0&&e<t||(await es(),i+=e)}}function eu(e,t=""){if("string"==typeof e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}return G(e,void 0,t)}function ec(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options must be object or undefined");return Object.assign(e,t)}class ed{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,t){if(Q(e),G(t,void 0,"key"),this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),ee(i)}update(e){return X(this),this.iHash.update(e),this}digestInto(e){X(this),G(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:a,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ep=(e,t,r)=>new ed(e,t).update(r).digest();ep.create=(e,t)=>new ed(e,t);let ef=Uint8Array.of(0),em=Uint8Array.of(),eh=(e,t,r,i,n)=>{var a;return function(e,t,r,i=32){Q(e),J(i,"length");let n=e.outputLen;if(i>255*n)throw Error("Length must be <= 255*HashLen");let a=Math.ceil(i/n);void 0===r?r=em:G(r,void 0,"info");let o=new Uint8Array(a*n),s=ep.create(e,t),l=s._cloneInto(),u=new Uint8Array(s.outputLen);for(let e=0;e<a;e++)ef[0]=e+1,l.update(0===e?em:u).update(r).update(ef).digestInto(u),o.set(u,n*e),s._cloneInto(l);return s.destroy(),l.destroy(),ee(u,ef),o.slice(0,i)}(e,(a=r,Q(e),void 0===a&&(a=new Uint8Array(e.outputLen)),ep(e,a,t)),i,n)};class eg{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,t,r,i){this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=et(this.buffer)}update(e){X(this),G(e);let{view:t,buffer:r,blockLen:i}=this,n=e.length;for(let a=0;a<n;){let o=Math.min(i-this.pos,n-a);if(o===i){let t=et(e);for(;i<=n-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){X(this);G(e,void 0,"digestInto() output");let t=this.outputLen;if(e.length<t)throw Error('"digestInto() output" expected to be of length >='+t);this.finished=!0;let{buffer:r,view:i,blockLen:n,isLE:a}=this,{pos:o}=this;r[o++]=128,ee(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(i,0),o=0);for(let e=o;e<n;e++)r[e]=0;i.setBigUint64(n-8,BigInt(8*this.length),a),this.process(i,0);let s=et(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen must be aligned to 32bit");let u=l/4,c=this.get();if(u>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,c[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){(e||=new this.constructor).set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=n,e.length=i,e.pos=o,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let ey=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),ev=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),eb=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),ew=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),ek=BigInt(0x100000000-1),e_=BigInt(32),ex=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),e$=new Uint32Array(64);class eA extends eg{constructor(e){super(64,e,8,!1)}get(){let{A:e,B:t,C:r,D:i,E:n,F:a,G:o,H:s}=this;return[e,t,r,i,n,a,o,s]}set(e,t,r,i,n,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)e$[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=e$[e-15],r=e$[e-2],i=er(t,7)^er(t,18)^t>>>3,n=er(r,17)^er(r,19)^r>>>10;e$[e]=n+e$[e-7]+i+e$[e-16]|0}let{A:r,B:i,C:n,D:a,E:o,F:s,G:l,H:u}=this;for(let e=0;e<64;e++){var c,d,p,f;let t=u+(er(o,6)^er(o,11)^er(o,25))+((c=o)&s^~c&l)+ex[e]+e$[e]|0,m=(er(r,2)^er(r,13)^er(r,22))+((d=r)&(p=i)^d&(f=n)^p&f)|0;u=l,l=s,s=o,o=a+t|0,a=n,n=i,i=r,r=t+m|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,n,a,o,s,l,u)}roundClean(){ee(e$)}destroy(){this.set(0,0,0,0,0,0,0,0),ee(this.buffer)}}class eI extends eA{A=0|ey[0];B=0|ey[1];C=0|ey[2];D=0|ey[3];E=0|ey[4];F=0|ey[5];G=0|ey[6];H=0|ey[7];constructor(){super(32)}}let eE=function(e,t=!1){let r=e.length,i=new Uint32Array(r),n=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:o}=function(e,t=!1){return t?{h:Number(e&ek),l:Number(e>>e_&ek)}:{h:0|Number(e>>e_&ek),l:0|Number(e&ek)}}(e[a],t);[i[a],n[a]]=[r,o]}return[i,n]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),eS=eE[0],eU=eE[1],eT=new Uint32Array(80),eO=new Uint32Array(80),eR=function(e,t={}){let r=(t,r)=>e(r).update(t).digest(),i=e(void 0);return r.outputLen=i.outputLen,r.blockLen=i.blockLen,r.create=t=>e(t),Object.assign(r,t),Object.freeze(r)}(()=>new eI,{oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,1])}),eD=new TextEncoder,eP=new TextDecoder;function ej(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let i of e)t.set(i,r),r+=i.length;return t}function eN(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function eC(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return eN(r,t,0),eN(r,e%0x100000000,4),r}function eZ(e){let t=new Uint8Array(4);return eN(t,e),t}function ez(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=i}return t}function eL(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:eP.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=eP.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),i=new Uint8Array(e.length);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function eH(e){let t=e;return("string"==typeof t&&(t=eD.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}e.s(["concat",()=>ej,"decoder",0,eP,"encode",()=>ez,"encoder",0,eD,"uint32be",()=>eZ,"uint64be",()=>eC],32802),e.s(["decode",()=>eL,"encode",()=>eH],63370);let eq=Symbol();class eV extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class eM extends eV{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class eK extends eV{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class eB extends eV{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class eF extends eV{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class eW extends eV{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class eJ extends eV{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class eG extends eV{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class eQ extends eV{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class eX extends eV{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eY extends eV{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class e0 extends eV{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class e1 extends eV{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class e6 extends eV{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class e4 extends eV{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}function e2(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new eF(`Unsupported JWE Algorithm: ${e}`)}}function e8(e,t){if(t.length<<3!==e2(e))throw new eJ("Invalid Initialization Vector length")}function e3(e,t){let r=e.byteLength<<3;if(r!==t)throw new eJ(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)}e.s(["JOSEAlgNotAllowed",()=>eB,"JOSEError",()=>eV,"JOSENotSupported",()=>eF,"JWEDecryptionFailed",()=>eW,"JWEInvalid",()=>eJ,"JWKInvalid",()=>eX,"JWKSInvalid",()=>eY,"JWKSMultipleMatchingKeys",()=>e1,"JWKSNoMatchingKey",()=>e0,"JWKSTimeout",()=>e6,"JWSInvalid",()=>eG,"JWSSignatureVerificationFailed",()=>e4,"JWTClaimValidationFailed",()=>eM,"JWTExpired",()=>eK,"JWTInvalid",()=>eQ],65466);let e5=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);function e9(e){return parseInt(e.name.slice(4),10)}function e7(e,t){if(t&&!e.usages.includes(t))throw TypeError(`CryptoKey does not support this operation, its usages must include ${t}.`)}function te(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==e.algorithm.name)throw e5("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw e5(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==e.algorithm.name)throw e5("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw e5(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw e5("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==e.algorithm.name)throw e5("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==e.algorithm.name)throw e5("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(e9(e.algorithm.hash)!==r)throw e5(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}e7(e,r)}function tt(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let tr=(e,...t)=>tt("Key must be ",e,...t),ti=(e,t,...r)=>tt(`Key for the ${e} algorithm must be `,t,...r);function tn(e){if(!ta(e))throw Error("CryptoKey instance expected")}let ta=e=>{if(e?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return e instanceof CryptoKey}catch{return!1}},to=e=>e?.[Symbol.toStringTag]==="KeyObject",ts=e=>ta(e)||to(e);async function tl(e,t,r,i,n){if(!(r instanceof Uint8Array))throw TypeError(tr(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),o=await crypto.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),s=await crypto.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),l=new Uint8Array(await crypto.subtle.encrypt({iv:i,name:"AES-CBC"},o,t)),u=ej(n,i,l,eC(n.length<<3));return{ciphertext:l,tag:new Uint8Array((await crypto.subtle.sign("HMAC",s,u)).slice(0,a>>3)),iv:i}}async function tu(e,t,r,i,n){let a;r instanceof Uint8Array?a=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(te(r,e,"encrypt"),a=r);let o=new Uint8Array(await crypto.subtle.encrypt({additionalData:n,iv:i,name:"AES-GCM",tagLength:128},a,t)),s=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:s,iv:i}}async function tc(e,t,r,i,n){if(!ta(r)&&!(r instanceof Uint8Array))throw TypeError(tr(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(i)e8(e,i);else i=crypto.getRandomValues(new Uint8Array(e2(e)>>3));switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&e3(r,parseInt(e.slice(-3),10)),tl(e,t,r,i,n);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&e3(r,parseInt(e.slice(1,4),10)),tu(e,t,r,i,n);default:throw new eF("Unsupported JWE Content Encryption Algorithm")}}function td(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function tp(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(te(e,t,r),e)}async function tf(e,t,r){let i=await tp(t,e,"wrapKey");td(i,e);let n=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",n,i,"AES-KW"))}async function tm(e,t,r){let i=await tp(t,e,"unwrapKey");td(i,e);let n=await crypto.subtle.unwrapKey("raw",r,i,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",n))}async function th(e,t){let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))}function tg(e){return ej(eZ(e.length),e)}async function ty(e,t,r){let i=t>>3,n=Math.ceil(i/32),a=new Uint8Array(32*n);for(let t=1;t<=n;t++){let i=new Uint8Array(4+e.length+r.length);i.set(eZ(t),0),i.set(e,4),i.set(r,4+e.length);let n=await th("sha256",i);a.set(n,(t-1)*32)}return a.slice(0,i)}async function tv(e,t,r,i,n=new Uint8Array,a=new Uint8Array){var o;te(e,"ECDH"),te(t,"ECDH","deriveBits");let s=ej(tg(ez(r)),tg(n),tg(a),eZ(i),new Uint8Array);return ty(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,"X25519"===(o=e).algorithm.name?256:Math.ceil(parseInt(o.algorithm.namedCurve.slice(-3),10)/8)<<3)),i,s)}function tb(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===e.algorithm.name}}async function tw(e,t,r,i){if(!(e instanceof Uint8Array)||e.length<8)throw new eJ("PBES2 Salt Input must be 8 or more octets");let n=ej(ez(t),Uint8Array.of(0),e),a=parseInt(t.slice(13,16),10),o={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:n},s=await (i instanceof Uint8Array?crypto.subtle.importKey("raw",i,"PBKDF2",!1,["deriveBits"]):(te(i,t,"deriveBits"),i));return new Uint8Array(await crypto.subtle.deriveBits(o,s,a))}async function tk(e,t,r,i=2048,n=crypto.getRandomValues(new Uint8Array(16))){let a=await tw(n,e,i,t);return{encryptedKey:await tf(e.slice(-6),a,r),p2c:i,p2s:eH(n)}}async function t_(e,t,r,i,n){let a=await tw(n,e,i,t);return tm(e.slice(-6),a,r)}function tx(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let t$=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new eF(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function tA(e,t,r){return te(t,e,"encrypt"),tx(e,t),new Uint8Array(await crypto.subtle.encrypt(t$(e),t,r))}async function tI(e,t,r){return te(t,e,"decrypt"),tx(e,t),new Uint8Array(await crypto.subtle.decrypt(t$(e),t,r))}function tE(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}e.s(["isObject",()=>tE],42020);let tS=e=>tE(e)&&"string"==typeof e.kty;async function tU(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new eF('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new eF('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new eF('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new eF('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new eF('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),i={...e};return"AKP"!==i.kty&&delete i.alg,delete i.use,crypto.subtle.importKey("jwk",i,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let tT=async(e,r,i,n=!1)=>{let a=(t||=new WeakMap).get(e);if(a?.[i])return a[i];let o=await tU({...r,alg:i});return n&&Object.freeze(e),a?a[i]=o:t.set(e,{[i]:o}),o};async function tO(e,r){if(e instanceof Uint8Array||ta(e))return e;if(to(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,r)=>{let i,n=(t||=new WeakMap).get(e);if(n?.[r])return n[r];let a="public"===e.type,o=!!a;if("x25519"===e.asymmetricKeyType){switch(r){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}i=e.toCryptoKey(e.asymmetricKeyType,o,a?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==r&&"Ed25519"!==r)throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(r!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,o,[a?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let t;switch(r){case"RSA-OAEP":t="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":t="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":t="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":t="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(r.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:t},o,a?["encrypt"]:["decrypt"]);i=e.toCryptoKey({name:r.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:t},o,[a?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let t=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!t)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===r&&"P-256"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},o,[a?"verify":"sign"])),"ES384"===r&&"P-384"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},o,[a?"verify":"sign"])),"ES512"===r&&"P-521"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},o,[a?"verify":"sign"])),r.startsWith("ECDH-ES")&&(i=e.toCryptoKey({name:"ECDH",namedCurve:t},o,a?[]:["deriveBits"]))}if(!i)throw TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[r]=i:t.set(e,{[r]:i}),i})(e,r)}catch(e){if(e instanceof TypeError)throw e}let i=e.export({format:"jwk"});return tT(e,i,r)}if(tS(e))return e.k?eL(e.k):tT(e,e,r,!0);throw Error("unreachable")}function tR(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new eF(`Unsupported JWE Algorithm: ${e}`)}}let tD=e=>crypto.getRandomValues(new Uint8Array(tR(e)>>3));async function tP(e){if(to(e))if("secret"!==e.type)return e.export({format:"jwk"});else e=e.export();if(e instanceof Uint8Array)return{kty:"oct",k:eH(e)};if(!ta(e))throw TypeError(tr(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:i,use:n,...a}=await crypto.subtle.exportKey("jwk",e);return"AKP"===a.kty&&(a.alg=i),a}async function tj(e){return tP(e)}async function tN(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},i=await crypto.subtle.generateKey(r,!1,["sign"]),n=new Uint8Array(await crypto.subtle.sign(r,i,e)),a=new Uint8Array(await crypto.subtle.sign(r,i,t)),o=0,s=-1;for(;++s<32;)o|=n[s]^a[s];return 0===o}async function tC(e,t,r,i,n,a){let o,s;if(!(t instanceof Uint8Array))throw TypeError(tr(t,"Uint8Array"));let l=parseInt(e.slice(1,4),10),u=await crypto.subtle.importKey("raw",t.subarray(l>>3),"AES-CBC",!1,["decrypt"]),c=await crypto.subtle.importKey("raw",t.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),d=ej(a,i,r,eC(a.length<<3)),p=new Uint8Array((await crypto.subtle.sign("HMAC",c,d)).slice(0,l>>3));try{o=await tN(n,p)}catch{}if(!o)throw new eW;try{s=new Uint8Array(await crypto.subtle.decrypt({iv:i,name:"AES-CBC"},u,r))}catch{}if(!s)throw new eW;return s}async function tZ(e,t,r,i,n,a){let o;t instanceof Uint8Array?o=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(te(t,e,"decrypt"),o=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},o,ej(r,n)))}catch{throw new eW}}async function tz(e,t,r,i,n,a){if(!ta(t)&&!(t instanceof Uint8Array))throw TypeError(tr(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!i)throw new eJ("JWE Initialization Vector missing");if(!n)throw new eJ("JWE Authentication Tag missing");switch(e8(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&e3(t,parseInt(e.slice(-3),10)),tC(e,t,r,i,n,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&e3(t,parseInt(e.slice(1,4),10)),tZ(e,t,r,i,n,a);default:throw new eF("Unsupported JWE Content Encryption Algorithm")}}async function tL(e,t,r,i){let n=e.slice(0,7),a=await tc(n,r,t,i,new Uint8Array);return{encryptedKey:a.ciphertext,iv:eH(a.iv),tag:eH(a.tag)}}async function tH(e,t,r,i,n){return tz(e.slice(0,7),t,r,i,n,new Uint8Array)}async function tq(e,t,r,i,n={}){let a,o,s;switch(e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let l;if(tn(r),!tb(r))throw new eF("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:u,apv:c}=n;l=n.epk?await tO(n.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:d,y:p,crv:f,kty:m}=await tj(l),h=await tv(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?tR(t):parseInt(e.slice(-5,-2),10),u,c);if(o={epk:{x:d,crv:f,kty:m}},"EC"===m&&(o.epk.y=p),u&&(o.apu=eH(u)),c&&(o.apv=eH(c)),"ECDH-ES"===e){s=h;break}s=i||tD(t);let g=e.slice(-6);a=await tf(g,h,s);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=i||tD(t),tn(r),a=await tA(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=i||tD(t);let{p2c:l,p2s:u}=n;({encryptedKey:a,...o}=await tk(e,r,s,l,u));break}case"A128KW":case"A192KW":case"A256KW":s=i||tD(t),a=await tf(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=i||tD(t);let{iv:l}=n;({encryptedKey:a,...o}=await tL(e,r,s,l));break}default:throw new eF('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:a,parameters:o}}function tV(...e){let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}function tM(e,t,r,i,n){let a;if(void 0!==n.crit&&i?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!a.has(o))throw new eF(`Extension Header Parameter "${o}" is not recognized`);if(void 0===n[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&void 0===i[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(i.crit)}let tK=e=>e?.[Symbol.toStringTag],tB=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let i;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):i=r;break;case e.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):i=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):i="wrapKey";break;case"decrypt"===r:i=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(i&&t.key_ops?.includes?.(i)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0};function tF(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((e,t,r)=>{if(!(t instanceof Uint8Array)){if(tS(t)){if("oct"===t.kty&&"string"==typeof t.k&&tB(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!ts(t))throw TypeError(ti(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${tK(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r);break;default:((e,t,r)=>{if(tS(t))switch(r){case"decrypt":case"sign":if("oct"!==t.kty&&("AKP"===t.kty&&"string"==typeof t.priv||"string"==typeof t.d)&&tB(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if("oct"!==t.kty&&void 0===t.d&&void 0===t.priv&&tB(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!ts(t))throw TypeError(ti(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${tK(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${tK(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${tK(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${tK(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${tK(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)}}class tW{#r;#i;#n;#a;#o;#s;#l;#u;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#r=e}setKeyManagementParameters(e){if(this.#u)throw TypeError("setKeyManagementParameters can only be called once");return this.#u=e,this}setProtectedHeader(e){if(this.#i)throw TypeError("setProtectedHeader can only be called once");return this.#i=e,this}setSharedUnprotectedHeader(e){if(this.#n)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#n=e,this}setUnprotectedHeader(e){if(this.#a)throw TypeError("setUnprotectedHeader can only be called once");return this.#a=e,this}setAdditionalAuthenticatedData(e){return this.#o=e,this}setContentEncryptionKey(e){if(this.#s)throw TypeError("setContentEncryptionKey can only be called once");return this.#s=e,this}setInitializationVector(e){if(this.#l)throw TypeError("setInitializationVector can only be called once");return this.#l=e,this}async encrypt(e,t){let r,i,n,a,o,s;if(!this.#i&&!this.#a&&!this.#n)throw new eJ("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tV(this.#i,this.#a,this.#n))throw new eJ("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let l={...this.#i,...this.#a,...this.#n};if(tM(eJ,new Map,t?.crit,this.#i,l),void 0!==l.zip)throw new eF('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:u,enc:c}=l;if("string"!=typeof u||!u)throw new eJ('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof c||!c)throw new eJ('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#s&&("dir"===u||"ECDH-ES"===u))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${u}`);tF("dir"===u?c:u,e,"encrypt");{let n,a=await tO(e,u);({cek:i,encryptedKey:r,parameters:n}=await tq(u,c,a,this.#s,this.#u)),n&&(t&&eq in t?this.#a?this.#a={...this.#a,...n}:this.setUnprotectedHeader(n):this.#i?this.#i={...this.#i,...n}:this.setProtectedHeader(n))}if(this.#i?o=ez(a=eH(JSON.stringify(this.#i))):(a="",o=new Uint8Array),this.#o){let e=ez(s=eH(this.#o));n=ej(o,ez("."),e)}else n=o;let{ciphertext:d,tag:p,iv:f}=await tc(c,this.#r,i,this.#l,n),m={ciphertext:eH(d)};return f&&(m.iv=eH(f)),p&&(m.tag=eH(p)),r&&(m.encrypted_key=eH(r)),s&&(m.aad=s),this.#i&&(m.protected=a),this.#n&&(m.unprotected=this.#n),this.#a&&(m.header=this.#a),m}}class tJ{#c;constructor(e){this.#c=new tW(e)}setContentEncryptionKey(e){return this.#c.setContentEncryptionKey(e),this}setInitializationVector(e){return this.#c.setInitializationVector(e),this}setProtectedHeader(e){return this.#c.setProtectedHeader(e),this}setKeyManagementParameters(e){return this.#c.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this.#c.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tG=e=>Math.floor(e.getTime()/1e3),tQ=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function tX(e){let t,r=tQ.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let i=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*i);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*i);break;case"day":case"days":case"d":t=Math.round(86400*i);break;case"week":case"weeks":case"w":t=Math.round(604800*i);break;default:t=Math.round(0x1e187e0*i)}return"-"===r[1]||"ago"===r[4]?-t:t}function tY(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let t0=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;function t1(e,t,r={}){var i,n;let a,o;try{a=JSON.parse(eP.decode(t))}catch{}if(!tE(a))throw new eQ("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||t0(e.typ)!==t0(s)))throw new eM('unexpected "typ" JWT header value',a,"typ","check_failed");let{requiredClaims:l=[],issuer:u,subject:c,audience:d,maxTokenAge:p}=r,f=[...l];for(let e of(void 0!==p&&f.push("iat"),void 0!==d&&f.push("aud"),void 0!==c&&f.push("sub"),void 0!==u&&f.push("iss"),new Set(f.reverse())))if(!(e in a))throw new eM(`missing required "${e}" claim`,a,e,"missing");if(u&&!(Array.isArray(u)?u:[u]).includes(a.iss))throw new eM('unexpected "iss" claim value',a,"iss","check_failed");if(c&&a.sub!==c)throw new eM('unexpected "sub" claim value',a,"sub","check_failed");if(d&&(i=a.aud,n="string"==typeof d?[d]:d,"string"==typeof i?!n.includes(i):!(Array.isArray(i)&&n.some(Set.prototype.has.bind(new Set(i))))))throw new eM('unexpected "aud" claim value',a,"aud","check_failed");switch(typeof r.clockTolerance){case"string":o=tX(r.clockTolerance);break;case"number":o=r.clockTolerance;break;case"undefined":o=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:m}=r,h=tG(m||new Date);if((void 0!==a.iat||p)&&"number"!=typeof a.iat)throw new eM('"iat" claim must be a number',a,"iat","invalid");if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new eM('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>h+o)throw new eM('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new eM('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=h-o)throw new eK('"exp" claim timestamp check failed',a,"exp","check_failed")}if(p){let e=h-a.iat;if(e-o>("number"==typeof p?p:tX(p)))throw new eK('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(e<0-o)throw new eM('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a}class t6{#d;constructor(e){if(!tE(e))throw TypeError("JWT Claims Set MUST be an object");this.#d=structuredClone(e)}data(){return eD.encode(JSON.stringify(this.#d))}get iss(){return this.#d.iss}set iss(e){this.#d.iss=e}get sub(){return this.#d.sub}set sub(e){this.#d.sub=e}get aud(){return this.#d.aud}set aud(e){this.#d.aud=e}set jti(e){this.#d.jti=e}set nbf(e){"number"==typeof e?this.#d.nbf=tY("setNotBefore",e):e instanceof Date?this.#d.nbf=tY("setNotBefore",tG(e)):this.#d.nbf=tG(new Date)+tX(e)}set exp(e){"number"==typeof e?this.#d.exp=tY("setExpirationTime",e):e instanceof Date?this.#d.exp=tY("setExpirationTime",tG(e)):this.#d.exp=tG(new Date)+tX(e)}set iat(e){void 0===e?this.#d.iat=tG(new Date):e instanceof Date?this.#d.iat=tY("setIssuedAt",tG(e)):"string"==typeof e?this.#d.iat=tY("setIssuedAt",tG(new Date)+tX(e)):this.#d.iat=tY("setIssuedAt",e)}}class t4{#s;#l;#u;#i;#p;#f;#m;#h;constructor(e={}){this.#h=new t6(e)}setIssuer(e){return this.#h.iss=e,this}setSubject(e){return this.#h.sub=e,this}setAudience(e){return this.#h.aud=e,this}setJti(e){return this.#h.jti=e,this}setNotBefore(e){return this.#h.nbf=e,this}setExpirationTime(e){return this.#h.exp=e,this}setIssuedAt(e){return this.#h.iat=e,this}setProtectedHeader(e){if(this.#i)throw TypeError("setProtectedHeader can only be called once");return this.#i=e,this}setKeyManagementParameters(e){if(this.#u)throw TypeError("setKeyManagementParameters can only be called once");return this.#u=e,this}setContentEncryptionKey(e){if(this.#s)throw TypeError("setContentEncryptionKey can only be called once");return this.#s=e,this}setInitializationVector(e){if(this.#l)throw TypeError("setInitializationVector can only be called once");return this.#l=e,this}replicateIssuerAsHeader(){return this.#p=!0,this}replicateSubjectAsHeader(){return this.#f=!0,this}replicateAudienceAsHeader(){return this.#m=!0,this}async encrypt(e,t){let r=new tJ(this.#h.data());return this.#i&&(this.#p||this.#f||this.#m)&&(this.#i={...this.#i,iss:this.#p?this.#h.iss:void 0,sub:this.#f?this.#h.sub:void 0,aud:this.#m?this.#h.aud:void 0}),r.setProtectedHeader(this.#i),this.#l&&r.setInitializationVector(this.#l),this.#s&&r.setContentEncryptionKey(this.#s),this.#u&&r.setKeyManagementParameters(this.#u),r.encrypt(e,t)}}function t2(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:e};default:throw new eF(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function t8(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(tr(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return!function(e,t,r){switch(t){case"HS256":case"HS384":case"HS512":{if("HMAC"!==e.algorithm.name)throw e5("HMAC");let r=parseInt(t.slice(2),10);if(e9(e.algorithm.hash)!==r)throw e5(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if("RSASSA-PKCS1-v1_5"!==e.algorithm.name)throw e5("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(e9(e.algorithm.hash)!==r)throw e5(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if("RSA-PSS"!==e.algorithm.name)throw e5("RSA-PSS");let r=parseInt(t.slice(2),10);if(e9(e.algorithm.hash)!==r)throw e5(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if("Ed25519"!==e.algorithm.name)throw e5("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":let i;if(i=e.algorithm,i.name!==t)throw e5(t);break;case"ES256":case"ES384":case"ES512":{if("ECDSA"!==e.algorithm.name)throw e5("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw e5(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}e7(e,r)}(t,e,r),t}async function t3(e,t,r){let i=await t8(e,t,"sign");return tx(e,i),new Uint8Array(await crypto.subtle.sign(t2(e,i.algorithm),i,r))}class t5{#d;#i;#a;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#d=e}setProtectedHeader(e){if(this.#i)throw TypeError("setProtectedHeader can only be called once");return this.#i=e,this}setUnprotectedHeader(e){if(this.#a)throw TypeError("setUnprotectedHeader can only be called once");return this.#a=e,this}async sign(e,t){let r,i,n,a;if(!this.#i&&!this.#a)throw new eG("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!tV(this.#i,this.#a))throw new eG("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let o={...this.#i,...this.#a},s=tM(eG,new Map([["b64",!0]]),t?.crit,this.#i,o),l=!0;if(s.has("b64")&&"boolean"!=typeof(l=this.#i.b64))throw new eG('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:u}=o;if("string"!=typeof u||!u)throw new eG('JWS "alg" (Algorithm) Header Parameter missing or invalid');tF(u,e,"sign"),l?i=ez(r=eH(this.#d)):(i=this.#d,r=""),this.#i?a=ez(n=eH(JSON.stringify(this.#i))):(n="",a=new Uint8Array);let c=ej(a,ez("."),i),d=await tO(e,u),p={signature:eH(await t3(u,d,c)),payload:r};return this.#a&&(p.header=this.#a),this.#i&&(p.protected=n),p}}class t9{#c;constructor(e){this.#c=new t5(e)}setProtectedHeader(e){return this.#c.setProtectedHeader(e),this}async sign(e,t){let r=await this.#c.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class t7{#i;#h;constructor(e={}){this.#h=new t6(e)}setIssuer(e){return this.#h.iss=e,this}setSubject(e){return this.#h.sub=e,this}setAudience(e){return this.#h.aud=e,this}setJti(e){return this.#h.jti=e,this}setNotBefore(e){return this.#h.nbf=e,this}setExpirationTime(e){return this.#h.exp=e,this}setIssuedAt(e){return this.#h.iat=e,this}setProtectedHeader(e){return this.#i=e,this}async sign(e,t){let r=new t9(this.#h.data());if(r.setProtectedHeader(this.#i),Array.isArray(this.#i?.crit)&&this.#i.crit.includes("b64")&&!1===this.#i.b64)throw new eQ("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}var re=e.i(63370),re=re;let rt=(e,t)=>{if("string"!=typeof e||!e)throw new eX(`${t} missing or invalid`)};async function rr(e,t){let r,i;if(tS(e))r=e;else if(ts(e))r=await tj(e);else throw TypeError(tr(e,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"AKP":rt(r.alg,'"alg" (Algorithm) Parameter'),rt(r.pub,'"pub" (Public key) Parameter'),i={alg:r.alg,kty:r.kty,pub:r.pub};break;case"EC":rt(r.crv,'"crv" (Curve) Parameter'),rt(r.x,'"x" (X Coordinate) Parameter'),rt(r.y,'"y" (Y Coordinate) Parameter'),i={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":rt(r.crv,'"crv" (Subtype of Key Pair) Parameter'),rt(r.x,'"x" (Public Key) Parameter'),i={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":rt(r.e,'"e" (Exponent) Parameter'),rt(r.n,'"n" (Modulus) Parameter'),i={e:r.e,kty:r.kty,n:r.n};break;case"oct":rt(r.k,'"k" (Key Value) Parameter'),i={k:r.k,kty:r.kty};break;default:throw new eF('"kty" (Key Type) Parameter missing or unsupported')}let n=ez(JSON.stringify(i));return eH(await th(t,n))}async function ri(e,t,r){let i;if(!tE(e))throw TypeError("JWK must be an object");switch(t??=e.alg,i??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return eL(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new eF('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return tU({...e,alg:t,ext:i});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return tU({...e,ext:i});case"EC":case"OKP":return tU({...e,alg:t,ext:i});default:throw new eF('Unsupported "kty" (Key Type) Parameter value')}}async function rn(e,t,r,i,n){switch(e){case"dir":if(void 0!==r)throw new eJ("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new eJ("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let n,a;if(!tE(i.epk))throw new eJ('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(tn(t),!tb(t))throw new eF("ECDH with the provided key is not allowed or not supported by your javascript runtime");let o=await ri(i.epk,e);if(tn(o),void 0!==i.apu){if("string"!=typeof i.apu)throw new eJ('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{n=eL(i.apu)}catch{throw new eJ("Failed to base64url decode the apu")}}if(void 0!==i.apv){if("string"!=typeof i.apv)throw new eJ('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=eL(i.apv)}catch{throw new eJ("Failed to base64url decode the apv")}}let s=await tv(o,t,"ECDH-ES"===e?i.enc:e,"ECDH-ES"===e?tR(i.enc):parseInt(e.slice(-5,-2),10),n,a);if("ECDH-ES"===e)return s;if(void 0===r)throw new eJ("JWE Encrypted Key missing");return tm(e.slice(-6),s,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new eJ("JWE Encrypted Key missing");return tn(t),tI(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new eJ("JWE Encrypted Key missing");if("number"!=typeof i.p2c)throw new eJ('JOSE Header "p2c" (PBES2 Count) missing or invalid');let o=n?.maxPBES2Count||1e4;if(i.p2c>o)throw new eJ('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof i.p2s)throw new eJ('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=eL(i.p2s)}catch{throw new eJ("Failed to base64url decode the p2s")}return t_(e,t,r,i.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new eJ("JWE Encrypted Key missing");return tm(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let n,a;if(void 0===r)throw new eJ("JWE Encrypted Key missing");if("string"!=typeof i.iv)throw new eJ('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof i.tag)throw new eJ('JOSE Header "tag" (Authentication Tag) missing or invalid');try{n=eL(i.iv)}catch{throw new eJ("Failed to base64url decode the iv")}try{a=eL(i.tag)}catch{throw new eJ("Failed to base64url decode the tag")}return tH(e,t,r,n,a)}default:throw new eF('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function ra(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}async function ro(e,t,r){let i,n,a,o,s,l,u;if(!tE(e))throw new eJ("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new eJ("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new eJ("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new eJ("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new eJ("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eJ("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new eJ("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new eJ("JWE AAD incorrect type");if(void 0!==e.header&&!tE(e.header))throw new eJ("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!tE(e.unprotected))throw new eJ("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=eL(e.protected);i=JSON.parse(eP.decode(t))}catch{throw new eJ("JWE Protected Header is invalid")}if(!tV(i,e.header,e.unprotected))throw new eJ("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let c={...i,...e.header,...e.unprotected};if(tM(eJ,new Map,r?.crit,i,c),void 0!==c.zip)throw new eF('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:p}=c;if("string"!=typeof d||!d)throw new eJ("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof p||!p)throw new eJ("missing JWE Encryption Algorithm (enc) in JWE Header");let f=r&&ra("keyManagementAlgorithms",r.keyManagementAlgorithms),m=r&&ra("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(f&&!f.has(d)||!f&&d.startsWith("PBES2"))throw new eB('"alg" (Algorithm) Header Parameter value not allowed');if(m&&!m.has(p))throw new eB('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{n=eL(e.encrypted_key)}catch{throw new eJ("Failed to base64url decode the encrypted_key")}let h=!1;"function"==typeof t&&(t=await t(i,e),h=!0),tF("dir"===d?p:d,t,"decrypt");let g=await tO(t,d);try{a=await rn(d,g,n,c,r)}catch(e){if(e instanceof TypeError||e instanceof eJ||e instanceof eF)throw e;a=tD(p)}if(void 0!==e.iv)try{o=eL(e.iv)}catch{throw new eJ("Failed to base64url decode the iv")}if(void 0!==e.tag)try{s=eL(e.tag)}catch{throw new eJ("Failed to base64url decode the tag")}let y=void 0!==e.protected?ez(e.protected):new Uint8Array;l=void 0!==e.aad?ej(y,ez("."),ez(e.aad)):y;try{u=eL(e.ciphertext)}catch{throw new eJ("Failed to base64url decode the ciphertext")}let v={plaintext:await tz(p,a,u,o,s,l)};if(void 0!==e.protected&&(v.protectedHeader=i),void 0!==e.aad)try{v.additionalAuthenticatedData=eL(e.aad)}catch{throw new eJ("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(v.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(v.unprotectedHeader=e.header),h)?{...v,key:g}:v}async function rs(e,t,r){if(e instanceof Uint8Array&&(e=eP.decode(e)),"string"!=typeof e)throw new eJ("Compact JWE must be a string or Uint8Array");let{0:i,1:n,2:a,3:o,4:s,length:l}=e.split(".");if(5!==l)throw new eJ("Invalid Compact JWE");let u=await ro({ciphertext:o,iv:a||void 0,protected:i,tag:s||void 0,encrypted_key:n||void 0},t,r),c={plaintext:u.plaintext,protectedHeader:u.protectedHeader};return"function"==typeof t?{...c,key:u.key}:c}async function rl(e,t,r){let i=await rs(e,t,r),n=t1(i.protectedHeader,i.plaintext,r),{protectedHeader:a}=i;if(void 0!==a.iss&&a.iss!==n.iss)throw new eM('replicated "iss" claim header parameter mismatch',n,"iss","mismatch");if(void 0!==a.sub&&a.sub!==n.sub)throw new eM('replicated "sub" claim header parameter mismatch',n,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(n.aud))throw new eM('replicated "aud" claim header parameter mismatch',n,"aud","mismatch");let o={payload:n,protectedHeader:a};return"function"==typeof t?{...o,key:i.key}:o}async function ru(e,t,r,i){let n=await t8(e,t,"verify");tx(e,n);let a=t2(e,n.algorithm);try{return await crypto.subtle.verify(a,n,r,i)}catch{return!1}}async function rc(e,t,r){let i,n;if(!tE(e))throw new eG("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new eG('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eG("JWS Protected Header incorrect type");if(void 0===e.payload)throw new eG("JWS Payload missing");if("string"!=typeof e.signature)throw new eG("JWS Signature missing or incorrect type");if(void 0!==e.header&&!tE(e.header))throw new eG("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{let t=eL(e.protected);a=JSON.parse(eP.decode(t))}catch{throw new eG("JWS Protected Header is invalid")}if(!tV(a,e.header))throw new eG("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let o={...a,...e.header},s=tM(eG,new Map([["b64",!0]]),r?.crit,a,o),l=!0;if(s.has("b64")&&"boolean"!=typeof(l=a.b64))throw new eG('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:u}=o;if("string"!=typeof u||!u)throw new eG('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&ra("algorithms",r.algorithms);if(c&&!c.has(u))throw new eB('"alg" (Algorithm) Header Parameter value not allowed');if(l){if("string"!=typeof e.payload)throw new eG("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new eG("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(a,e),d=!0),tF(u,t,"verify");let p=ej(void 0!==e.protected?ez(e.protected):new Uint8Array,ez("."),"string"==typeof e.payload?l?ez(e.payload):eD.encode(e.payload):e.payload);try{i=eL(e.signature)}catch{throw new eG("Failed to base64url decode the signature")}let f=await tO(t,u);if(!await ru(u,f,i,p))throw new e4;if(l)try{n=eL(e.payload)}catch{throw new eG("Failed to base64url decode the payload")}else n="string"==typeof e.payload?eD.encode(e.payload):e.payload;let m={payload:n};return(void 0!==e.protected&&(m.protectedHeader=a),void 0!==e.header&&(m.unprotectedHeader=e.header),d)?{...m,key:f}:m}async function rd(e,t,r){if(e instanceof Uint8Array&&(e=eP.decode(e)),"string"!=typeof e)throw new eG("Compact JWS must be a string or Uint8Array");let{0:i,1:n,2:a,length:o}=e.split(".");if(3!==o)throw new eG("Invalid Compact JWS");let s=await rc({payload:n,protected:i,signature:a},t,r),l={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}async function rp(e,t,r){let i=await rd(e,t,r);if(i.protectedHeader.crit?.includes("b64")&&!1===i.protectedHeader.b64)throw new eQ("JWTs MUST NOT use unencoded payload");let n={payload:t1(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return"function"==typeof t?{...n,key:i.key}:n}e.s(["importJWK",()=>ri],97554),e.s(["jwtVerify",()=>rp],9939);let rf={encode:e=>{if("string"==typeof e&&(e=new TextEncoder().encode(e)),0===e.byteLength)return"";let t=new Uint8Array(e),r="";for(let e of t)r+=e.toString(16).padStart(2,"0");return r},decode:e=>{if(!e)return"";if("string"==typeof e){if(e.length%2!=0||!RegExp("^[0123456789abcdef]+$").test(e))throw Error("Invalid hexadecimal string");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return new TextDecoder().decode(t)}return new TextDecoder().decode(e)}};function rm(e,t,r,i){var n;let a,{c:o,dkLen:s,DK:l,PRF:u,PRFSalt:c}=function(e,t,r,i){Q(e);let{c:n,dkLen:a,asyncTick:o}=ec({dkLen:32,asyncTick:10},i);if(J(n,"c"),J(a,"dkLen"),J(o,"asyncTick"),n<1)throw Error("iterations (c) must be >= 1");let s=eu(t,"password"),l=eu(r,"salt"),u=new Uint8Array(a),c=ep.create(e,s),d=c._cloneInto().update(l);return{c:n,dkLen:a,asyncTick:o,DK:u,PRF:c,PRFSalt:d}}(e,t,r,i),d=new Uint8Array(4),p=et(d),f=new Uint8Array(u.outputLen);for(let e=1,t=0;t<s;e++,t+=u.outputLen){let r=l.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(a=c._cloneInto(a)).update(d).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<o;e++){u._cloneInto(a).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return n=a,u.destroy(),c.destroy(),n&&n.destroy(),ee(f),l}function rh(e,t,r,i,n,a){let o=e[t++]^r[i++],s=e[t++]^r[i++],l=e[t++]^r[i++],u=e[t++]^r[i++],c=e[t++]^r[i++],d=e[t++]^r[i++],p=e[t++]^r[i++],f=e[t++]^r[i++],m=e[t++]^r[i++],h=e[t++]^r[i++],g=e[t++]^r[i++],y=e[t++]^r[i++],v=e[t++]^r[i++],b=e[t++]^r[i++],w=e[t++]^r[i++],k=e[t++]^r[i++],_=o,x=s,$=l,A=u,I=c,E=d,S=p,U=f,T=m,O=h,R=g,D=y,P=v,j=b,N=w,C=k;for(let e=0;e<8;e+=2)I^=ei(_+P|0,7),T^=ei(I+_|0,9),P^=ei(T+I|0,13),_^=ei(P+T|0,18),O^=ei(E+x|0,7),j^=ei(O+E|0,9),x^=ei(j+O|0,13),E^=ei(x+j|0,18),N^=ei(R+S|0,7),$^=ei(N+R|0,9),S^=ei($+N|0,13),R^=ei(S+$|0,18),A^=ei(C+D|0,7),U^=ei(A+C|0,9),D^=ei(U+A|0,13),C^=ei(D+U|0,18),x^=ei(_+A|0,7),$^=ei(x+_|0,9),A^=ei($+x|0,13),_^=ei(A+$|0,18),S^=ei(E+I|0,7),U^=ei(S+E|0,9),I^=ei(U+S|0,13),E^=ei(I+U|0,18),D^=ei(R+O|0,7),T^=ei(D+R|0,9),O^=ei(T+D|0,13),R^=ei(O+T|0,18),P^=ei(C+N|0,7),j^=ei(P+C|0,9),N^=ei(j+P|0,13),C^=ei(N+j|0,18);n[a++]=o+_|0,n[a++]=s+x|0,n[a++]=l+$|0,n[a++]=u+A|0,n[a++]=c+I|0,n[a++]=d+E|0,n[a++]=p+S|0,n[a++]=f+U|0,n[a++]=m+T|0,n[a++]=h+O|0,n[a++]=g+R|0,n[a++]=y+D|0,n[a++]=v+P|0,n[a++]=b+j|0,n[a++]=w+N|0,n[a++]=k+C|0}function rg(e,t,r,i,n){let a=i+0,o=i+16*n;for(let i=0;i<16;i++)r[o+i]=e[t+(2*n-1)*16+i];for(let i=0;i<n;i++,a+=16,t+=16)rh(r,o,e,t,r,a),i>0&&(o+=16),rh(r,a,e,t+=16,r,o)}async function ry(e,t,r){let i,{N:n,r:a,p:o,dkLen:s,blockSize32:l,V:u,B32:c,B:d,tmp:p,blockMixCb:f,asyncTick:m}=function(e,t,r){let{N:i,r:n,p:a,dkLen:o,asyncTick:s,maxmem:l,onProgress:u}=ec({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(J(i,"N"),J(n,"r"),J(a,"p"),J(o,"dkLen"),J(s,"asyncTick"),J(l,"maxmem"),void 0!==u&&"function"!=typeof u)throw Error("progressCb must be a function");let c=128*n,d=c/4;if(i<=1||(i&i-1)!=0||i>0x100000000)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(a<1||a>0x1fffffffe0/c)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(o<1||o>0x1fffffffe0)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(c*(i+a)>l)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+l);let p=rm(eR,e,t,{c:1,dkLen:c*a}),f=Y(p),m=Y(new Uint8Array(c*i)),h=Y(new Uint8Array(c)),g=()=>{};if(u){let e=2*i*a,t=Math.max(Math.floor(e/1e4),1),r=0;g=()=>{r++,u&&(!(r%t)||r===e)&&u(r/e)}}return{N:i,r:n,p:a,dkLen:o,blockSize32:d,V:m,B32:f,B:p,tmp:h,blockMixCb:g,asyncTick:s}}(e,t,r);en(c);for(let e=0;e<o;e++){let t=l*e;for(let e=0;e<l;e++)u[e]=c[t+e];let r=0;await el(n-1,m,()=>{rg(u,r,u,r+=l,a),f()}),rg(u,(n-1)*l,c,t,a),f(),await el(n,m,()=>{let e=(c[t+l-16]&n-1)>>>0;for(let r=0;r<l;r++)p[r]=c[t+r]^u[e*l+r];rg(p,0,c,t,a),f()})}return en(c),i=rm(eR,e,d,{c:1,dkLen:s}),ee(d,u,p),i}e.s(["hex",()=>rf],72381);var rv=e.i(39127);async function rb(e,t,r=3600){return await new t7(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+r).sign(new TextEncoder().encode(t))}async function rw(e,t){try{return(await rp(e,new TextEncoder().encode(t))).payload}catch(e){return null}}let rk=new Uint8Array([66,101,116,116,101,114,65,117,116,104,46,106,115,32,71,101,110,101,114,97,116,101,100,32,69,110,99,114,121,112,116,105,111,110,32,75,101,121]),r_="A256CBC-HS512";async function rx(e,t,r,i=3600){let n=eh(eR,new TextEncoder().encode(t),new TextEncoder().encode(r),rk,64),a=await rr({kty:"oct",k:re.encode(n)},"sha256");return await new t4(e).setProtectedHeader({alg:"dir",enc:r_,kid:a}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+i).setJti(crypto.randomUUID()).encrypt(n)}async function r$(e,t,r){if(!e)return null;try{let{payload:i}=await rl(e,async({kid:e})=>{let i=eh(eR,new TextEncoder().encode(t),new TextEncoder().encode(r),rk,64);if(void 0===e||e===await rr({kty:"oct",k:re.encode(i)},"sha256"))return i;throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[r_,"A256GCM"]});return i}catch(e){return null}}async function rA(e,t){return await ry(e.normalize("NFKC"),t,{N:16384,p:1,r:16,dkLen:64,maxmem:0x4000000})}let rI=async e=>{let t=rf.encode(crypto.getRandomValues(new Uint8Array(16))),r=await rA(e,t);return`${t}:${rf.encode(r)}`},rE=async({hash:e,password:t})=>{let[r,i]=e.split(":");if(!r||!i)throw new a.BetterAuthError("Invalid password hash");return function(e,t){"string"==typeof e&&(e=new TextEncoder().encode(e)),"string"==typeof t&&(t=new TextEncoder().encode(t));let r=new Uint8Array(e),i=new Uint8Array(t),n=r.length^i.length,a=Math.max(r.length,i.length);for(let e=0;e<a;e++)n|=(e<r.length?r[e]:0)^(e<i.length?i[e]:0);return 0===n}(await rA(t,r),function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(ea)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=eo(e.charCodeAt(n)),a=eo(e.charCodeAt(n+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+a}return i}(i))},rS=(0,rv.createRandomStringGenerator)("a-z","0-9","A-Z","-_"),rU=async({key:e,data:t})=>{let r=await p("SHA-256").digest(e),i=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(t);var n=I(W)(new Uint8Array(r)).encrypt(i);if(h(n),w)return n.toHex();let a="";for(let e=0;e<n.length;e++)a+=k[n[e]];return a},rT=async({key:e,data:t})=>{let r=await p("SHA-256").digest(e),i=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(w)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=_(e.charCodeAt(n)),a=_(e.charCodeAt(n+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+a}return i}(t),n=I(W)(new Uint8Array(r));return new TextDecoder().decode(n.decrypt(i))};e.s(["a",()=>rE,"c",()=>rx,"i",()=>rI,"l",()=>rw,"n",()=>rU,"o",()=>rb,"r",()=>rS,"s",()=>r$,"t",()=>rT],94914),e.i(89139);var rO=e.i(62245);e.s(["env",()=>rO.c],49060);var rO=rO;function rR(e,t="/api/auth"){try{let t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol)throw new a.BetterAuthError(`Invalid base URL: ${e}. URL must include 'http://' or 'https://'`)}catch(t){if(t instanceof a.BetterAuthError)throw t;throw new a.BetterAuthError(`Invalid base URL: ${e}. Please provide a valid base URL.`,String(t))}if(function(e){try{return"/"!==(new URL(e).pathname.replace(/\/+$/,"")||"/")}catch(t){throw new a.BetterAuthError(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}(e))return e;let r=e.replace(/\/+$/,"");return t&&"/"!==t?(t=t.startsWith("/")?t:`/${t}`,`${r}${t}`):r}function rD(e,t,r,i,n){if(e)return rR(e,t);if(!1!==i){let e=rO.c.BETTER_AUTH_URL||rO.c.NEXT_PUBLIC_BETTER_AUTH_URL||rO.c.PUBLIC_BETTER_AUTH_URL||rO.c.NUXT_PUBLIC_BETTER_AUTH_URL||rO.c.NUXT_PUBLIC_AUTH_URL||("/"!==rO.c.BASE_URL?rO.c.BASE_URL:void 0);if(e)return rR(e,t)}let o=r?.headers.get("x-forwarded-host"),s=r?.headers.get("x-forwarded-proto");if(o&&s&&n)return rR(`${s}://${o}`,t);if(r){let e=rP(r.url);if(!e)throw new a.BetterAuthError("Could not get origin from request. Please provide a valid base URL.");return rR(e,t)}}function rP(e){try{let t=new URL(e);return"null"===t.origin?null:t.origin}catch(e){return null}}function rj(e){try{return new URL(e).protocol}catch(e){return null}}function rN(e){try{return new URL(e).host}catch(e){return null}}e.s(["i",()=>rj,"n",()=>rN,"r",()=>rP,"t",()=>rD],24382);var rC=rO;e.s(["isProduction",()=>rC.f],19407)},86344,23770,35972,e=>{"use strict";var t=e.i(71878),r=e.i(94914);e.i(24382),e.i(89139),e.i(49060);var i=e.i(19407);e.i(71616);var n=e.i(68069);e.i(36447);var a=e.i(27235),o=e.i(7855),s=e.i(62810),l=e.i(30501);let u=new Map,c={decode:(e,t="utf-8")=>(u.has(t)||u.set(t,new TextDecoder(t)),u.get(t).decode(e)),encode:new TextEncoder().encode};e.s(["binary",()=>c],23770);var d=e.i(72381),p=e.i(96101);let f=(e="SHA-256",t="none")=>{let r={importKey:async(t,r)=>(0,p.getWebcryptoSubtle)().importKey("raw","string"==typeof t?new TextEncoder().encode(t):t,{name:"HMAC",hash:{name:e}},!1,[r]),sign:async(e,i)=>{"string"==typeof e&&(e=await r.importKey(e,"sign"));let n=await (0,p.getWebcryptoSubtle)().sign("HMAC",e,"string"==typeof i?new TextEncoder().encode(i):i);return"hex"===t?d.hex.encode(n):"base64"===t||"base64url"===t||"base64urlnopad"===t?l.base64Url.encode(n,{padding:"base64urlnopad"!==t}):n},verify:async(e,i,n)=>("string"==typeof e&&(e=await r.importKey(e,"verify")),"hex"===t&&(n=d.hex.decode(n)),("base64"===t||"base64url"===t||"base64urlnopad"===t)&&(n=await l.base64.decode(n)),(0,p.getWebcryptoSubtle)().verify("HMAC",e,"string"==typeof n?new TextEncoder().encode(n):n,"string"==typeof i?new TextEncoder().encode(i):i))};return r};e.s(["createHMAC",()=>f],35972);function m(e){let t=e.split("."),r=parseInt(t[t.length-1]||"0",10);return isNaN(r)?0:r}function h(e,t){let r={};for(let i in e)r[i]={name:i,value:"",options:{...t,maxAge:0}};return r}let g=e=>(t,r,i)=>{let n=function(e,t){let r={};for(let[i,n]of Object.entries(function(e){let t=e.headers?.get("cookie");if(!t)return{};let r={};for(let e of t.split("; ")){let[t,...i]=e.split("=");t&&i.length>0&&(r[t]=i.join("="))}return r}(t)))i.startsWith(e)&&(r[i]=n);return r}(t,i),a=i.context.logger;return{getValue:()=>Object.keys(n).sort((e,t)=>m(e)-m(t)).map(e=>n[e]).join(""),hasChunks:()=>Object.keys(n).length>0,chunk(i,o){let s=h(n,r);for(let e in n)delete n[e];for(let l of function(e,t,r,i){let n=Math.ceil(t.value.length/3896);if(1===n)return r[t.name]=t.value,[t];let a=[];for(let e=0;e<n;e++){let i=`${t.name}.${e}`,n=3896*e,o=t.value.substring(n,n+3896);a.push({...t,name:i,value:o}),r[i]=o}return i.debug(`CHUNKING_${e.toUpperCase()}_COOKIE`,{message:`${e} cookie exceeds allowed 4096 bytes.`,emptyCookieSize:200,valueSize:t.value.length,chunkCount:n,chunks:a.map(e=>e.value.length+200)}),a}(e,{name:t,value:i,options:{...r,...o}},n,a))s[l.name]=l;return Object.values(s)},clean(){let e=h(n,r);for(let e in n)delete n[e];return Object.values(e)},setCookies(e){for(let t of e)i.setCookie(t.name,t.value,t.options)}}},y=g("Session"),v=g("Account");function b(e,t){let r=e.getCookie(t);if(r)return r;let i=[],n=e.headers?.get("cookie");if(!n)return null;let a={};for(let e of n.split("; ")){let[t,...r]=e.split("=");t&&r.length>0&&(a[t]=r.join("="))}for(let[e,r]of Object.entries(a))if(e.startsWith(t+".")){let t=parseInt(e.split(".").at(-1)||"0",10);isNaN(t)||i.push({index:t,value:r})}return i.length>0?(i.sort((e,t)=>e.index-t.index),i.map(e=>e.value).join("")):null}async function w(e,t){let i=e.context.authCookies.accountData,n={maxAge:300,...i.options},a=await (0,r.c)(t,e.context.secret,"better-auth-account",n.maxAge);if(a.length>4096){let t=v(i.name,n,e),r=t.chunk(a,n);t.setCookies(r)}else{let t=v(i.name,n,e);if(t.hasChunks()){let e=t.clean();t.setCookies(e)}e.setCookie(i.name,a,n)}}async function k(e){let t=b(e,e.context.authCookies.accountData.name);if(t){let i=(0,a.safeJSONParse)(await (0,r.s)(t,e.context.secret,"better-auth-account"));if(i)return i}return null}let _=o.optional(o.object({disableCookieCache:s.coerce.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:s.coerce.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()}));function x(e){let t=new Map;return e.split(", ").forEach(e=>{let[r,...i]=e.split(";").map(e=>e.trim()),[n,...a]=(r||"").split("="),o=a.join("=");if(!n||void 0===o)return;let s={value:o};i.forEach(e=>{let[t,...r]=e.split("="),i=r.join("="),n=t.trim().toLowerCase();switch(n){case"max-age":s["max-age"]=i?parseInt(i.trim(),10):void 0;break;case"expires":s.expires=i?new Date(i.trim()):void 0;break;case"domain":s.domain=i?i.trim():void 0;break;case"path":s.path=i?i.trim():void 0;break;case"secure":s.secure=!0;break;case"httponly":s.httponly=!0;break;case"samesite":s.samesite=i?i.trim().toLowerCase():void 0;break;default:s[n]=!i||i.trim()}}),t.set(n,s)}),t}function $(e){let t=(e.advanced?.useSecureCookies!==void 0?e.advanced?.useSecureCookies:void 0!==e.baseURL?!!e.baseURL.startsWith("https://"):i.isProduction)?"__Secure-":"",r=!!e.advanced?.crossSubDomainCookies?.enabled,a=r?e.advanced?.crossSubDomainCookies?.domain||(e.baseURL?new URL(e.baseURL).hostname:void 0):void 0;if(r&&!a)throw new n.BetterAuthError("baseURL is required when crossSubdomainCookies are enabled");return function(i,n={}){let o=e.advanced?.cookiePrefix||"better-auth",s=e.advanced?.cookies?.[i]?.name||`${o}.${i}`,l=e.advanced?.cookies?.[i]?.attributes;return{name:`${t}${s}`,attributes:{secure:!!t,sameSite:"lax",path:"/",httpOnly:!0,...r?{domain:a}:{},...e.advanced?.defaultCookieAttributes,...n,...l}}}}function A(e){let t=$(e),r=t("session_token",{maxAge:e.session?.expiresIn||function(e){!1;let t=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec("7d");if(!t?.groups)return NaN;let{value:r,unit:i="ms"}=t.groups,n=parseFloat(r),a=i.toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"months":case"month":case"mo":return 26298e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:throw Error(`Unknown unit "${a}" provided to ms.parse(). value=${JSON.stringify("7d")}`)}}("7d")/1e3}),i=t("session_data",{maxAge:e.session?.cookieCache?.maxAge||300}),n=t("account_data",{maxAge:e.session?.cookieCache?.maxAge||300}),a=t("dont_remember");return{sessionToken:{name:r.name,options:r.attributes},sessionData:{name:i.name,options:i.attributes},dontRememberToken:{name:a.name,options:a.attributes},accountData:{name:n.name,options:n.attributes}}}async function I(e,i,n){if(e.context.options.session?.cookieCache?.enabled){let a,o=Object.entries(i.session).reduce((t,[r,i])=>{let n=e.context.options.session?.additionalFields?.[r];return n&&!1===n.returned||(t[r]=i),t},{}),s=(0,t.l)(e.context.options,i.user),u=e.context.options.session?.cookieCache?.version,c="1";if(u){if("string"==typeof u)c=u;else if("function"==typeof u){let e=u(i.session,i.user);c=e instanceof Promise?await e:e}}let d={session:o,user:s,updatedAt:Date.now(),version:c},p={...e.context.authCookies.sessionData.options,maxAge:n?void 0:e.context.authCookies.sessionData.options.maxAge},m=(0,t.u)(p.maxAge||60,"sec").getTime(),h=e.context.options.session?.cookieCache?.strategy||"compact";if((a="jwe"===h?await (0,r.c)(d,e.context.secret,"better-auth-session",p.maxAge||300):"jwt"===h?await (0,r.o)(d,e.context.secret,p.maxAge||300):l.base64Url.encode(JSON.stringify({session:d,expiresAt:m,signature:await f("SHA-256","base64urlnopad").sign(e.context.secret,JSON.stringify({...d,expiresAt:m}))}),{padding:!1})).length>4093){let t=y(e.context.authCookies.sessionData.name,p,e),r=t.chunk(a,p);t.setCookies(r)}else{let t=y(e.context.authCookies.sessionData.name,p,e);if(t.hasChunks()){let e=t.clean();t.setCookies(e)}e.setCookie(e.context.authCookies.sessionData.name,a,p)}}}async function E(e,t,r,i){let n=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);r=void 0!==r?r:!!n;let a=e.context.authCookies.sessionToken.options,o=r?void 0:e.context.sessionConfig.expiresIn;await e.setSignedCookie(e.context.authCookies.sessionToken.name,t.session.token,e.context.secret,{...a,maxAge:o,...i}),r&&await e.setSignedCookie(e.context.authCookies.dontRememberToken.name,"true",e.context.secret,e.context.authCookies.dontRememberToken.options),await I(e,t,r),e.context.setNewSession(t),e.context.options.secondaryStorage&&await e.context.secondaryStorage?.set(t.session.token,JSON.stringify({user:t.user,session:t.session}),Math.floor((new Date(t.session.expiresAt).getTime()-Date.now())/1e3))}function S(e,t){if(e.setCookie(e.context.authCookies.sessionToken.name,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.setCookie(e.context.authCookies.sessionData.name,"",{...e.context.authCookies.sessionData.options,maxAge:0}),e.context.options.account?.storeAccountCookie){e.setCookie(e.context.authCookies.accountData.name,"",{...e.context.authCookies.accountData.options,maxAge:0});let t=v(e.context.authCookies.accountData.name,e.context.authCookies.accountData.options,e),r=t.clean();t.setCookies(r)}if("cookie"===e.context.oauthConfig.storeStateStrategy){let t=e.context.createAuthCookie("oauth_state");e.setCookie(t.name,"",{...t.attributes,maxAge:0})}let r=y(e.context.authCookies.sessionData.name,e.context.authCookies.sessionData.options,e),i=r.clean();r.setCookies(i),t||e.setCookie(e.context.authCookies.dontRememberToken.name,"",{...e.context.authCookies.dontRememberToken.options,maxAge:0})}e.s(["c",()=>E,"f",()=>k,"h",()=>w,"i",()=>A,"l",()=>x,"m",()=>_,"n",()=>S,"p",()=>b,"s",()=>I,"t",()=>$],86344)},90659,e=>{"use strict";e.i(62245),e.i(87191);var t=e.i(27761),r=e.i(31428);let i=(0,r.createMiddleware)(async()=>({})),n=r.createMiddleware.create({use:[i,(0,r.createMiddleware)(async()=>({}))]}),a=[i],o=(e,i,n)=>(0,r.createEndpoint)(e,{...i,use:[...i?.use||[],...a]},async e=>(0,t.f)(e,()=>n(e)));e.s(["createAuthEndpoint",()=>o,"createAuthMiddleware",()=>n,"optionsMiddleware",()=>i])},30412,43799,25528,17512,21189,40823,38918,12269,11591,20556,2814,16694,33029,40721,e=>{"use strict";let t,r,i,n;e.i(44376);var a,o,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,d=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var n,a=u(t),o=0,d=a.length;o<d;o++)n=a[o],c.call(e,n)||n===r||s(e,n,{get:(e=>t[e]).bind(null,n),enumerable:!(i=l(t,n))||i.enumerable});return e};({get url(){return`file://${e.P("node_modules/better-auth/dist/chunk-DieNfLhd.mjs")}`}}).url;var p=e.i(18258),f=e.i(71878);e.i(89139);var m=e.i(62245),m=m,h=m,g=e.i(7855);function y(e,t){if(t.advanced?.ipAddress?.disableIpTracking)return null;if((0,h.p)()||(0,m.d)())return"127.0.0.1";let r="headers"in e?e.headers:e;for(let e of t.advanced?.ipAddress?.ipAddressHeaders||["x-forwarded-for"]){let t="get"in r?r.get(e):r[e];if("string"==typeof t){var i;let e=t.split(",")[0].trim();if(i=e,g.ipv4().safeParse(i).success||g.ipv6().safeParse(i).success)return e}}return null}e.s(["t",()=>y],43799),e.i(87191);var v=e.i(27761);e.s([],25528);var b=v;e.s(["getCurrentAdapter",()=>b.t],17512);var b=v,w=v,k=e.i(73361),_=e.i(62810);let x=g.object({id:g.string(),createdAt:g.date().default(()=>new Date),updatedAt:g.date().default(()=>new Date)}),$=x.extend({providerId:g.string(),accountId:g.string(),userId:_.coerce.string(),accessToken:g.string().nullish(),refreshToken:g.string().nullish(),idToken:g.string().nullish(),accessTokenExpiresAt:g.date().nullish(),refreshTokenExpiresAt:g.date().nullish(),scope:g.string().nullish(),password:g.string().nullish()}),A=g.object({key:g.string(),count:g.number(),lastRequest:g.number()}),I=x.extend({userId:_.coerce.string(),expiresAt:g.date(),token:g.string(),ipAddress:g.string().nullish(),userAgent:g.string().nullish()}),E=x.extend({email:g.string().transform(e=>e.toLowerCase()),emailVerified:g.boolean().default(!1),name:g.string(),image:g.string().nullish()}),S=x.extend({value:g.string(),expiresAt:g.date(),identifier:g.string()});e.s(["accountSchema",()=>$,"coreSchema",()=>x,"rateLimitSchema",()=>A,"sessionSchema",()=>I,"userSchema",()=>E,"verificationSchema",()=>S],21189);var U=k,T=m,O=e.i(89536);e.i(71616);var R=e.i(68069);e.i(36447);var D=e.i(40659),D=D,P=e.i(27235),j=e.i(13031),N=e.i(12407);e.i(54048),e.s(["default",0,_],61166),e.i(61166),e.s(["$brand",()=>_.$brand,"$input",()=>_.$input,"$output",()=>_.$output,"NEVER",()=>_.NEVER,"TimePrecision",()=>_.TimePrecision,"ZodAny",()=>_.ZodAny,"ZodArray",()=>_.ZodArray,"ZodBase64",()=>_.ZodBase64,"ZodBase64URL",()=>_.ZodBase64URL,"ZodBigInt",()=>_.ZodBigInt,"ZodBigIntFormat",()=>_.ZodBigIntFormat,"ZodBoolean",()=>_.ZodBoolean,"ZodCIDRv4",()=>_.ZodCIDRv4,"ZodCIDRv6",()=>_.ZodCIDRv6,"ZodCUID",()=>_.ZodCUID,"ZodCUID2",()=>_.ZodCUID2,"ZodCatch",()=>_.ZodCatch,"ZodCodec",()=>_.ZodCodec,"ZodCustom",()=>_.ZodCustom,"ZodCustomStringFormat",()=>_.ZodCustomStringFormat,"ZodDate",()=>_.ZodDate,"ZodDefault",()=>_.ZodDefault,"ZodDiscriminatedUnion",()=>_.ZodDiscriminatedUnion,"ZodE164",()=>_.ZodE164,"ZodEmail",()=>_.ZodEmail,"ZodEmoji",()=>_.ZodEmoji,"ZodEnum",()=>_.ZodEnum,"ZodError",()=>_.ZodError,"ZodFile",()=>_.ZodFile,"ZodFirstPartyTypeKind",()=>_.ZodFirstPartyTypeKind,"ZodFunction",()=>_.ZodFunction,"ZodGUID",()=>_.ZodGUID,"ZodIPv4",()=>_.ZodIPv4,"ZodIPv6",()=>_.ZodIPv6,"ZodISODate",()=>_.ZodISODate,"ZodISODateTime",()=>_.ZodISODateTime,"ZodISODuration",()=>_.ZodISODuration,"ZodISOTime",()=>_.ZodISOTime,"ZodIntersection",()=>_.ZodIntersection,"ZodIssueCode",()=>_.ZodIssueCode,"ZodJWT",()=>_.ZodJWT,"ZodKSUID",()=>_.ZodKSUID,"ZodLazy",()=>_.ZodLazy,"ZodLiteral",()=>_.ZodLiteral,"ZodMAC",()=>_.ZodMAC,"ZodMap",()=>_.ZodMap,"ZodNaN",()=>_.ZodNaN,"ZodNanoID",()=>_.ZodNanoID,"ZodNever",()=>_.ZodNever,"ZodNonOptional",()=>_.ZodNonOptional,"ZodNull",()=>_.ZodNull,"ZodNullable",()=>_.ZodNullable,"ZodNumber",()=>_.ZodNumber,"ZodNumberFormat",()=>_.ZodNumberFormat,"ZodObject",()=>_.ZodObject,"ZodOptional",()=>_.ZodOptional,"ZodPipe",()=>_.ZodPipe,"ZodPrefault",()=>_.ZodPrefault,"ZodPromise",()=>_.ZodPromise,"ZodReadonly",()=>_.ZodReadonly,"ZodRealError",()=>_.ZodRealError,"ZodRecord",()=>_.ZodRecord,"ZodSet",()=>_.ZodSet,"ZodString",()=>_.ZodString,"ZodStringFormat",()=>_.ZodStringFormat,"ZodSuccess",()=>_.ZodSuccess,"ZodSymbol",()=>_.ZodSymbol,"ZodTemplateLiteral",()=>_.ZodTemplateLiteral,"ZodTransform",()=>_.ZodTransform,"ZodTuple",()=>_.ZodTuple,"ZodType",()=>_.ZodType,"ZodULID",()=>_.ZodULID,"ZodURL",()=>_.ZodURL,"ZodUUID",()=>_.ZodUUID,"ZodUndefined",()=>_.ZodUndefined,"ZodUnion",()=>_.ZodUnion,"ZodUnknown",()=>_.ZodUnknown,"ZodVoid",()=>_.ZodVoid,"ZodXID",()=>_.ZodXID,"_ZodString",()=>_._ZodString,"_default",()=>_._default,"_function",()=>_._function,"any",()=>_.any,"array",()=>_.array,"base64",()=>_.base64,"base64url",()=>_.base64url,"bigint",()=>_.bigint,"boolean",()=>_.boolean,"catch",()=>_.catch,"check",()=>_.check,"cidrv4",()=>_.cidrv4,"cidrv6",()=>_.cidrv6,"clone",()=>_.clone,"codec",()=>_.codec,"coerce",()=>_.coerce,"config",()=>_.config,"core",()=>_.core,"cuid",()=>_.cuid,"cuid2",()=>_.cuid2,"custom",()=>_.custom,"date",()=>_.date,"decode",()=>_.decode,"decodeAsync",()=>_.decodeAsync,"default",0,_,"describe",()=>_.describe,"discriminatedUnion",()=>_.discriminatedUnion,"e164",()=>_.e164,"email",()=>_.email,"emoji",()=>_.emoji,"encode",()=>_.encode,"encodeAsync",()=>_.encodeAsync,"endsWith",()=>_.endsWith,"enum",()=>_.enum,"file",()=>_.file,"flattenError",()=>_.flattenError,"float32",()=>_.float32,"float64",()=>_.float64,"formatError",()=>_.formatError,"function",()=>_.function,"getErrorMap",()=>_.getErrorMap,"globalRegistry",()=>_.globalRegistry,"gt",()=>_.gt,"gte",()=>_.gte,"guid",()=>_.guid,"hash",()=>_.hash,"hex",()=>_.hex,"hostname",()=>_.hostname,"httpUrl",()=>_.httpUrl,"includes",()=>_.includes,"instanceof",()=>_.instanceof,"int",()=>_.int,"int32",()=>_.int32,"int64",()=>_.int64,"intersection",()=>_.intersection,"ipv4",()=>_.ipv4,"ipv6",()=>_.ipv6,"iso",()=>_.iso,"json",()=>_.json,"jwt",()=>_.jwt,"keyof",()=>_.keyof,"ksuid",()=>_.ksuid,"lazy",()=>_.lazy,"length",()=>_.length,"literal",()=>_.literal,"locales",()=>_.locales,"looseObject",()=>_.looseObject,"lowercase",()=>_.lowercase,"lt",()=>_.lt,"lte",()=>_.lte,"mac",()=>_.mac,"map",()=>_.map,"maxLength",()=>_.maxLength,"maxSize",()=>_.maxSize,"meta",()=>_.meta,"mime",()=>_.mime,"minLength",()=>_.minLength,"minSize",()=>_.minSize,"multipleOf",()=>_.multipleOf,"nan",()=>_.nan,"nanoid",()=>_.nanoid,"nativeEnum",()=>_.nativeEnum,"negative",()=>_.negative,"never",()=>_.never,"nonnegative",()=>_.nonnegative,"nonoptional",()=>_.nonoptional,"nonpositive",()=>_.nonpositive,"normalize",()=>_.normalize,"null",()=>_.null,"nullable",()=>_.nullable,"nullish",()=>_.nullish,"number",()=>_.number,"object",()=>_.object,"optional",()=>_.optional,"overwrite",()=>_.overwrite,"parse",()=>_.parse,"parseAsync",()=>_.parseAsync,"partialRecord",()=>_.partialRecord,"pipe",()=>_.pipe,"positive",()=>_.positive,"prefault",()=>_.prefault,"preprocess",()=>_.preprocess,"prettifyError",()=>_.prettifyError,"promise",()=>_.promise,"property",()=>_.property,"readonly",()=>_.readonly,"record",()=>_.record,"refine",()=>_.refine,"regex",()=>_.regex,"regexes",()=>_.regexes,"registry",()=>_.registry,"safeDecode",()=>_.safeDecode,"safeDecodeAsync",()=>_.safeDecodeAsync,"safeEncode",()=>_.safeEncode,"safeEncodeAsync",()=>_.safeEncodeAsync,"safeParse",()=>_.safeParse,"safeParseAsync",()=>_.safeParseAsync,"set",()=>_.set,"setErrorMap",()=>_.setErrorMap,"size",()=>_.size,"slugify",()=>_.slugify,"startsWith",()=>_.startsWith,"strictObject",()=>_.strictObject,"string",()=>_.string,"stringFormat",()=>_.stringFormat,"stringbool",()=>_.stringbool,"success",()=>_.success,"superRefine",()=>_.superRefine,"symbol",()=>_.symbol,"templateLiteral",()=>_.templateLiteral,"toJSONSchema",()=>_.toJSONSchema,"toLowerCase",()=>_.toLowerCase,"toUpperCase",()=>_.toUpperCase,"transform",()=>_.transform,"treeifyError",()=>_.treeifyError,"trim",()=>_.trim,"tuple",()=>_.tuple,"uint32",()=>_.uint32,"uint64",()=>_.uint64,"ulid",()=>_.ulid,"undefined",()=>_.undefined,"union",()=>_.union,"unknown",()=>_.unknown,"uppercase",()=>_.uppercase,"url",()=>_.url,"util",()=>_.util,"uuid",()=>_.uuid,"uuidv4",()=>_.uuidv4,"uuidv6",()=>_.uuidv6,"uuidv7",()=>_.uuidv7,"void",()=>_.void,"xid",()=>_.xid,"z",0,_],90544);var C=e.i(90544);e.i(21189),e.s(["accountSchema",()=>$,"coreSchema",()=>x,"getAuthTables",()=>k.t,"rateLimitSchema",()=>A,"sessionSchema",()=>I,"userSchema",()=>E,"verificationSchema",()=>S],37430);var Z=e.i(37430);async function z(t,r){let i;if(t.database)i="function"==typeof t.database?t.database(t):await r(t);else{let r=Object.keys((0,U.t)(t)).reduce((e,t)=>(e[t]=[],e),{}),{memoryAdapter:n}=await e.A(76372);i=n(r)(t)}return i.transaction||(O.logger.warn("Adapter does not correctly implement transaction function, patching it automatically. Please update your adapter implementation."),i.transaction=async e=>e(i)),i}async function L(t){return z(t,async t=>{let{createKyselyAdapter:r}=await e.A(46120),{kysely:i,databaseType:n,transaction:a}=await r(t);if(!i)throw new R.BetterAuthError("Failed to initialize database adapter");let{kyselyAdapter:o}=await e.A(46120);return o(i,{type:n||"sqlite",debugLogs:!!t.database&&"debugLogs"in t.database&&t.database.debugLogs,transaction:a})(t)})}let H=(e,t)=>({type:e,...t});function q(e,t){let r=t.id?{id:t.id}:{};for(let i in e){let n=e[i],a=t[i];void 0!==a&&(r[n.fieldName||i]=a)}return r}function V(e,t){if(!t)return null;let r={id:t.id};for(let[i,n]of Object.entries(e))r[i]=t[n.fieldName||i];return r}function M(e,t){let r=t.hooks;return{createWithHooks:async function(t,i,n){let a=await (0,v.u)().catch(()=>null),o=t;for(let e of r||[]){let t=e[i]?.create?.before;if(t){let e=await t(o,a);if(!1===e)return null;"object"==typeof e&&"data"in e&&(o={...o,...e.data})}}let s=n?await n.fn(o):null,l=!n||n.executeMainFn?await (await (0,b.t)(e)).create({model:i,data:o,forceAllowId:!0}):s;for(let e of r||[]){let t=e[i]?.create?.after;t&&await t(l,a)}return l},updateWithHooks:async function(t,i,n,a){let o=await (0,v.u)().catch(()=>null),s=t;for(let e of r||[]){let r=e[n]?.update?.before;if(r){let e=await r(t,o);if(!1===e)return null;"object"==typeof e&&"data"in e&&(s={...s,...e.data})}}let l=a?await a.fn(s):null,u=!a||a.executeMainFn?await (await (0,b.t)(e)).update({model:n,update:s,where:i}):l;for(let e of r||[]){let t=e[n]?.update?.after;t&&await t(u,o)}return u},updateManyWithHooks:async function(t,i,n,a){let o=await (0,v.u)().catch(()=>null),s=t;for(let e of r||[]){let r=e[n]?.update?.before;if(r){let e=await r(t,o);if(!1===e)return null;"object"==typeof e&&"data"in e&&(s={...s,...e.data})}}let l=a?await a.fn(s):null,u=!a||a.executeMainFn?await (await (0,b.t)(e)).updateMany({model:n,update:s,where:i}):l;for(let e of r||[]){let t=e[n]?.update?.after;t&&await t(u,o)}return u},deleteWithHooks:async function(t,i,n){let a=await (0,v.u)().catch(()=>null),o=null;try{o=(await (await (0,b.t)(e)).findMany({model:i,where:t,limit:1}))[0]||null}catch(e){}if(o)for(let e of r||[]){let t=e[i]?.delete?.before;if(t&&await t(o,a)===!1)return null}let s=n?await n.fn(t):null,l=!n||n.executeMainFn?await (await (0,b.t)(e)).delete({model:i,where:t}):s;if(o)for(let e of r||[]){let t=e[i]?.delete?.after;t&&await t(o,a)}return l},deleteManyWithHooks:async function(t,i,n){let a=await (0,v.u)().catch(()=>null),o=[];try{o=await (await (0,b.t)(e)).findMany({model:i,where:t})}catch(e){}for(let e of o)for(let t of r||[]){let r=t[i]?.delete?.before;if(r&&await r(e,a)===!1)return null}let s=n?await n.fn(t):null,l=!n||n.executeMainFn?await (await (0,b.t)(e)).deleteMany({model:i,where:t}):s;for(let e of o)for(let t of r||[]){let r=t[i]?.delete?.after;r&&await r(e,a)}return l}}}let K=(e,t)=>{let r=t.logger,i=t.options,n=i.secondaryStorage,a=i.session?.expiresIn||604800,{createWithHooks:o,updateWithHooks:s,updateManyWithHooks:l,deleteWithHooks:u,deleteManyWithHooks:c}=M(e,t);async function d(e){if(!n)return;let t=await n.get(`active-sessions-${e.id}`);if(!t)return;let r=Date.now(),i=((0,P.safeJSONParse)(t)||[]).filter(e=>e.expiresAt>r);await Promise.all(i.map(async({token:t})=>{let i=await n.get(t);if(!i)return;let a=(0,P.safeJSONParse)(i);if(!a)return;let o=Math.max(Math.floor(new Date(a.session.expiresAt).getTime()-r)/1e3,0);await n.set(t,JSON.stringify({session:a.session,user:e}),Math.floor(o))}))}return{createOAuthUser:async(t,r)=>(0,w.i)(e,async()=>{let e=await o({createdAt:new Date,updatedAt:new Date,...t},"user",void 0);return{user:e,account:await o({...r,userId:e.id,createdAt:new Date,updatedAt:new Date},"account",void 0)}}),createUser:async e=>await o({createdAt:new Date,updatedAt:new Date,...e,email:e.email?.toLowerCase()},"user",void 0),createAccount:async e=>await o({createdAt:new Date,updatedAt:new Date,...e},"account",void 0),listSessions:async r=>{if(n){let e=await n.get(`active-sessions-${r}`);if(!e)return[];let i=(0,P.safeJSONParse)(e)||[],a=Date.now(),o=i.filter(e=>e.expiresAt>a),s=[];for(let e of o){let r=await n.get(e.token);if(r){let e=(0,P.safeJSONParse)(r);if(!e)return[];let i=(0,f.s)(t.options,{...e.session,expiresAt:new Date(e.session.expiresAt)});s.push(i)}}return s}return await (await (0,b.t)(e)).findMany({model:"session",where:[{field:"userId",value:r}]})},listUsers:async(t,r,i,n)=>await (await (0,b.t)(e)).findMany({model:"user",limit:t,offset:r,sortBy:i,where:n}),countTotalUsers:async t=>{let r=await (await (0,b.t)(e)).count({model:"user",where:t});return"string"==typeof r?parseInt(r):r},deleteUser:async e=>{(!n||i.session?.storeSessionInDatabase)&&await c([{field:"userId",value:e}],"session",void 0),await c([{field:"userId",value:e}],"account",void 0),await u([{field:"id",value:e}],"user",void 0)},createSession:async(t,r,s,l)=>{let u=await (0,v.u)().catch(()=>null),c=u?.headers||u?.request?.headers,{id:d,...p}=s||{},m=(0,f.o)(u?.context.options??i,{}),h={ipAddress:(u?.request||u?.headers)&&y(u?.request||u?.headers,u?.context.options)||"",userAgent:c?.get("user-agent")||"",...p,expiresAt:r?(0,f.u)(86400,"sec"):(0,f.u)(a,"sec"),userId:t,token:(0,D.r)(32),createdAt:new Date,updatedAt:new Date,...m,...l?p:{}};return await o(h,"session",n?{fn:async r=>{let i=await n.get(`active-sessions-${t}`),a=[],o=Date.now();i&&(a=(a=(0,P.safeJSONParse)(i)||[]).filter(e=>e.expiresAt>o));let s=a.sort((e,t)=>e.expiresAt-t.expiresAt),l=s.at(-1)?.expiresAt;s.push({token:h.token,expiresAt:h.expiresAt.getTime()}),(!l||l<h.expiresAt.getTime())&&(l=h.expiresAt.getTime());let u=Math.max(Math.floor((l-o)/1e3),0);u>0&&await n.set(`active-sessions-${t}`,JSON.stringify(s),u);let c=await e.findOne({model:"user",where:[{field:"id",value:t}]}),d=Math.max(Math.floor((h.expiresAt.getTime()-o)/1e3),0);return d>0&&await n.set(h.token,JSON.stringify({session:r,user:c}),d),r},executeMainFn:i.session?.storeSessionInDatabase}:void 0)},findSession:async r=>{if(n){let e=await n.get(r);if(!e&&!i.session?.storeSessionInDatabase)return null;if(e){let r=(0,P.safeJSONParse)(e);return r?{session:(0,f.s)(t.options,{...r.session,expiresAt:new Date(r.session.expiresAt),createdAt:new Date(r.session.createdAt),updatedAt:new Date(r.session.updatedAt)}),user:(0,f.l)(t.options,{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)})}:null}}let a=await (await (0,b.t)(e)).findOne({model:"session",where:[{value:r,field:"token"}],join:{user:!0}});if(!a)return null;let{user:o,...s}=a;return o?{session:(0,f.s)(t.options,s),user:(0,f.l)(t.options,o)}:null},findSessions:async t=>{if(n){let e=[];for(let r of t){let t=await n.get(r);if(t){let r=(0,P.safeJSONParse)(t);if(!r)return[];let i={session:{...r.session,expiresAt:new Date(r.session.expiresAt)},user:{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)}};e.push(i)}}return e}let r=await (await (0,b.t)(e)).findMany({model:"session",where:[{field:"token",value:t,operator:"in"}],join:{user:!0}});return!r.length||r.some(e=>!e.user)?[]:r.map(e=>{let{user:t,...r}=e;return{session:r,user:t}})},updateSession:async(e,t)=>await s(t,[{field:"token",value:e}],"session",n?{async fn(t){let r=await n.get(e);if(!r)return null;{let e=(0,P.safeJSONParse)(r);return e?{...e.session,...t}:null}},executeMainFn:i.session?.storeSessionInDatabase}:void 0),deleteSession:async a=>{if(n){let e=await n.get(a);if(e){let{session:t}=(0,P.safeJSONParse)(e)??{};if(!t)return void r.error("Session not found in secondary storage");let i=t.userId,o=await n.get(`active-sessions-${i}`);if(o){let e=(0,P.safeJSONParse)(o)||[],t=Date.now(),r=e.filter(e=>e.expiresAt>t&&e.token!==a),s=r.sort((e,t)=>e.expiresAt-t.expiresAt).at(-1)?.expiresAt;r.length>0&&s&&s>Date.now()?await n.set(`active-sessions-${i}`,JSON.stringify(r),Math.floor((s-t)/1e3)):await n.delete(`active-sessions-${i}`)}else r.error("Active sessions list not found in secondary storage")}if(await n.delete(a),!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (await (0,b.t)(e)).delete({model:"session",where:[{field:"token",value:a}]})},deleteAccounts:async e=>{await c([{field:"userId",value:e}],"account",void 0)},deleteAccount:async e=>{await u([{field:"id",value:e}],"account",void 0)},deleteSessions:async e=>{if(n){if("string"==typeof e){let t=await n.get(`active-sessions-${e}`),r=t?(0,P.safeJSONParse)(t):[];if(!r)return;for(let e of r)await n.delete(e.token);await n.delete(`active-sessions-${e}`)}else for(let t of e)await n.get(t)&&await n.delete(t);if(!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await c([{field:Array.isArray(e)?"token":"userId",value:e,operator:Array.isArray(e)?"in":void 0}],"session",void 0)},findOAuthUser:async(t,r,i)=>{let n=await (await (0,b.t)(e)).findMany({model:"account",where:[{value:r,field:"accountId"}],join:{user:!0}}).then(e=>e.find(e=>e.providerId===i));if(n)if(n.user)return{user:n.user,accounts:[n]};else{let r=await (await (0,b.t)(e)).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});return r?{user:r,accounts:[n]}:null}{let r=await (await (0,b.t)(e)).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});return r?{user:r,accounts:await (await (0,b.t)(e)).findMany({model:"account",where:[{value:r.id,field:"userId"}]})||[]}:null}},findUserByEmail:async(t,r)=>{let i=await (await (0,b.t)(e)).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}],join:{...r?.includeAccounts?{account:!0}:{}}});if(!i)return null;let{account:n,...a}=i;return{user:a,accounts:n??[]}},findUserById:async t=>t?await (await (0,b.t)(e)).findOne({model:"user",where:[{field:"id",value:t}]}):null,linkAccount:async e=>await o({createdAt:new Date,updatedAt:new Date,...e},"account",void 0),updateUser:async(e,t)=>{let r=await s(t,[{field:"id",value:e}],"user",void 0);return await d(r),await d(r),r},updateUserByEmail:async(e,t)=>{let r=await s(t,[{field:"email",value:e.toLowerCase()}],"user",void 0);return await d(r),await d(r),r},updatePassword:async(e,t)=>{await l({password:t},[{field:"userId",value:e},{field:"providerId",value:"credential"}],"account",void 0)},findAccounts:async t=>await (await (0,b.t)(e)).findMany({model:"account",where:[{field:"userId",value:t}]}),findAccount:async t=>await (await (0,b.t)(e)).findOne({model:"account",where:[{field:"accountId",value:t}]}),findAccountByProviderId:async(t,r)=>await (await (0,b.t)(e)).findOne({model:"account",where:[{field:"accountId",value:t},{field:"providerId",value:r}]}),findAccountByUserId:async t=>await (await (0,b.t)(e)).findMany({model:"account",where:[{field:"userId",value:t}]}),updateAccount:async(e,t)=>await s(t,[{field:"id",value:e}],"account",void 0),createVerificationValue:async e=>await o({createdAt:new Date,updatedAt:new Date,...e},"verification",void 0),findVerificationValue:async t=>{let r=await (await (0,b.t)(e)).findMany({model:"verification",where:[{field:"identifier",value:t}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return i.verification?.disableCleanup||await (await (0,b.t)(e)).deleteMany({model:"verification",where:[{field:"expiresAt",value:new Date,operator:"lt"}]}),r[0]},deleteVerificationValue:async t=>{await (await (0,b.t)(e)).delete({model:"verification",where:[{field:"id",value:t}]})},deleteVerificationByIdentifier:async t=>{await (await (0,b.t)(e)).delete({model:"verification",where:[{field:"identifier",value:t}]})},updateVerificationValue:async(e,t)=>await s(t,[{field:"id",value:e}],"verification",void 0)}};function B({fields:e,isClientSide:t}){let r=Object.keys(e).reduce((r,i)=>{let n,a=e[i];return!a||t&&!1===a.input||(n="json"===a.type?C.json?C.json():C.any():"string[]"===a.type||"number[]"===a.type?C.array("string[]"===a.type?C.string():C.number()):Array.isArray(a.type)?C.any():C[a.type](),a?.required===!1&&(n=n.optional()),a?.returned===!1)?r:{...r,[i]:n}},{});return C.object(r)}var F=((e,t)=>{let r={};for(var i in e)s(r,i,{get:e[i],enumerable:!0});return t&&s(r,Symbol.toStringTag,{value:"Module"}),r})({convertFromDB:()=>V,convertToDB:()=>q,createFieldAttribute:()=>H,createInternalAdapter:()=>K,getAdapter:()=>L,getBaseAdapter:()=>z,getMigrations:()=>X,getSchema:()=>W,getWithHooks:()=>M,matchType:()=>G,mergeSchema:()=>f.t,parseAccountInput:()=>f.n,parseAccountOutput:()=>f.r,parseAdditionalUserInput:()=>f.i,parseInputData:()=>f.a,parseSessionInput:()=>f.o,parseSessionOutput:()=>f.s,parseUserInput:()=>f.c,parseUserOutput:()=>f.l,toZodSchema:()=>B});function W(e){let t=(0,F.getAuthTables)(e),r={};for(let e in t){let i=t[e],n=i.fields,a={};if(Object.entries(n).forEach(([e,r])=>{if(a[r.fieldName||e]=r,r.references){let i=t[r.references.model];i&&(a[r.fieldName||e].references={...r.references,model:i.modelName,field:r.references.field})}}),r[i.modelName]){r[i.modelName].fields={...r[i.modelName].fields,...a};continue}r[i.modelName]={fields:a,order:i.order||1/0}}return r}o&&(s(F,Symbol.toStringTag,{value:"Module"}),a&&s(a,Symbol.toStringTag,{value:"Module"})),d(F,Z,"default"),a&&d(a,Z,"default");let J={postgres:{string:["character varying","varchar","text","uuid"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text","uuid"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar","uniqueidentifier"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};function G(e,t,r){if("string[]"===t||"number[]"===t)return e.toLowerCase().includes("json");let i=J[r];return(Array.isArray(t)?i.string.map(e=>e.toLowerCase()):i[t].map(e=>e.toLowerCase())).includes(e.toLowerCase().split("(")[0].trim())}async function Q(e){try{let t=await j.sql`SHOW search_path`.execute(e);if(t.rows[0]?.search_path)return t.rows[0].search_path.split(",").map(e=>e.trim()).map(e=>e.replace(/^["']|["']$/g,"")).filter(e=>!e.startsWith("$"))[0]||"public"}catch(e){}return"public"}async function X(e){let t=W(e),r=(0,T.n)(e.logger),{kysely:i,databaseType:n}=await (0,p.t)(e);n||(r.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),n="sqlite"),i||(r.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let a="public";if("postgres"===n){a=await Q(i),r.debug(`PostgreSQL migration: Using schema '${a}' (from search_path)`);try{(await j.sql`
				SELECT schema_name 
				FROM information_schema.schemata 
				WHERE schema_name = ${a}
			`.execute(i)).rows[0]||r.warn(`Schema '${a}' does not exist. Tables will be inspected from available schemas. Consider creating the schema first or checking your database configuration.`)}catch(e){r.debug(`Could not verify schema existence: ${e instanceof Error?e.message:String(e)}`)}}let o=await i.introspection.getTables(),s=o;if("postgres"===n)try{let e=await j.sql`
				SELECT table_name 
				FROM information_schema.tables 
				WHERE table_schema = ${a}
				AND table_type = 'BASE TABLE'
			`.execute(i),t=new Set(e.rows.map(e=>e.table_name));s=o.filter(e=>e.schema===a&&t.has(e.name)),r.debug(`Found ${s.length} table(s) in schema '${a}': ${s.map(e=>e.name).join(", ")||"(none)"}`)}catch(e){r.warn(`Could not filter tables by schema. Using all discovered tables. Error: ${e instanceof Error?e.message:String(e)}`)}let l=[],u=[];for(let[e,i]of Object.entries(t)){let t=s.find(t=>t.name===e);if(!t){let t=l.findIndex(t=>t.table===e),r={table:e,fields:i.fields,order:i.order||1/0},n=l.findIndex(e=>(e.order||1/0)>r.order);-1===n?-1===t?l.push(r):l[t].fields={...l[t].fields,...i.fields}:l.splice(n,0,r);continue}let a={};for(let[o,s]of Object.entries(i.fields)){let i=t.columns.find(e=>e.name===o);if(!i){a[o]=s;continue}G(i.dataType,s.type,n)||r.warn(`Field ${o} in table ${e} has a different type in the database. Expected ${s.type} but got ${i.dataType}.`)}Object.keys(a).length>0&&u.push({table:e,fields:a,order:i.order||1/0})}let c=[],d=e.advanced?.database?.generateId==="uuid",f=e.advanced?.database?.useNumberId||e.advanced?.database?.generateId==="serial";function m(e,t){let r=e.type,i=n||"sqlite",a={string:{sqlite:"text",postgres:"text",mysql:e.unique?"varchar(255)":e.references?"varchar(36)":e.sortable||e.index?"varchar(255)":"text",mssql:e.unique||e.sortable?"varchar(255)":e.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:e.bigint?"bigint":"integer",postgres:e.bigint?"bigint":"integer",mysql:e.bigint?"bigint":"integer",mssql:e.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:j.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:f?j.sql`integer GENERATED BY DEFAULT AS IDENTITY`:d?"uuid":"text",mysql:f?"integer":"varchar(36)",mssql:f?"integer":"varchar(36)",sqlite:f?"integer":"text"},foreignKeyId:{postgres:f?"integer":d?"uuid":"text",mysql:f?"integer":"varchar(36)",mssql:f?"integer":"varchar(36)",sqlite:f?"integer":"text"},"string[]":{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},"number[]":{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"}};if("id"===t||e.references?.field==="id")return"id"===t?a.id[i]:a.foreignKeyId[i];if(Array.isArray(r))return"text";if(!(r in a))throw Error(`Unsupported field type '${String(r)}' for field '${t}'. Allowed types are: string, number, boolean, date, string[], number[]. If you need to store structured data, store it as a JSON string (type: "string") or split it into primitive fields. See https://better-auth.com/docs/advanced/schema#additional-fields`);return a[r][i]}let h=(0,N.initGetModelName)({schema:(0,U.t)(e),usePlural:!1}),g=(0,N.initGetFieldName)({schema:(0,U.t)(e),usePlural:!1});function y(e,t){try{return`${h(e)}.${g({model:e,field:t})}`}catch{return`${e}.${t}`}}if(u.length)for(let e of u)for(let[t,r]of Object.entries(e.fields)){let a=m(r,t),o=i.schema.alterTable(e.table);if(r.index){let r=i.schema.alterTable(e.table).addIndex(`${e.table}_${t}_idx`);c.push(r)}let s=o.addColumn(t,a,e=>(e=!1!==r.required?e.notNull():e,r.references&&(e=e.references(y(r.references.model,r.references.field)).onDelete(r.references.onDelete||"cascade")),r.unique&&(e=e.unique()),"date"===r.type&&"function"==typeof r.defaultValue&&("postgres"===n||"mysql"===n||"mssql"===n)&&(e="mysql"===n?e.defaultTo(j.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(j.sql`CURRENT_TIMESTAMP`)),e));c.push(s)}let v=[];if(e.advanced?.database?.useNumberId&&r.warn("`useNumberId` is deprecated. Please use `generateId` with `serial` instead."),l.length)for(let e of l){let t=m({type:f?"number":"string"},"id"),r=i.schema.createTable(e.table).addColumn("id",t,e=>{if(f)return"postgres"===n?e.primaryKey().notNull():"sqlite"===n?e.primaryKey().notNull():"mssql"===n?e.identity().primaryKey().notNull():e.autoIncrement().primaryKey().notNull();return d&&"postgres"===n?e.primaryKey().defaultTo(j.sql`pg_catalog.gen_random_uuid()`).notNull():e.primaryKey().notNull()});for(let[t,a]of Object.entries(e.fields)){let o=m(a,t);if(r=r.addColumn(t,o,e=>(e=!1!==a.required?e.notNull():e,a.references&&(e=e.references(y(a.references.model,a.references.field)).onDelete(a.references.onDelete||"cascade")),a.unique&&(e=e.unique()),"date"===a.type&&"function"==typeof a.defaultValue&&("postgres"===n||"mysql"===n||"mssql"===n)&&(e="mysql"===n?e.defaultTo(j.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(j.sql`CURRENT_TIMESTAMP`)),e)),a.index){let r=i.schema.createIndex(`${e.table}_${t}_${a.unique?"uidx":"idx"}`).on(e.table).columns([t]);v.push(a.unique?r.unique():r)}}c.push(r)}if(v.length)for(let e of v)c.push(e);return{toBeCreated:l,toBeAdded:u,runMigrations:async function(){for(let e of c)await e.execute()},compileMigrations:async function(){return c.map(e=>e.compile().sql).join(";\n\n")+";"}}}e.s(["d",()=>L,"o",()=>K,"t",()=>X],30412);var Y=e.i(94914),D=D,ee=e.i(31428);let{get:et,set:er}=(0,v.a)(()=>null);async function ei(e,t,r){let i=e.body?.callbackURL||e.context.options.baseURL;if(!i)throw new ee.APIError("BAD_REQUEST",{message:"callbackURL is required"});let n=(0,Y.r)(128),a=(0,Y.r)(32),o=e.context.oauthConfig.storeStateStrategy,s={...r||{},callbackURL:i,codeVerifier:n,errorURL:e.body?.errorCallbackURL,newUserURL:e.body?.newUserCallbackURL,link:t,expiresAt:Date.now()+6e5,requestSignUp:e.body?.requestSignUp};if(await er(s),"cookie"===o){let t=await (0,Y.n)({key:e.context.secret,data:JSON.stringify(s)}),r=e.context.createAuthCookie("oauth_state",{maxAge:6e5});return e.setCookie(r.name,t,r.attributes),{state:a,codeVerifier:n}}let l=e.context.createAuthCookie("state",{maxAge:3e5});await e.setSignedCookie(l.name,a,e.context.secret,l.attributes);let u=new Date;u.setMinutes(u.getMinutes()+10);let c=await e.context.internalAdapter.createVerificationValue({value:JSON.stringify(s),identifier:a,expiresAt:u});if(!c)throw e.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new ee.APIError("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:c.identifier,codeVerifier:n}}async function en(e){let t,r=e.query.state||e.body.state,i=e.context.oauthConfig.storeStateStrategy,n=g.looseObject({callbackURL:g.string(),codeVerifier:g.string(),errorURL:g.string().optional(),newUserURL:g.string().optional(),expiresAt:g.number(),link:g.object({email:g.string(),userId:_.coerce.string()}).optional(),requestSignUp:g.boolean().optional()});if("cookie"===i){let i=e.context.createAuthCookie("oauth_state"),a=e.getCookie(i.name);if(!a){e.context.logger.error("State Mismatch. OAuth state cookie not found",{state:r});let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}try{let r=await (0,Y.t)({key:e.context.secret,data:a});t=n.parse(JSON.parse(r))}catch(r){e.context.logger.error("Failed to decrypt or parse OAuth state cookie",{error:r});let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}e.setCookie(i.name,"",{maxAge:0})}else{let i=await e.context.internalAdapter.findVerificationValue(r);if(!i){e.context.logger.error("State Mismatch. Verification not found",{state:r});let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}t=n.parse(JSON.parse(i.value));let a=e.context.createAuthCookie("state"),o=await e.getSignedCookie(a.name,e.context.secret);if(!e.context.oauthConfig?.skipStateCookieCheck&&(!o||o!==r)){let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=state_mismatch`)}e.setCookie(a.name,"",{maxAge:0}),await e.context.internalAdapter.deleteVerificationValue(i.id)}if(t.errorURL||(t.errorURL=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`),t.expiresAt<Date.now()){let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}return t&&await er(t),t}let ea={isAction:!1};e.s(["i",()=>en,"n",()=>ea,"r",()=>ei],40823);var eo=D;e.s(["t",()=>eo.r],38918);var eo=D,es=e.i(86344),el=e.i(55858),el=el,eu=e.i(90659),ec=e.i(30501),ed=e.i(23770),ep=e.i(35972);let ef=()=>(0,eu.createAuthEndpoint)("/get-session",{method:"GET",operationId:"getSession",query:es.m,requireHeaders:!0,metadata:{openapi:{operationId:"getSession",description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",nullable:!0,properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async e=>{try{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)return null;let r=(0,es.p)(e,e.context.authCookies.sessionData.name),i=null;if(r){let t=e.context.options.session?.cookieCache?.strategy||"compact";if("jwe"===t){let t=await (0,Y.s)(r,e.context.secret,"better-auth-session");if(t&&t.session&&t.user)i={session:{session:t.session,user:t.user,updatedAt:t.updatedAt,version:t.version},expiresAt:t.exp?1e3*t.exp:Date.now()};else{let t=e.context.authCookies.sessionData.name;return e.setCookie(t,"",{maxAge:0}),e.json(null)}}else if("jwt"===t){let t=await (0,Y.l)(r,e.context.secret);if(t&&t.session&&t.user)i={session:{session:t.session,user:t.user,updatedAt:t.updatedAt,version:t.version},expiresAt:t.exp?1e3*t.exp:Date.now()};else{let t=e.context.authCookies.sessionData.name;return e.setCookie(t,"",{maxAge:0}),e.json(null)}}else{let t=(0,P.safeJSONParse)(ed.binary.decode(ec.base64Url.decode(r)));if(t)if(await (0,ep.createHMAC)("SHA-256","base64urlnopad").verify(e.context.secret,JSON.stringify({...t.session,expiresAt:t.expiresAt}),t.signature))i=t;else{let t=e.context.authCookies.sessionData.name;return e.setCookie(t,"",{maxAge:0}),e.json(null)}}}let n=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);if(i?.session&&e.context.options.session?.cookieCache?.enabled&&!e.query?.disableCookieCache){let t=i.session,r=e.context.options.session?.cookieCache?.version,n="1";if(r){if("string"==typeof r)n=r;else if("function"==typeof r){let e=r(t.session,t.user);n=e instanceof Promise?await e:e}}if((t.version||"1")!==n){let t=e.context.authCookies.sessionData.name;e.setCookie(t,"",{maxAge:0})}else if(i.expiresAt<Date.now()||t.session.expiresAt<new Date){let t=e.context.authCookies.sessionData.name;e.setCookie(t,"",{maxAge:0})}else{let r=e.context.sessionConfig.cookieRefreshCache;if(!1===r)return e.context.session=t,e.json({session:t.session,user:t.user});if(i.expiresAt-Date.now()<1e3*r.updateAge){let r=(0,f.u)(e.context.options.session?.cookieCache?.maxAge||300,"sec"),i={session:{...t.session,expiresAt:r},user:t.user,updatedAt:Date.now()};await (0,es.s)(e,i,!1);let n=(0,f.s)(e.context.options,{...i.session,expiresAt:new Date(i.session.expiresAt),createdAt:new Date(i.session.createdAt),updatedAt:new Date(i.session.updatedAt)}),a=(0,f.l)(e.context.options,{...i.user,createdAt:new Date(i.user.createdAt),updatedAt:new Date(i.user.updatedAt)});return e.context.session={session:n,user:a},e.json({session:n,user:a})}let n=(0,f.s)(e.context.options,{...t.session,expiresAt:new Date(t.session.expiresAt),createdAt:new Date(t.session.createdAt),updatedAt:new Date(t.session.updatedAt)}),a=(0,f.l)(e.context.options,{...t.user,createdAt:new Date(t.user.createdAt),updatedAt:new Date(t.user.updatedAt)});return e.context.session={session:n,user:a},e.json({session:n,user:a})}}let a=await e.context.internalAdapter.findSession(t);if(e.context.session=a,!a||a.session.expiresAt<new Date)return(0,es.n)(e),a&&await e.context.internalAdapter.deleteSession(a.session.token),e.json(null);if(n||e.query?.disableRefresh){let t=(0,f.s)(e.context.options,a.session),r=(0,f.l)(e.context.options,a.user);return e.json({session:t,user:r})}let o=e.context.sessionConfig.expiresIn,s=e.context.sessionConfig.updateAge;if(a.session.expiresAt.valueOf()-1e3*o+1e3*s<=Date.now()&&(!e.query?.disableRefresh||!e.context.options.session?.disableSessionRefresh)){let t=await e.context.internalAdapter.updateSession(a.session.token,{expiresAt:(0,f.u)(e.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!t)return(0,es.n)(e),e.json(null,{status:401});let r=(t.expiresAt.valueOf()-Date.now())/1e3;await (0,es.c)(e,{session:t,user:a.user},!1,{maxAge:r});let i=(0,f.s)(e.context.options,t),n=(0,f.l)(e.context.options,a.user);return e.json({session:i,user:n})}return await (0,es.s)(e,a,!!n),e.json(a)}catch(t){throw e.context.logger.error("INTERNAL_SERVER_ERROR",t),new ee.APIError("INTERNAL_SERVER_ERROR",{message:el.n.FAILED_TO_GET_SESSION})}}),em=async(e,t)=>{if(e.context.session)return e.context.session;let r=await ef()({...e,asResponse:!1,headers:e.headers,returnHeaders:!1,returnStatus:!1,query:{...t,...e.query}}).catch(e=>null);return e.context.session=r,r},eh=(0,eu.createAuthMiddleware)(async e=>{let t=await em(e);if(!t?.session)throw new ee.APIError("UNAUTHORIZED");return{session:t}}),eg=(0,eu.createAuthMiddleware)(async e=>{let t=await em(e,{disableCookieCache:!0});if(!t?.session)throw new ee.APIError("UNAUTHORIZED");return{session:t}});(0,eu.createAuthMiddleware)(async e=>{let t=await em(e);if(!t?.session&&(e.request||e.headers))throw new ee.APIError("UNAUTHORIZED");return{session:t}});let ey=(0,eu.createAuthMiddleware)(async e=>{let t=await em(e);if(!t?.session)throw new ee.APIError("UNAUTHORIZED");if(0===e.context.sessionConfig.freshAge)return{session:t};let r=e.context.sessionConfig.freshAge,i=new Date(t.session.updatedAt||t.session.createdAt).getTime();if(!(Date.now()-i<1e3*r))throw new ee.APIError("FORBIDDEN",{message:"Session is not fresh"});return{session:t}}),ev=()=>(0,eu.createAuthEndpoint)("/list-sessions",{method:"GET",operationId:"listUserSessions",use:[eh],requireHeaders:!0,metadata:{openapi:{operationId:"listUserSessions",description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async e=>{try{let t=(await e.context.internalAdapter.listSessions(e.context.session.user.id)).filter(e=>e.expiresAt>new Date);return e.json(t)}catch(t){throw e.context.logger.error(t),e.error("INTERNAL_SERVER_ERROR")}}),eb=(0,eu.createAuthEndpoint)("/revoke-session",{method:"POST",body:g.object({token:g.string().meta({description:"The token to revoke"})}),use:[eg],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.body.token;if((await e.context.internalAdapter.findSession(t))?.session.userId===e.context.session.user.id)try{await e.context.internalAdapter.deleteSession(t)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new ee.APIError("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),ew=(0,eu.createAuthEndpoint)("/revoke-sessions",{method:"POST",use:[eg],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{try{await e.context.internalAdapter.deleteSessions(e.context.session.user.id)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new ee.APIError("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),ek=(0,eu.createAuthEndpoint)("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[eg],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.context.session;if(!t.user)throw new ee.APIError("UNAUTHORIZED");let r=(await e.context.internalAdapter.listSessions(t.user.id)).filter(e=>e.expiresAt>new Date).filter(t=>t.token!==e.context.session.session.token);return await Promise.all(r.map(t=>e.context.internalAdapter.deleteSession(t.token))),e.json({status:!0})});e.s(["c",()=>ew,"i",()=>ev,"l",()=>eg,"n",()=>ef,"o",()=>ek,"r",()=>em,"s",()=>eb,"t",()=>ey,"u",()=>eh],12269);var w=v,m=m,e_=e.i(19407),ex=m,el=el,e$=m,eA=el,eI=Object.defineProperty,eE=Object.defineProperties,eS=Object.getOwnPropertyDescriptors,eU=Object.getOwnPropertySymbols,eT=Object.prototype.hasOwnProperty,eO=Object.prototype.propertyIsEnumerable,eR=(e,t,r)=>t in e?eI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eD=(e,t)=>{for(var r in t||(t={}))eT.call(t,r)&&eR(e,r,t[r]);if(eU)for(var r of eU(t))eO.call(t,r)&&eR(e,r,t[r]);return e},eP=(e,t)=>eE(e,eS(t)),ej=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},eN=async(e,t)=>{var r,i,n,a,o,s;let l=t||{},u={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:l,hooks:u};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let i=await (null==(r=c.init)?void 0:r.call(c,e.toString(),t));l=i.options||l,e=i.url}u.onRequest.push(null==(i=c.hooks)?void 0:i.onRequest),u.onResponse.push(null==(n=c.hooks)?void 0:n.onResponse),u.onSuccess.push(null==(a=c.hooks)?void 0:a.onSuccess),u.onError.push(null==(o=c.hooks)?void 0:o.onError),u.onRetry.push(null==(s=c.hooks)?void 0:s.onRetry)}return{url:e,options:l,hooks:u}},eC=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},eZ=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}},ez=async e=>{let t={},r=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let i=await r(e.auth.token);if(!i)return t;t.authorization=`Bearer ${i}`}else if("Basic"===e.auth.type){let i=r(e.auth.username),n=r(e.auth.password);if(!i||!n)return t;t.authorization=`Basic ${btoa(`${i}:${n}`)}`}else if("Custom"===e.auth.type){let i=r(e.auth.value);if(!i)return t;t.authorization=`${r(e.auth.prefix)} ${i}`}}return t},eL=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function eH(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function eq(e){try{return JSON.parse(e)}catch(t){return e}}async function eV(e){let t=new Headers(null==e?void 0:e.headers);for(let[r,i]of Object.entries(await ez(e)||{}))t.set(r,i);if(!t.has("content-type")){let r=eH(null==e?void 0:e.body)?"application/json":null;r&&t.set("content-type",r)}return t}var eM=class e extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function eK(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new eM(r.issues);return r.value}var eB=["get","post","put","patch","delete"],eF=async(e,t)=>{var r,i,n,a,o,s,l,u;let c,{hooks:d,url:p,options:f}=await eN(e,t),m=function(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(f),h=new AbortController,g=null!=(r=f.signal)?r:h.signal,y=function(e,t){let{baseURL:r,params:i,query:n}=t||{query:{},params:{},baseURL:""},a=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];eB.includes(t)&&(e=e.replace(`@${t}/`,"/"))}a.endsWith("/")||(a+="/");let[o,s]=e.replace(a,"").split("?"),l=new URLSearchParams(s);for(let[e,t]of Object.entries(n||{}))null!=t&&l.set(e,String(t));if(i)if(Array.isArray(i))for(let[e,t]of o.split("/").filter(e=>e.startsWith(":")).entries()){let r=i[e];o=o.replace(t,r)}else for(let[e,t]of Object.entries(i))o=o.replace(`:${e}`,String(t));(o=o.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(o=o.slice(1));let u=l.toString();return(u=u.length>0?`?${u}`.replace(/\+/g,"%20"):"",a.startsWith("http"))?new URL(`${o}${u}`,a):`${a}${o}${u}`}(p,f),v=function(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(eH(e.body)&&!t.has("content-type")){for(let[t,r]of Object.entries(null==e?void 0:e.body))r instanceof Date&&(e.body[t]=r.toISOString());return JSON.stringify(e.body)}return e.body}(f),b=await eV(f),w=function(e,t){var r;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let i=null==(r=e.split("@")[1])?void 0:r.split("/")[0];return eB.includes(i)?i.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}(p,f),k=eP(eD({},f),{url:y,headers:b,body:v,method:w,signal:g});for(let e of d.onRequest)if(e){let t=await e(k);t instanceof Object&&(k=t)}("pipeTo"in k&&"function"==typeof k.pipeTo||"function"==typeof(null==(i=null==t?void 0:t.body)?void 0:i.pipe))&&!("duplex"in k)&&(k.duplex="half");let{clearTimeout:_}=(!(null==f?void 0:f.signal)&&(null==f?void 0:f.timeout)&&(c=setTimeout(()=>null==h?void 0:h.abort(),null==f?void 0:f.timeout)),{abortTimeout:c,clearTimeout:()=>{c&&clearTimeout(c)}}),x=await m(k.url,k);_();let $={response:x,request:k};for(let e of d.onResponse)if(e){let r=await e(eP(eD({},$),{response:(null==(n=null==t?void 0:t.hookOptions)?void 0:n.cloneResponse)?x.clone():x}));r instanceof Response?x=r:r instanceof Object&&(x=r.response)}if(x.ok){if("HEAD"===k.method)return{data:"",error:null};let e=function(e){let t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let i=t.split(";").shift()||"";return eL.test(i)?"json":r.has(i)||i.startsWith("text/")?"text":"blob"}(x),r={data:"",response:x,request:k};if("json"===e||"text"===e){let e=await x.text(),t=null!=(a=k.jsonParser)?a:eq;r.data=await t(e)}else r.data=await x[e]();for(let e of((null==k?void 0:k.output)&&k.output&&!k.disableValidation&&(r.data=await eK(k.output,r.data)),d.onSuccess))e&&await e(eP(eD({},r),{response:(null==(o=null==t?void 0:t.hookOptions)?void 0:o.cloneResponse)?x.clone():x}));return(null==t?void 0:t.throw)?r.data:{data:r.data,error:null}}let A=null!=(s=null==t?void 0:t.jsonParser)?s:eq,I=await x.text(),E=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(I),S=E?await A(I):null,U={response:x,responseText:I,request:k,error:eP(eD({},S),{status:x.status,statusText:x.statusText})};for(let e of d.onError)e&&await e(eP(eD({},U),{response:(null==(l=null==t?void 0:t.hookOptions)?void 0:l.cloneResponse)?x.clone():x}));if(null==t?void 0:t.retry){let r=function(e){if("number"==typeof e)return new eC({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new eC(e);case"exponential":return new eZ(e);default:throw Error("Invalid retry strategy")}}(t.retry),i=null!=(u=t.retryAttempt)?u:0;if(await r.shouldAttemptRetry(i,x)){for(let e of d.onRetry)e&&await e($);let n=r.getDelay(i);return await new Promise(e=>setTimeout(e,n)),await eF(e,eP(eD({},t),{retryAttempt:i+1}))}}if(null==t?void 0:t.throw)throw new ej(x.status,x.statusText,E?S:I);return{data:null,error:eP(eD({},S),{status:x.status,statusText:x.statusText})}},eW=e.i(9939);function eJ({options:e,scope:t,authentication:r,resource:i}){let n=new URLSearchParams,a={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(n.set("grant_type","client_credentials"),t&&n.set("scope",t),i)if("string"==typeof i)n.append("resource",i);else for(let e of i)n.append("resource",e);if("basic"===r){let t=Array.isArray(e.clientId)?e.clientId[0]:e.clientId;a.authorization=`Basic ${ec.base64Url.encode(`${t}:${e.clientSecret}`)}`}else{let t=Array.isArray(e.clientId)?e.clientId[0]:e.clientId;n.set("client_id",t),n.set("client_secret",e.clientSecret)}return{body:n,headers:a}}async function eG({options:e,tokenEndpoint:t,scope:r,authentication:i,resource:n}){let{body:a,headers:o}=eJ({options:e,scope:r,authentication:i,resource:n}),{data:s,error:l}=await eF(t,{method:"POST",body:a,headers:o});if(l)throw l;let u={accessToken:s.access_token,tokenType:s.token_type,scopes:s.scope?.split(" ")};return s.expires_in&&(u.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*s.expires_in)),u}function eQ(e){let t=e=>new Date(new Date().getTime()+1e3*e);return{tokenType:e.token_type,accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?t(e.expires_in):void 0,refreshTokenExpiresAt:e.refresh_token_expires_in?t(e.refresh_token_expires_in):void 0,scopes:e?.scope?"string"==typeof e.scope?e.scope.split(" "):e.scope:[],idToken:e.id_token,raw:e}}async function eX(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return ec.base64Url.encode(new Uint8Array(r),{padding:!1})}async function eY({id:e,options:t,authorizationEndpoint:r,state:i,codeVerifier:n,scopes:a,claims:o,redirectURI:s,duration:l,prompt:u,accessType:c,responseType:d,display:p,loginHint:f,hd:m,responseMode:h,additionalParams:g,scopeJoiner:y}){let v=new URL(r);v.searchParams.set("response_type",d||"code");let b=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;if(v.searchParams.set("client_id",b),v.searchParams.set("state",i),a&&v.searchParams.set("scope",a.join(y||" ")),v.searchParams.set("redirect_uri",t.redirectURI||s),l&&v.searchParams.set("duration",l),p&&v.searchParams.set("display",p),f&&v.searchParams.set("login_hint",f),u&&v.searchParams.set("prompt",u),m&&v.searchParams.set("hd",m),c&&v.searchParams.set("access_type",c),h&&v.searchParams.set("response_mode",h),n){let e=await eX(n);v.searchParams.set("code_challenge_method","S256"),v.searchParams.set("code_challenge",e)}if(o){let e=o.reduce((e,t)=>(e[t]=null,e),{});v.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...e}}))}return g&&Object.entries(g).forEach(([e,t])=>{v.searchParams.set(e,t)}),v}function e0({refreshToken:e,options:t,authentication:r,extraParams:i,resource:n}){let a=new URLSearchParams,o={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(a.set("grant_type","refresh_token"),a.set("refresh_token",e),"basic"===r){let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;e?o.authorization="Basic "+ec.base64.encode(`${e}:${t.clientSecret??""}`):o.authorization="Basic "+ec.base64.encode(`:${t.clientSecret??""}`)}else{let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;a.set("client_id",e),t.clientSecret&&a.set("client_secret",t.clientSecret)}if(n)if("string"==typeof n)a.append("resource",n);else for(let e of n)a.append("resource",e);if(i)for(let[e,t]of Object.entries(i))a.set(e,t);return{body:a,headers:o}}async function e1({refreshToken:e,options:t,tokenEndpoint:r,authentication:i,extraParams:n}){let{body:a,headers:o}=e0({refreshToken:e,options:t,authentication:i,extraParams:n}),{data:s,error:l}=await eF(r,{method:"POST",body:a,headers:o});if(l)throw l;let u={accessToken:s.access_token,refreshToken:s.refresh_token,tokenType:s.token_type,scopes:s.scope?.split(" "),idToken:s.id_token};return s.expires_in&&(u.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*s.expires_in)),u}function e6({code:e,codeVerifier:t,redirectURI:r,options:i,authentication:n,deviceId:a,headers:o,additionalParams:s={},resource:l}){let u=new URLSearchParams,c={"content-type":"application/x-www-form-urlencoded",accept:"application/json",...o};if(u.set("grant_type","authorization_code"),u.set("code",e),t&&u.set("code_verifier",t),i.clientKey&&u.set("client_key",i.clientKey),a&&u.set("device_id",a),u.set("redirect_uri",i.redirectURI||r),l)if("string"==typeof l)u.append("resource",l);else for(let e of l)u.append("resource",e);if("basic"===n){let e=Array.isArray(i.clientId)?i.clientId[0]:i.clientId;c.authorization=`Basic ${ec.base64.encode(`${e}:${i.clientSecret??""}`)}`}else{let e=Array.isArray(i.clientId)?i.clientId[0]:i.clientId;u.set("client_id",e),i.clientSecret&&u.set("client_secret",i.clientSecret)}for(let[e,t]of Object.entries(s))u.has(e)||u.append(e,t);return{body:u,headers:c}}async function e4({code:e,codeVerifier:t,redirectURI:r,options:i,tokenEndpoint:n,authentication:a,deviceId:o,headers:s,additionalParams:l={},resource:u}){let{body:c,headers:d}=e6({code:e,codeVerifier:t,redirectURI:r,options:i,authentication:a,deviceId:o,headers:s,additionalParams:l,resource:u}),{data:p,error:f}=await eF(n,{method:"POST",body:c,headers:d});if(f)throw f;return eQ(p)}async function e2(e,t){let{data:r,error:i}=await eF(t,{method:"GET",headers:{accept:"application/json"}});if(i)throw i;let n=r.keys,a=JSON.parse(atob(e.split(".")[0])),o=n.find(e=>e.kid===a.kid);if(!o)throw Error("Key not found");return await (0,eW.jwtVerify)(e,o)}e.s(["a",()=>e1,"c",()=>eQ,"i",()=>e0,"l",()=>eG,"n",()=>e4,"o",()=>eY,"r",()=>e2,"s",()=>eX,"t",()=>e6,"u",()=>eJ],11591);var e8=e.i(65466),e3=e.i(97554),e5=e.i(42020);function e9(e){return(0,e5.isObject)(e)}class e7{#g;#y=new WeakMap;constructor(e){if(!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(e9)}(e))throw new e8.JWKSInvalid("JSON Web Key Set malformed");this.#g=structuredClone(e)}jwks(){return this.#g}async getKey(e,t){let{alg:r,kid:i}={...e,...t?.header},n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new e8.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this.#g.keys.filter(e=>{let t=n===e.kty;if(t&&"string"==typeof i&&(t=i===e.kid),t&&("string"==typeof e.alg||"AKP"===n)&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":case"EdDSA":t="Ed25519"===e.crv}return t}),{0:o,length:s}=a;if(0===s)throw new e8.JWKSNoMatchingKey;if(1!==s){let e=new e8.JWKSMultipleMatchingKeys,t=this.#y;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await te(t,e,r)}catch{}},e}return te(this.#y,o,r)}}async function te(e,t,r){let i=e.get(t)||e.set(t,{}).get(t);if(void 0===i[r]){let e=await (0,e3.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new e8.JWKSInvalid("JSON Web Key Set members must be public keys");i[r]=e}return i[r]}function tt(e){let t=new e7(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>structuredClone(t.jwks()),enumerable:!1,configurable:!1,writable:!1}}),r}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(t="jose/v6.1.3");let tr=Symbol();async function ti(e,t,r,i=fetch){let n=await i(e,{method:"GET",signal:r,redirect:"manual",headers:t}).catch(e=>{if("TimeoutError"===e.name)throw new e8.JWKSTimeout;throw e});if(200!==n.status)throw new e8.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await n.json()}catch{throw new e8.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let tn=Symbol();class ta{#v;#b;#w;#k;#_;#x;#$;#A;#I;#E;constructor(e,r){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this.#v=new URL(e.href),this.#b="number"==typeof r?.timeoutDuration?r?.timeoutDuration:5e3,this.#w="number"==typeof r?.cooldownDuration?r?.cooldownDuration:3e4,this.#k="number"==typeof r?.cacheMaxAge?r?.cacheMaxAge:6e5,this.#$=new Headers(r?.headers),t&&!this.#$.has("User-Agent")&&this.#$.set("User-Agent",t),this.#$.has("accept")||(this.#$.set("accept","application/json"),this.#$.append("accept","application/jwk-set+json")),this.#A=r?.[tr],r?.[tn]!==void 0&&(this.#E=r?.[tn],function(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!(0,e5.isObject)(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,e5.isObject)}(r?.[tn],this.#k)&&(this.#_=this.#E.uat,this.#I=tt(this.#E.jwks)))}pendingFetch(){return!!this.#x}coolingDown(){return"number"==typeof this.#_&&Date.now()<this.#_+this.#w}fresh(){return"number"==typeof this.#_&&Date.now()<this.#_+this.#k}jwks(){return this.#I?.jwks()}async getKey(e,t){this.#I&&this.fresh()||await this.reload();try{return await this.#I(e,t)}catch(r){if(r instanceof e8.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),this.#I(e,t);throw r}}async reload(){this.#x&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this.#x=void 0),this.#x||=ti(this.#v.href,this.#$,AbortSignal.timeout(this.#b),this.#A).then(e=>{this.#I=tt(e),this.#E&&(this.#E.uat=Date.now(),this.#E.jwks=e),this.#_=Date.now(),this.#x=void 0}).catch(e=>{throw this.#x=void 0,e}),await this.#x}}var to=e.i(63370),ts=e.i(32802);function tl(e){let t,r;if("string"!=typeof e)throw new e8.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new e8.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new e8.JWTInvalid("Invalid JWT");if(!i)throw new e8.JWTInvalid("JWTs must contain a payload");try{t=(0,to.decode)(i)}catch{throw new e8.JWTInvalid("Failed to base64url decode the payload")}try{r=JSON.parse(ts.decoder.decode(t))}catch{throw new e8.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,e5.isObject)(r))throw new e8.JWTInvalid("Invalid JWT Claims Set");return r}function tu(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(ts.decoder.decode((0,to.decode)(t)));if(!(0,e5.isObject)(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}let tc=async e=>{let{data:t}=await eF("https://appleid.apple.com/auth/keys");if(!t?.keys)throw new ee.APIError("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await (0,e3.importJWK)(r,r.alg)},td=async(e,t,r)=>{let i=`https://cognito-idp.${t}.amazonaws.com/${r}/.well-known/jwks.json`;try{let{data:t}=await eF(i);if(!t?.keys)throw new ee.APIError("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await (0,e3.importJWK)(r,r.alg)}catch(e){throw e$.i.error("Failed to fetch Cognito public key:",e),e}},tp=(e="")=>e.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://"),tf=async e=>{let{data:t}=await eF("https://www.googleapis.com/oauth2/v3/certs");if(!t?.keys)throw new ee.APIError("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await (0,e3.importJWK)(r,r.alg)},tm={apple:e=>({id:"apple",name:"Apple",async createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["email","name"];return e.scope&&n.push(...e.scope),r&&n.push(...r),await eY({id:"apple",options:e,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:n,state:t,redirectURI:i,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://appleid.apple.com/auth/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let{kid:i,alg:n}=tu(t);if(!i||!n)return!1;let{payload:a}=await (0,eW.jwtVerify)(t,await tc(i),{algorithms:[n],issuer:"https://appleid.apple.com",audience:e.audience&&e.audience.length?e.audience:e.appBundleIdentifier?e.appBundleIdentifier:e.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(e=>{void 0!==a[e]&&(a[e]=!!a[e])}),(!r||a.nonce===r)&&!!a},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=tl(t.idToken);if(!r)return null;let i=t.user?`${t.user.name?.firstName} ${t.user.name?.lastName}`:r.name||r.email,n="boolean"==typeof r.email_verified?r.email_verified:"true"===r.email_verified,a={...r,name:i},o=await e.mapProfileToUser?.(a);return{user:{id:r.sub,name:a.name,emailVerified:n,email:r.email,...o},data:a}},options:e}),atlassian:e=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw e$.i.error("Client Id and Secret are required for Atlassian"),new eA.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new eA.t("codeVerifier is required for Atlassian");let a=e.disableDefaultScope?[]:["read:jira-user","offline_access"];return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"atlassian",options:e,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n,additionalParams:{audience:"api.atlassian.com"},prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;try{let{data:r}=await eF("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name,email:r.email,image:r.picture,emailVerified:!1,...i},data:r}}catch(e){return e$.i.error("Failed to fetch user info from Figma:",e),null}},options:e}),cognito:e=>{if(!e.domain||!e.region||!e.userPoolId)throw e$.i.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new eA.t("DOMAIN_AND_REGION_REQUIRED");let t=e.domain.replace(/^https?:\/\//,""),r=`https://${t}/oauth2/authorize`,i=`https://${t}/oauth2/token`,n=`https://${t}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:t,scopes:i,codeVerifier:n,redirectURI:a}){if(!e.clientId)throw e$.i.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new eA.t("CLIENT_ID_AND_SECRET_REQUIRED");if(e.requireClientSecret&&!e.clientSecret)throw e$.i.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new eA.t("CLIENT_SECRET_REQUIRED");let o=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&o.push(...e.scope),i&&o.push(...i),await eY({id:"cognito",options:{...e},authorizationEndpoint:r,scopes:o,state:t,codeVerifier:n,redirectURI:a,prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>e4({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:i}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{let{kid:i,alg:n}=tu(t);if(!i||!n)return!1;let a=await td(i,e.region,e.userPoolId),o=`https://cognito-idp.${e.region}.amazonaws.com/${e.userPoolId}`,{payload:s}=await (0,eW.jwtVerify)(t,a,{algorithms:[n],issuer:o,audience:e.clientId,maxTokenAge:"1h"});if(r&&s.nonce!==r)return!1;return!0}catch(e){return e$.i.error("Failed to verify ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken)try{let r=tl(t.idToken);if(!r)return null;let i=r.name||r.given_name||r.username||r.email,n={...r,name:i},a=await e.mapProfileToUser?.(n);return{user:{id:r.sub,name:n.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...a},data:n}}catch(e){e$.i.error("Failed to decode ID token:",e)}if(t.accessToken)try{let{data:r}=await eF(n,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(r){let t=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.given_name||r.username,email:r.email,image:r.picture,emailVerified:r.email_verified,...t},data:r}}}catch(e){e$.i.error("Failed to fetch user info from Cognito:",e)}return null},options:e}},discord:e=>({id:"discord",name:"Discord",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["identify","email"];r&&n.push(...r),e.scope&&n.push(...e.scope);let a=n.includes("bot")&&void 0!==e.permissions?`&permissions=${e.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${n.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}&prompt=${e.prompt||"none"}${a}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:r,options:e,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;if(null===r.avatar)r.image_url=`https://cdn.discordapp.com/embed/avatars/${"0"===r.discriminator?Number(BigInt(r.id)>>BigInt(22))%6:parseInt(r.discriminator)%5}.png`;else{let e=r.avatar.startsWith("a_")?"gif":"png";r.image_url=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}.${e}`}let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.global_name||r.username||"",email:r.email,emailVerified:r.verified,image:r.image_url,...n},data:r}},options:e}),facebook:e=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:t,scopes:r,redirectURI:i,loginHint:n}){let a=e.disableDefaultScope?[]:["email","public_profile"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await eY({id:"facebook",options:e,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:a,state:t,redirectURI:i,loginHint:n,additionalParams:e.configId?{config_id:e.configId}:{}})},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:r,options:e,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);if(3===t.split(".").length)try{var i;let n,a,{payload:o}=await (0,eW.jwtVerify)(t,(i=new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/"),n=new ta(i,void 0),a=async(e,t)=>n.getKey(e,t),Object.defineProperties(a,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>n.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>n.jwks(),enumerable:!0,configurable:!1,writable:!1}}),a),{algorithms:["RS256"],audience:e.clientId,issuer:"https://www.facebook.com"});if(r&&o.nonce!==r)return!1;return!!o}catch(e){return!1}return!0},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken&&3===t.idToken.split(".").length){let r=tl(t.idToken),i={id:r.sub,name:r.name,email:r.email,picture:{data:{url:r.picture,height:100,width:100,is_silhouette:!1}}},n=await e.mapProfileToUser?.({...i,email_verified:!1});return{user:{...i,emailVerified:!1,...n},data:r}}let{data:r,error:i}=await eF("https://graph.facebook.com/me?fields="+["id","name","email","picture",...e?.fields||[]].join(","),{auth:{type:"Bearer",token:t.accessToken}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name,email:r.email,image:r.picture.data.url,emailVerified:r.email_verified,...n},data:r}},options:e}),figma:e=>({id:"figma",name:"Figma",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw e$.i.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new eA.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new eA.t("codeVerifier is required for Figma");let a=e.disableDefaultScope?[]:["file_read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await eY({id:"figma",options:e,authorizationEndpoint:"https://www.figma.com/oauth",scopes:a,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await eF("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return e$.i.error("Failed to fetch user from Figma"),null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.handle,email:r.email,image:r.img_url,emailVerified:!!r.email,...i},data:r}}catch(e){return e$.i.error("Failed to fetch user info from Figma:",e),null}},options:e}),github:e=>({id:"github",name:"GitHub",createAuthorizationURL({state:t,scopes:r,loginHint:i,codeVerifier:n,redirectURI:a}){let o=e.disableDefaultScope?[]:["read:user","user:email"];return e.scope&&o.push(...e.scope),r&&o.push(...r),eY({id:"github",options:e,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:o,state:t,codeVerifier:n,redirectURI:a,loginHint:i,prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://github.com/login/oauth/access_token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${t.accessToken}`}});if(i)return null;let{data:n}=await eF("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});!r.email&&n&&(r.email=(n.find(e=>e.primary)??n[0])?.email);let a=n?.find(e=>e.email===r.email)?.verified??!1,o=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name||r.login,email:r.email,image:r.avatar_url,emailVerified:a,...o},data:r}},options:e}),microsoft:e=>{let t=e.tenantId||"common",r=e.authority||"https://login.microsoftonline.com",i=`${r}/${t}/oauth2/v2.0/authorize`,n=`${r}/${t}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),eY({id:"microsoft",options:e,authorizationEndpoint:i,state:t.state,codeVerifier:t.codeVerifier,scopes:r,redirectURI:t.redirectURI,prompt:e.prompt,loginHint:t.loginHint})},validateAuthorizationCode:({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=tl(t.idToken),i=e.profilePhotoSize||48;await eF(`https://graph.microsoft.com/v1.0/me/photos/${i}x${i}/$value`,{headers:{Authorization:`Bearer ${t.accessToken}`},async onResponse(t){if(!e.disableProfilePhoto&&t.response.ok)try{let e=await t.response.clone().arrayBuffer();r.picture=`data:image/jpeg;base64, ${ec.base64.encode(e)}`}catch(e){e$.i.error(e&&"object"==typeof e&&"name"in e?e.name:"",e)}}});let n=await e.mapProfileToUser?.(r),a=void 0!==r.email_verified?r.email_verified:!!(r.email&&(r.verified_primary_email?.includes(r.email)||r.verified_secondary_email?.includes(r.email)));return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:a,...n},data:r}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),e1({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},extraParams:{scope:r.join(" ")},tokenEndpoint:n})},options:e}},google:e=>({id:"google",name:"Google",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n,loginHint:a,display:o}){if(!e.clientId||!e.clientSecret)throw e$.i.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new eA.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new eA.t("codeVerifier is required for Google");let s=e.disableDefaultScope?[]:["email","profile","openid"];return e.scope&&s.push(...e.scope),r&&s.push(...r),await eY({id:"google",options:e,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:s,state:t,codeVerifier:i,redirectURI:n,prompt:e.prompt,accessType:e.accessType,display:o||e.display,loginHint:a,hd:e.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let{kid:i,alg:n}=tu(t);if(!i||!n)return!1;let{payload:a}=await (0,eW.jwtVerify)(t,await tf(i),{algorithms:[n],issuer:["https://accounts.google.com","accounts.google.com"],audience:e.clientId,maxTokenAge:"1h"});return!r||a.nonce===r},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=tl(t.idToken),i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...i},data:r}},options:e}),huggingface:e=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"huggingface",options:e,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.preferred_username,email:r.email,image:r.picture,emailVerified:r.email_verified??!1,...n},data:r}},options:e}),slack:e=>({id:"slack",name:"Slack",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["openid","profile","email"];r&&n.push(...r),e.scope&&n.push(...e.scope);let a=new URL("https://slack.com/openid/connect/authorize");return a.searchParams.set("scope",n.join(" ")),a.searchParams.set("response_type","code"),a.searchParams.set("client_id",e.clientId),a.searchParams.set("redirect_uri",e.redirectURI||i),a.searchParams.set("state",t),a},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:r,options:e,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r["https://slack.com/user_id"],name:r.name||"",email:r.email,emailVerified:r.email_verified,image:r.picture||r["https://slack.com/user_image_512"],...n},data:r}},options:e}),spotify:e=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["user-read-email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"spotify",options:e,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,email:r.email,image:r.images[0]?.url,emailVerified:!1,...n},data:r}},options:e}),twitch:e=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["user:read:email","openid"];return e.scope&&n.push(...e.scope),r&&n.push(...r),eY({id:"twitch",redirectURI:i,options:e,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:n,state:t,claims:e.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=t.idToken;if(!r)return e$.i.error("No idToken found in token"),null;let i=tl(r),n=await e.mapProfileToUser?.(i);return{user:{id:i.sub,name:i.preferred_username,email:i.email,image:i.picture,emailVerified:i.email_verified,...n},data:i}},options:e}),twitter:e=>({id:"twitter",name:"Twitter",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),eY({id:"twitter",options:e,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:r,state:t.state,codeVerifier:t.codeVerifier,redirectURI:t.redirectURI})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,authentication:"basic",redirectURI:i,options:e,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let{data:n,error:a}=await eF("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}}),o=!1;!a&&n?.data?.confirmed_email&&(r.data.email=n.data.confirmed_email,o=!0);let s=await e.mapProfileToUser?.(r);return{user:{id:r.data.id,name:r.data.name,email:r.data.email||r.data.username||null,image:r.data.profile_image_url,emailVerified:o,...s},data:r}},options:e}),dropbox:e=>({id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:t,scopes:r,codeVerifier:i,redirectURI:n})=>{let a=e.disableDefaultScope?[]:["account_info.read"];e.scope&&a.push(...e.scope),r&&a.push(...r);let o={};return e.accessType&&(o.token_access_type=e.accessType),await eY({id:"dropbox",options:e,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:a,state:t,redirectURI:n,codeVerifier:i,additionalParams:o})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>await e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://api.dropboxapi.com/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name?.display_name,email:r.email,emailVerified:r.email_verified||!1,image:r.profile_photo_url,...n},data:r}},options:e}),kick:e=>({id:"kick",name:"Kick",createAuthorizationURL({state:t,scopes:r,redirectURI:i,codeVerifier:n}){let a=e.disableDefaultScope?[]:["user:read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"kick",redirectURI:i,options:e,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:a,codeVerifier:n,state:t})},validateAuthorizationCode:async({code:t,redirectURI:r,codeVerifier:i})=>e4({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:"https://id.kick.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=r.data[0],a=await e.mapProfileToUser?.(n);return{user:{id:n.user_id,name:n.name,email:n.email,image:n.profile_picture,emailVerified:!1,...a},data:n}},options:e}),linear:e=>{let t="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"linear",options:e,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:a,state:t,redirectURI:n,loginHint:i})},validateAuthorizationCode:async({code:r,redirectURI:i})=>e4({code:r,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>e1({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(i||!r?.data?.viewer)return null;let n=r.data.viewer,a=await e.mapProfileToUser?.(n);return{user:{id:r.data.viewer.id,name:r.data.viewer.name,email:r.data.viewer.email,image:r.data.viewer.avatarUrl,emailVerified:!1,...a},data:n}},options:e}},linkedin:e=>{let t="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:t,scopes:r,redirectURI:i,loginHint:n})=>{let a=e.disableDefaultScope?[]:["profile","email","openid"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await eY({id:"linkedin",options:e,authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",scopes:a,state:t,loginHint:n,redirectURI:i})},validateAuthorizationCode:async({code:r,redirectURI:i})=>await e4({code:r,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>e1({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,emailVerified:r.email_verified||!1,image:r.picture,...n},data:r}},options:e}},gitlab:e=>{let t,{authorizationEndpoint:r,tokenEndpoint:i,userinfoEndpoint:n}=(t=e.issuer||"https://gitlab.com",{authorizationEndpoint:tp(`${t}/oauth/authorize`),tokenEndpoint:tp(`${t}/oauth/token`),userinfoEndpoint:tp(`${t}/api/v4/user`)}),a="gitlab";return{id:a,name:"Gitlab",createAuthorizationURL:async({state:t,scopes:i,codeVerifier:n,loginHint:o,redirectURI:s})=>{let l=e.disableDefaultScope?[]:["read_user"];return e.scope&&l.push(...e.scope),i&&l.push(...i),await eY({id:a,options:e,authorizationEndpoint:r,scopes:l,state:t,redirectURI:s,codeVerifier:n,loginHint:o})},validateAuthorizationCode:async({code:t,redirectURI:r,codeVerifier:n})=>e4({code:t,redirectURI:r,options:e,codeVerifier:n,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF(n,{headers:{authorization:`Bearer ${t.accessToken}`}});if(i||"active"!==r.state||r.locked)return null;let a=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name??r.username,email:r.email,image:r.avatar_url,emailVerified:r.email_verified??!1,...a},data:r}},options:e}},tiktok:e=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["user.info.profile"];return e.scope&&n.push(...e.scope),r&&n.push(...r),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${n.join(",")}&response_type=code&client_key=${e.clientKey}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:e.redirectURI||r,options:{clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:e.clientKey}}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://open.tiktokapis.com/v2/user/info/?fields=open_id,avatar_large_url,display_name,username",{headers:{authorization:`Bearer ${t.accessToken}`}});return i?null:{user:{email:r.data.user.email||r.data.user.username,id:r.data.user.open_id,name:r.data.user.display_name||r.data.user.username,image:r.data.user.avatar_large_url,emailVerified:!!r.data.user.email},data:r}},options:e}),reddit:e=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["identity"];return e.scope&&n.push(...e.scope),r&&n.push(...r),eY({id:"reddit",options:e,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:n,state:t,redirectURI:i,duration:e.duration})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let i=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:e.redirectURI||r}),{data:n,error:a}=await eF("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${ec.base64.encode(`${e.clientId}:${e.clientSecret}`)}`},body:i.toString()});if(a)throw a;return eQ(n)},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name,email:r.oauth_client_id,emailVerified:r.has_verified_email,image:r.icon_img?.split("?")[0],...n},data:r}},options:e}),roblox:e=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["openid","profile"];return e.scope&&n.push(...e.scope),r&&n.push(...r),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${n.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}&prompt=${e.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.nickname||r.preferred_username||"",image:r.picture,email:r.preferred_username||null,emailVerified:!1,...n},data:{...r}}},options:e}),salesforce:e=>{let t=(e.environment??"production")==="sandbox",r=e.loginUrl?`https://${e.loginUrl}/services/oauth2/authorize`:t?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",i=e.loginUrl?`https://${e.loginUrl}/services/oauth2/token`:t?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",n=e.loginUrl?`https://${e.loginUrl}/services/oauth2/userinfo`:t?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:t,scopes:i,codeVerifier:n,redirectURI:a}){if(!e.clientId||!e.clientSecret)throw e$.i.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new eA.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new eA.t("codeVerifier is required for Salesforce");let o=e.disableDefaultScope?[]:["openid","email","profile"];return e.scope&&o.push(...e.scope),i&&o.push(...i),eY({id:"salesforce",options:e,authorizationEndpoint:r,scopes:o,state:t,codeVerifier:n,redirectURI:e.redirectURI||a})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>e4({code:t,codeVerifier:r,redirectURI:e.redirectURI||n,options:e,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await eF(n,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return e$.i.error("Failed to fetch user info from Salesforce"),null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.user_id,name:r.name,email:r.email,image:r.photos?.picture||r.photos?.thumbnail,emailVerified:r.email_verified??!1,...i},data:r}}catch(e){return e$.i.error("Failed to fetch user info from Salesforce:",e),null}},options:e}},vk:e=>({id:"vk",name:"VK",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["email","phone"];return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"vk",options:e,authorizationEndpoint:"https://id.vk.com/authorize",scopes:a,state:t,redirectURI:n,codeVerifier:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i,deviceId:n})=>e4({code:t,codeVerifier:r,redirectURI:e.redirectURI||i,options:e,deviceId:n,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;let r=new URLSearchParams({access_token:t.accessToken,client_id:e.clientId}).toString(),{data:i,error:n}=await eF("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(n)return null;let a=await e.mapProfileToUser?.(i);return i.user.email||a?.email?{user:{id:i.user.user_id,first_name:i.user.first_name,last_name:i.user.last_name,email:i.user.email,image:i.user.avatar,emailVerified:!!i.user.email,birthday:i.user.birthday,sex:i.user.sex,name:`${i.user.first_name} ${i.user.last_name}`,...a},data:i}:null},options:e}),zoom:e=>{let t={pkce:!0,...e};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:e,redirectURI:r,codeVerifier:i})=>{let n=new URLSearchParams({response_type:"code",redirect_uri:t.redirectURI?t.redirectURI:r,client_id:t.clientId,state:e});if(t.pkce){let e=await eX(i);n.set("code_challenge_method","S256"),n.set("code_challenge",e)}let a=new URL("https://zoom.us/oauth/authorize");return a.search=n.toString(),a},validateAuthorizationCode:async({code:e,redirectURI:r,codeVerifier:i})=>e4({code:e,redirectURI:t.redirectURI||r,codeVerifier:i,options:t,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),refreshAccessToken:t.refreshAccessToken?t.refreshAccessToken:async e=>e1({refreshToken:e,options:{clientId:t.clientId,clientKey:t.clientKey,clientSecret:t.clientSecret},tokenEndpoint:"https://zoom.us/oauth/token"}),async getUserInfo(e){if(t.getUserInfo)return t.getUserInfo(e);let{data:r,error:i}=await eF("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${e.accessToken}`}});if(i)return null;let n=await t.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,image:r.pic_url,email:r.email,emailVerified:!!r.verified,...n},data:{...r}}}}},notion:e=>{let t="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let a=(e.disableDefaultScope,[]);return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"notion",options:e,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:a,state:t,redirectURI:n,loginHint:i,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:r,redirectURI:i})=>e4({code:r,redirectURI:i,options:e,tokenEndpoint:t,authentication:"basic"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>e1({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"Notion-Version":"2022-06-28"}});if(i||!r)return null;let n=r.bot?.owner?.user;if(!n)return null;let a=await e.mapProfileToUser?.(n);return{user:{id:n.id,name:n.name||"Notion User",email:n.person?.email||null,image:n.avatar_url,emailVerified:!!n.person?.email,...a},data:n}},options:e}},kakao:e=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return e.scope&&n.push(...e.scope),r&&n.push(...r),eY({id:"kakao",options:e,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:n,state:t,redirectURI:i})},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:r,options:e,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i||!r)return null;let n=await e.mapProfileToUser?.(r),a=r.kakao_account||{},o=a.profile||{};return{user:{id:String(r.id),name:o.nickname||a.name||void 0,email:a.email,image:o.profile_image_url||o.thumbnail_image_url,emailVerified:!!a.is_email_valid&&!!a.is_email_verified,...n},data:r}},options:e}),naver:e=>({id:"naver",name:"Naver",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["profile","email"];return e.scope&&n.push(...e.scope),r&&n.push(...r),eY({id:"naver",options:e,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:n,state:t,redirectURI:i})},validateAuthorizationCode:async({code:t,redirectURI:r})=>e4({code:t,redirectURI:r,options:e,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i||!r||"00"!==r.resultcode)return null;let n=await e.mapProfileToUser?.(r),a=r.response||{};return{user:{id:a.id,name:a.name||a.nickname,email:a.email,image:a.profile_image,emailVerified:!1,...n},data:r}},options:e}),line:e=>{let t="https://api.line.me/oauth2/v2.1/token";return{id:"line",name:"LINE",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n,loginHint:a}){let o=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&o.push(...e.scope),r&&o.push(...r),await eY({id:"line",options:e,authorizationEndpoint:"https://access.line.me/oauth2/v2.1/authorize",scopes:o,state:t,codeVerifier:i,redirectURI:n,loginHint:a})},validateAuthorizationCode:async({code:r,codeVerifier:i,redirectURI:n})=>e4({code:r,codeVerifier:i,redirectURI:n,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>e1({refreshToken:r,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:t}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let i=new URLSearchParams;i.set("id_token",t),i.set("client_id",e.clientId),r&&i.set("nonce",r);let{data:n,error:a}=await eF("https://api.line.me/oauth2/v2.1/verify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:i});return!a&&!!n&&n.aud===e.clientId&&(!r||!n.nonce||n.nonce===r)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=null;if(t.idToken)try{r=tl(t.idToken)}catch{}if(!r){let{data:e}=await eF("https://api.line.me/oauth2/v2.1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});r=e||null}if(!r)return null;let i=await e.mapProfileToUser?.(r),n=r.sub||r.userId,a=r.name||r.displayName,o=r.picture||r.pictureUrl||void 0;return{user:{id:n,name:a,email:r.email,image:o,emailVerified:!1,...i},data:r}},options:e}},paybin:e=>{let t=e.issuer||"https://idp.paybin.io",r=`${t}/oauth2/authorize`,i=`${t}/oauth2/token`;return{id:"paybin",name:"Paybin",async createAuthorizationURL({state:t,scopes:i,codeVerifier:n,redirectURI:a,loginHint:o}){if(!e.clientId||!e.clientSecret)throw e$.i.error("Client Id and Client Secret is required for Paybin. Make sure to provide them in the options."),new eA.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new eA.t("codeVerifier is required for Paybin");let s=e.disableDefaultScope?[]:["openid","email","profile"];return e.scope&&s.push(...e.scope),i&&s.push(...i),await eY({id:"paybin",options:e,authorizationEndpoint:r,scopes:s,state:t,codeVerifier:n,redirectURI:a,prompt:e.prompt,loginHint:o})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>e4({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=tl(t.idToken),i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.preferred_username||(r.email?r.email.split("@")[0]:"User")||"User",email:r.email,image:r.picture,emailVerified:r.email_verified||!1,...i},data:r}},options:e}},paypal:e=>{let t="sandbox"===(e.environment||"sandbox"),r=t?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",i=t?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",n=t?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:t,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw e$.i.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new eA.t("CLIENT_ID_AND_SECRET_REQUIRED");return await eY({id:"paypal",options:e,authorizationEndpoint:r,scopes:[],state:t,codeVerifier:i,redirectURI:n,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let n=ec.base64.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await eF(i,{method:"POST",headers:{Authorization:`Basic ${n}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:r}).toString()});if(!e.data)throw new eA.t("FAILED_TO_GET_ACCESS_TOKEN");let a=e.data;return{accessToken:a.access_token,refreshToken:a.refresh_token,accessTokenExpiresAt:a.expires_in?new Date(Date.now()+1e3*a.expires_in):void 0,idToken:a.id_token}}catch(e){throw e$.i.error("PayPal token exchange failed:",e),new eA.t("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=ec.base64.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await eF(i,{method:"POST",headers:{Authorization:`Basic ${r}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:t}).toString()});if(!e.data)throw new eA.t("FAILED_TO_REFRESH_ACCESS_TOKEN");let n=e.data;return{accessToken:n.access_token,refreshToken:n.refresh_token,accessTokenExpiresAt:n.expires_in?new Date(Date.now()+1e3*n.expires_in):void 0}}catch(e){throw e$.i.error("PayPal token refresh failed:",e),new eA.t("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{return!!tl(t).sub}catch(e){return e$.i.error("Failed to verify PayPal ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return e$.i.error("Access token is required to fetch PayPal user info"),null;try{let r=await eF(`${n}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${t.accessToken}`,Accept:"application/json"}});if(!r.data)return e$.i.error("Failed to fetch user info from PayPal"),null;let i=r.data,a=await e.mapProfileToUser?.(i);return{user:{id:i.user_id,name:i.name,email:i.email,image:i.picture,emailVerified:i.email_verified,...a},data:i}}catch(e){return e$.i.error("Failed to fetch user info from PayPal:",e),null}},options:e}},polar:e=>({id:"polar",name:"Polar",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),eY({id:"polar",options:e,authorizationEndpoint:"https://polar.sh/oauth2/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n,prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://api.polar.sh/v1/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>e1({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://api.polar.sh/v1/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.polar.sh/v1/oauth2/userinfo",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.public_name||r.username,email:r.email,image:r.avatar_url,emailVerified:r.email_verified??!1,...n},data:r}},options:e}),vercel:e=>({id:"vercel",name:"Vercel",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let a;if(!i)throw new eA.t("codeVerifier is required for Vercel");return(void 0!==e.scope||void 0!==r)&&(a=[],e.scope&&a.push(...e.scope),r&&a.push(...r)),eY({id:"vercel",options:e,authorizationEndpoint:"https://vercel.com/oauth/authorize",scopes:a,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>e4({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://api.vercel.com/login/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await eF("https://api.vercel.com/login/oauth/userinfo",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i||!r)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name??r.preferred_username,email:r.email,image:r.picture,emailVerified:r.email_verified??!1,...n},data:r}},options:e})},th=Object.keys(tm),tg=g.enum(th).or(g.string());function ty(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e))}function tv(e){return(...t)=>t.reduce((t,r)=>(function e(t,r,i=".",n){if(!ty(r))return e(t,{},i,n);let a=Object.assign({},r);for(let r in t){if("__proto__"===r||"constructor"===r)continue;let o=t[r];null!=o&&(n&&n(a,r,o,i)||(Array.isArray(o)&&Array.isArray(a[r])?a[r]=[...o,...a[r]]:ty(o)&&ty(a[r])?a[r]=e(o,a[r],(i?`${i}.`:"")+r.toString(),n):a[r]=o))}return a})(t,r,"",e),{})}let tb=tv();tv((e,t,r)=>{if(void 0!==e[t]&&"function"==typeof r)return e[t]=r(e[t]),!0}),tv((e,t,r)=>{if(Array.isArray(e[t])&&"function"==typeof r)return e[t]=r(e[t]),!0});let tw=(0,eu.createAuthMiddleware)(async e=>{if(e.request?.method==="GET"||e.request?.method==="OPTIONS"||e.request?.method==="HEAD"||!e.request)return;let t=e.request?.headers,{body:r,query:i}=e,n=t?.get("origin")||t?.get("referer")||"",a=r?.callbackURL||i?.callbackURL,o=r?.redirectTo,s=r?.errorCallbackURL,l=r?.newUserCallbackURL,u=t?.has("cookie"),c=(t,r)=>{if(t&&!e.context.isTrustedOrigin(t,{allowRelativePaths:"origin"!==r}))throw e.context.logger.error(`Invalid ${r}: ${t}`),e.context.logger.info(`If it's a valid URL, please add ${t} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${e.context.trustedOrigins}`),new ee.APIError("FORBIDDEN",{message:`Invalid ${r}`})};if(u&&!e.context.skipCSRFCheck&&!e.context.skipOriginCheck){if(!n||"null"===n)throw new ee.APIError("FORBIDDEN",{message:"Missing or null Origin"});c(n,"origin")}a&&c(a,"callbackURL"),o&&c(o,"redirectURL"),s&&c(s,"errorCallbackURL"),l&&c(l,"newUserCallbackURL")}),tk=e=>(0,eu.createAuthMiddleware)(async t=>{if(!t.request)return;let r=e(t),i=(e,r)=>{if(e&&!t.context.isTrustedOrigin(e,{allowRelativePaths:"origin"!==r}))throw t.context.logger.error(`Invalid ${r}: ${e}`),t.context.logger.info(`If it's a valid URL, please add ${e} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${t.context.trustedOrigins}`),new ee.APIError("FORBIDDEN",{message:`Invalid ${r}`})};for(let e of Array.isArray(r)?r:[r])i(e,"callbackURL")});function t_(e){return"-"===e||"^"===e||"$"===e||"+"===e||"."===e||"("===e||")"===e||"|"===e||"["===e||"]"===e||"{"===e||"}"===e||"*"===e||"?"===e||"\\"===e?`\\${e}`:e}function tx(e,t){if("string"!=typeof t)throw TypeError(`Sample must be a string, but ${typeof t} given`);return e.test(t)}function t$(e,t){if("string"!=typeof e&&!Array.isArray(e))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof e} given`);if(("string"==typeof t||"boolean"==typeof t)&&(t={separator:t}),2==arguments.length&&!(void 0===t||"object"==typeof t&&null!==t&&!Array.isArray(t)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof t} given`);if("\\"===(t=t||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let r=function e(t,r=!0){if(Array.isArray(t))return`(?:${t.map(t=>`^${e(t,r)}$`).join("|")})`;let i="",n="",a=".";!0===r?(i="/",n="[/\\\\]",a="[^/\\\\]"):r&&((n=function(e){let t="";for(let r=0;r<e.length;r++)t+=t_(e[r]);return t}(i=r)).length>1?(n=`(?:${n})`,a=`((?!${n}).)`):a=`[^${n}]`);let o=r?`${n}+?`:"",s=r?`${n}*?`:"",l=r?t.split(i):[t],u="";for(let e=0;e<l.length;e++){let t=l[e],i=l[e+1],n="";if(t||!(e>0)){if(r&&(n=e===l.length-1?s:"**"!==i?o:""),r&&"**"===t){n&&(u+=0===e?"":n,u+=`(?:${a}*?${n})*?`);continue}for(let e=0;e<t.length;e++){let r=t[e];"\\"===r?e<t.length-1&&(u+=t_(t[e+1]),e++):"?"===r?u+=a:"*"===r?u+=`${a}*?`:u+=t_(r)}u+=n}}return u}(e,t.separator),i=RegExp(`^${r}$`,t.flags),n=tx.bind(null,i);return n.options=t,n.pattern=e,n.regexp=i,n}let tA=new Map;async function tI(e,t){if(!t.rateLimit.enabled)return;let r=new URL(e.url).pathname.replace(t.options.basePath||"/api/auth",""),i=t.rateLimit.window,n=t.rateLimit.max,a=y(e,t.options);if(!a)return;let o=a+r,s=[{pathMatcher:e=>e.startsWith("/sign-in")||e.startsWith("/sign-up")||e.startsWith("/change-password")||e.startsWith("/change-email"),window:10,max:3}].find(e=>e.pathMatcher(r));for(let e of(s&&(i=s.window,n=s.max),t.options.plugins||[]))if(e.rateLimit){let t=e.rateLimit.find(e=>e.pathMatcher(r));if(t){i=t.window,n=t.max;break}}if(t.rateLimit.customRules){let a=Object.keys(t.rateLimit.customRules).find(e=>e.includes("*")?t$(e)(r):e===r);if(a){let r=t.rateLimit.customRules[a],o="function"==typeof r?await r(e):r;if(o&&(i=o.window,n=o.max),!1===o)return}}let l=function(e,t){let r,i;if(e.options.rateLimit?.customStorage)return e.options.rateLimit.customStorage;let n=e.rateLimit.storage;return"secondary-storage"===n?{get:async t=>{let r=await e.options.secondaryStorage?.get(t);return r?(0,P.safeJSONParse)(r):void 0},set:async(r,i,n)=>{let a=t?.window??e.options.rateLimit?.window??10;await e.options.secondaryStorage?.set?.(r,JSON.stringify(i),a)}}:"memory"===n?{get:async e=>tA.get(e),async set(e,t,r){tA.set(e,t)}}:(r="rateLimit",i=e.adapter,{get:async e=>{let t=(await i.findMany({model:r,where:[{field:"key",value:e}]}))[0];return"bigint"==typeof t?.lastRequest&&(t.lastRequest=Number(t.lastRequest)),t},set:async(t,n,a)=>{try{a?await i.updateMany({model:r,where:[{field:"key",value:t}],update:{count:n.count,lastRequest:n.lastRequest}}):await i.create({model:r,data:{key:t,count:n.count,lastRequest:n.lastRequest}})}catch(t){e.logger.error("Error setting rate limit",t)}}})}(t,{window:i}),u=await l.get(o),c=Date.now();if(u){var d,p,f;let e=c-u.lastRequest;if(d=n,p=i,Date.now()-u.lastRequest<1e3*p&&u.count>=d)return f=Math.ceil((u.lastRequest+1e3*i-Date.now())/1e3),new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":f.toString()}});e>1e3*i?await l.set(o,{...u,count:1,lastRequest:c},!0):await l.set(o,{...u,count:u.count+1,lastRequest:c},!0)}else await l.set(o,{key:o,count:1,lastRequest:c})}function tE(e,t){return e&&t.options.account?.encryptOAuthTokens?(0,Y.t)({key:t.secret,data:e}):e}function tS(e,t){return t.options.account?.encryptOAuthTokens&&e?(0,Y.n)({key:t.secret,data:e}):e}let tU=(0,eu.createAuthEndpoint)("/list-accounts",{method:"GET",use:[eh],metadata:{openapi:{operationId:"listUserAccounts",description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},userId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","userId","scopes"]}}}}}}}}},async e=>{let t=e.context.session,r=await e.context.internalAdapter.findAccounts(t.user.id);return e.json(r.map(e=>({id:e.id,providerId:e.providerId,createdAt:e.createdAt,updatedAt:e.updatedAt,accountId:e.accountId,userId:e.userId,scopes:e.scope?.split(",")||[]})))}),tT=(0,eu.createAuthEndpoint)("/link-social",{method:"POST",requireHeaders:!0,body:g.object({callbackURL:g.string().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:tg,idToken:g.object({token:g.string(),nonce:g.string().optional(),accessToken:g.string().optional(),refreshToken:g.string().optional(),scopes:g.array(g.string()).optional()}).optional(),requestSignUp:g.boolean().optional(),scopes:g.array(g.string()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:g.string().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:g.boolean().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),additionalData:g.record(g.string(),g.any()).optional()}),use:[eh],metadata:{openapi:{description:"Link a social account to the user",operationId:"linkSocialAccount",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async e=>{let t=e.context.session,r=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!r)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new ee.APIError("NOT_FOUND",{message:el.n.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!r.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new ee.APIError("NOT_FOUND",{message:el.n.ID_TOKEN_NOT_SUPPORTED});let{token:i,nonce:n}=e.body.idToken;if(!await r.verifyIdToken(i,n))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new ee.APIError("UNAUTHORIZED",{message:el.n.INVALID_TOKEN});let a=await r.getUserInfo({idToken:i,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!a||!a?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new ee.APIError("UNAUTHORIZED",{message:el.n.FAILED_TO_GET_USER_INFO});let o=String(a.user.id);if(!a.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new ee.APIError("UNAUTHORIZED",{message:el.n.USER_EMAIL_NOT_FOUND});if((await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>e.providerId===r.id&&e.accountId===o))return e.json({url:"",status:!0,redirect:!1});if(!e.context.options.account?.accountLinking?.trustedProviders?.includes(r.id)&&!a.user.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)throw new ee.APIError("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(a.user.email!==t.user.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new ee.APIError("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await e.context.internalAdapter.createAccount({userId:t.user.id,providerId:r.id,accountId:o,accessToken:e.body.idToken.accessToken,idToken:i,refreshToken:e.body.idToken.refreshToken,scope:e.body.idToken.scopes?.join(",")})}catch(e){throw new ee.APIError("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(e.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await e.context.internalAdapter.updateUser(t.user.id,{name:a.user?.name,image:a.user?.image})}catch(e){console.warn("Could not update user - "+e.toString())}return e.json({url:"",status:!0,redirect:!1})}let i=await ei(e,{userId:t.user.id,email:t.user.email},e.body.additionalData),n=await r.createAuthorizationURL({state:i.state,codeVerifier:i.codeVerifier,redirectURI:`${e.context.baseURL}/callback/${r.id}`,scopes:e.body.scopes});return e.json({url:n.toString(),redirect:!e.body.disableRedirect})}),tO=(0,eu.createAuthEndpoint)("/unlink-account",{method:"POST",body:g.object({providerId:g.string(),accountId:g.string().optional()}),use:[ey],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let{providerId:t,accountId:r}=e.body,i=await e.context.internalAdapter.findAccounts(e.context.session.user.id);if(1===i.length&&!e.context.options.account?.accountLinking?.allowUnlinkingAll)throw new ee.APIError("BAD_REQUEST",{message:el.n.FAILED_TO_UNLINK_LAST_ACCOUNT});let n=i.find(e=>r?e.accountId===r&&e.providerId===t:e.providerId===t);if(!n)throw new ee.APIError("BAD_REQUEST",{message:el.n.ACCOUNT_NOT_FOUND});return await e.context.internalAdapter.deleteAccount(n.id),e.json({status:!0})}),tR=(0,eu.createAuthEndpoint)("/get-access-token",{method:"POST",body:g.object({providerId:g.string().meta({description:"The provider ID for the OAuth provider"}),accountId:g.string().meta({description:"The account ID associated with the refresh token"}).optional(),userId:g.string().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let t,{providerId:r,accountId:i,userId:n}=e.body||{},a=e.request,o=await em(e);if(a&&!o)throw e.error("UNAUTHORIZED");let s=o?.user?.id||n;if(!s)throw e.error("UNAUTHORIZED");if(!e.context.socialProviders.find(e=>e.id===r))throw new ee.APIError("BAD_REQUEST",{message:`Provider ${r} is not supported.`});let l=await (0,es.f)(e);if(!(t=l&&r===l.providerId&&(!i||l.id===i)?l:(await e.context.internalAdapter.findAccounts(s)).find(e=>i?e.id===i&&e.providerId===r:e.providerId===r)))throw new ee.APIError("BAD_REQUEST",{message:"Account not found"});let u=e.context.socialProviders.find(e=>e.id===r);if(!u)throw new ee.APIError("BAD_REQUEST",{message:`Provider ${r} not found.`});try{let r=null,i=t.accessTokenExpiresAt&&new Date(t.accessTokenExpiresAt).getTime()-Date.now()<5e3;if(t.refreshToken&&i&&u.refreshAccessToken){let i=await tE(t.refreshToken,e.context);r=await u.refreshAccessToken(i);let n=await e.context.internalAdapter.updateAccount(t.id,{accessToken:await tS(r.accessToken,e.context),accessTokenExpiresAt:r.accessTokenExpiresAt,refreshToken:await tS(r.refreshToken,e.context),refreshTokenExpiresAt:r.refreshTokenExpiresAt});e.context.options.account?.storeAccountCookie&&n&&await (0,es.h)(e,n)}let n={accessToken:r?.accessToken??await tE(t.accessToken??"",e.context),accessTokenExpiresAt:r?.accessTokenExpiresAt??t.accessTokenExpiresAt??void 0,scopes:t.scope?.split(",")??[],idToken:r?.idToken??t.idToken??void 0};return e.json(n)}catch(e){throw new ee.APIError("BAD_REQUEST",{message:"Failed to get a valid access token",cause:e})}}),tD=(0,eu.createAuthEndpoint)("/refresh-token",{method:"POST",body:g.object({providerId:g.string().meta({description:"The provider ID for the OAuth provider"}),accountId:g.string().meta({description:"The account ID associated with the refresh token"}).optional(),userId:g.string().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let t,r,{providerId:i,accountId:n,userId:a}=e.body,o=e.request,s=await em(e);if(o&&!s)throw e.error("UNAUTHORIZED");let l=s?.user?.id||a;if(!l)throw new ee.APIError("BAD_REQUEST",{message:"Either userId or session is required"});let u=e.context.socialProviders.find(e=>e.id===i);if(!u)throw new ee.APIError("BAD_REQUEST",{message:`Provider ${i} not found.`});if(!u.refreshAccessToken)throw new ee.APIError("BAD_REQUEST",{message:`Provider ${i} does not support token refreshing.`});let c=await (0,es.f)(e);if(!(t=c&&(!i||i===c?.providerId)?c:(await e.context.internalAdapter.findAccounts(l)).find(e=>n?e.id===n&&e.providerId===i:e.providerId===i)))throw new ee.APIError("BAD_REQUEST",{message:"Account not found"});if(!(r=c&&i===c.providerId?c.refreshToken??void 0:t.refreshToken??void 0))throw new ee.APIError("BAD_REQUEST",{message:"Refresh token not found"});try{let n=await tE(r,e.context),a=await u.refreshAccessToken(n);if(t.id){let r={...t||{},accessToken:await tS(a.accessToken,e.context),refreshToken:await tS(a.refreshToken,e.context),accessTokenExpiresAt:a.accessTokenExpiresAt,refreshTokenExpiresAt:a.refreshTokenExpiresAt,scope:a.scopes?.join(",")||t.scope,idToken:a.idToken||t.idToken};await e.context.internalAdapter.updateAccount(t.id,r)}return c&&i===c.providerId&&e.context.options.account?.storeAccountCookie&&await (0,es.h)(e,{...c,accessToken:await tS(a.accessToken,e.context),refreshToken:await tS(a.refreshToken,e.context),accessTokenExpiresAt:a.accessTokenExpiresAt,refreshTokenExpiresAt:a.refreshTokenExpiresAt,scope:a.scopes?.join(",")||c.scope,idToken:a.idToken||c.idToken}),e.json({accessToken:a.accessToken,refreshToken:a.refreshToken,accessTokenExpiresAt:a.accessTokenExpiresAt,refreshTokenExpiresAt:a.refreshTokenExpiresAt,scope:a.scopes?.join(",")||t.scope,idToken:a.idToken||t.idToken,providerId:t.providerId,accountId:t.accountId})}catch(e){throw new ee.APIError("BAD_REQUEST",{message:"Failed to refresh access token",cause:e})}}),tP=g.optional(g.object({accountId:g.string().meta({description:"The provider given account id for which to get the account info"}).optional()})),tj=(0,eu.createAuthEndpoint)("/account-info",{method:"GET",use:[eh],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},query:tP},async e=>{let t,r=e.query?.accountId;if(r){let i=await e.context.internalAdapter.findAccount(r);i&&(t=i)}else if(e.context.options.account?.storeAccountCookie){let r=await (0,es.f)(e);r&&(t=r)}if(!t||t.userId!==e.context.session.user.id)throw new ee.APIError("BAD_REQUEST",{message:"Account not found"});let i=e.context.socialProviders.find(e=>e.id===t.providerId);if(!i)throw new ee.APIError("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${t.providerId} but it is not configured`});let n=await tR({...e,method:"POST",body:{accountId:t.id,providerId:t.providerId},returnHeaders:!1,returnStatus:!1});if(!n.accessToken)throw new ee.APIError("BAD_REQUEST",{message:"Access token not found"});let a=await i.getUserInfo({...n,accessToken:n.accessToken});return e.json(a)});async function tN(e,t){let{userInfo:r,account:i,callbackURL:n,disableSignUp:a,overrideUserInfo:o}=t,s=await e.context.internalAdapter.findOAuthUser(r.email.toLowerCase(),i.accountId,i.providerId).catch(t=>{O.logger.error("Better auth was unable to query your database.\nError: ",t);let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=internal_server_error`)}),l=s?.user,u=!l;if(s){let n=s.accounts.find(e=>e.providerId===i.providerId&&e.accountId===i.accountId);if(n){if(e.context.options.account?.updateAccountOnSignIn!==!1){let t=Object.fromEntries(Object.entries({idToken:i.idToken,accessToken:await tS(i.accessToken,e.context),refreshToken:await tS(i.refreshToken,e.context),accessTokenExpiresAt:i.accessTokenExpiresAt,refreshTokenExpiresAt:i.refreshTokenExpiresAt,scope:i.scope}).filter(([e,t])=>void 0!==t));e.context.options.account?.storeAccountCookie&&await (0,es.h)(e,t),Object.keys(t).length>0&&await e.context.internalAdapter.updateAccount(n.id,t)}r.emailVerified&&!s.user.emailVerified&&r.email.toLowerCase()===s.user.email&&await e.context.internalAdapter.updateUser(s.user.id,{emailVerified:!0})}else{let n=e.context.options.account?.accountLinking?.trustedProviders;if(!(t.isTrustedProvider||n?.includes(i.providerId))&&!r.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return(0,m.d)()&&O.logger.warn(`User already exist but account isn't linked to ${i.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await e.context.internalAdapter.linkAccount({providerId:i.providerId,accountId:r.id.toString(),userId:s.user.id,accessToken:await tS(i.accessToken,e.context),refreshToken:await tS(i.refreshToken,e.context),idToken:i.idToken,accessTokenExpiresAt:i.accessTokenExpiresAt,refreshTokenExpiresAt:i.refreshTokenExpiresAt,scope:i.scope})}catch(e){return O.logger.error("Unable to link account",e),{error:"unable to link account",data:null}}r.emailVerified&&!s.user.emailVerified&&r.email.toLowerCase()===s.user.email&&await e.context.internalAdapter.updateUser(s.user.id,{emailVerified:!0})}if(o){let{id:t,...i}=r;l=await e.context.internalAdapter.updateUser(s.user.id,{...i,email:r.email.toLowerCase(),emailVerified:r.email.toLowerCase()===s.user.email&&s.user.emailVerified||r.emailVerified})}}else{if(a)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:t,...a}=r,o={accessToken:await tS(i.accessToken,e.context),refreshToken:await tS(i.refreshToken,e.context),idToken:i.idToken,accessTokenExpiresAt:i.accessTokenExpiresAt,refreshTokenExpiresAt:i.refreshTokenExpiresAt,scope:i.scope,providerId:i.providerId,accountId:r.id.toString()},{user:s,account:u}=await e.context.internalAdapter.createOAuthUser({...a,email:r.email.toLowerCase()},o);if(l=s,e.context.options.account?.storeAccountCookie&&await (0,es.h)(e,u),!r.emailVerified&&l&&e.context.options.emailVerification?.sendOnSignUp){let t=await tz(e.context.secret,l.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${n}`;await e.context.options.emailVerification?.sendVerificationEmail?.({user:l,url:r,token:t},e.request)}}catch(e){if(O.logger.error(e),e instanceof ee.APIError)return{error:e.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!l)return{error:"unable to create user",data:null,isRegister:!1};let c=await e.context.internalAdapter.createSession(l.id);return c?{data:{session:c,user:l},error:null,isRegister:u}:{error:"unable to create session",data:null,isRegister:!1}}let tC=g.object({code:g.string().optional(),error:g.string().optional(),device_id:g.string().optional(),error_description:g.string().optional(),state:g.string().optional(),user:g.string().optional()}),tZ=(0,eu.createAuthEndpoint)("/callback/:id",{method:["GET","POST"],operationId:"handleOAuthCallback",body:tC.optional(),query:tC.optional(),metadata:{...ea,allowedMediaTypes:["application/x-www-form-urlencoded","application/json"]}},async e=>{let t,r,i,n=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;if("POST"===e.method){let t=e.body?tC.parse(e.body):{},r=e.query?tC.parse(e.query):{},i=tC.parse({...t,...r}),n=new URLSearchParams;for(let[e,t]of Object.entries(i))null!=t&&n.set(e,String(t));let a=`${e.context.baseURL}/callback/${e.params.id}?${n.toString()}`;throw e.redirect(a)}try{if("GET"===e.method)t=tC.parse(e.query);else if("POST"===e.method)t=tC.parse(e.body);else throw Error("Unsupported method")}catch(t){throw e.context.logger.error("INVALID_CALLBACK_REQUEST",t),e.redirect(`${n}?error=invalid_callback_request`)}let{code:a,error:o,state:s,error_description:l,device_id:u}=t;if(!s){e.context.logger.error("State not found",o);let t=`${n}${n.includes("?")?"&":"?"}state=state_not_found`;throw e.redirect(t)}let{codeVerifier:c,callbackURL:d,link:p,errorURL:f,newUserURL:m,requestSignUp:h}=await en(e);function g(t,r){let i=f??n,a=new URLSearchParams({error:t});r&&a.set("error_description",r);let o=`${i}${i.includes("?")?"&":"?"}${a.toString()}`;throw e.redirect(o)}if(o&&g(o,l),!a)throw e.context.logger.error("Code not found"),g("no_code");let y=e.context.socialProviders.find(t=>t.id===e.params.id);if(!y)throw e.context.logger.error("Oauth provider with id",e.params.id,"not found"),g("oauth_provider_not_found");try{r=await y.validateAuthorizationCode({code:a,codeVerifier:c,deviceId:u,redirectURI:`${e.context.baseURL}/callback/${y.id}`})}catch(t){throw e.context.logger.error("",t),g("invalid_code")}let v=await y.getUserInfo({...r,user:e.body?.user?(0,P.safeJSONParse)(e.body.user):void 0}).then(e=>e?.user);if(!v)return e.context.logger.error("Unable to get user info"),g("unable_to_get_user_info");if(!d)throw e.context.logger.error("No callback URL found"),g("no_callback_url");if(p){let t;if(!e.context.options.account?.accountLinking?.trustedProviders?.includes(y.id)&&!v.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return e.context.logger.error("Unable to link account - untrusted provider"),g("unable_to_link_account");if(v.email!==p.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return g("email_doesn't_match");let i=await e.context.internalAdapter.findAccount(String(v.id));if(i){if(i.userId.toString()!==p.userId.toString())return g("account_already_linked_to_different_user");let t=Object.fromEntries(Object.entries({accessToken:await tS(r.accessToken,e.context),refreshToken:await tS(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scopes?.join(",")}).filter(([e,t])=>void 0!==t));await e.context.internalAdapter.updateAccount(i.id,t)}else if(!await e.context.internalAdapter.createAccount({userId:p.userId,providerId:y.id,accountId:String(v.id),...r,accessToken:await tS(r.accessToken,e.context),refreshToken:await tS(r.refreshToken,e.context),scope:r.scopes?.join(",")}))return g("unable_to_link_account");try{t=d.toString()}catch{t=d}throw e.redirect(t)}if(!v.email)return e.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),g("email_not_found");let b={providerId:y.id,accountId:String(v.id),...r,scope:r.scopes?.join(",")},w=await tN(e,{userInfo:{...v,id:String(v.id),email:v.email,name:v.name||v.email},account:b,callbackURL:d,disableSignUp:y.disableImplicitSignUp&&!h||y.options?.disableSignUp,overrideUserInfo:y.options?.overrideUserInfoOnSignIn});if(w.error)return e.context.logger.error(w.error.split(" ").join("_")),g(w.error.split(" ").join("_"));let{session:k,user:_}=w.data;await (0,es.c)(e,{session:k,user:_});try{i=(w.isRegister&&m||d).toString()}catch{i=w.isRegister&&m||d}throw e.redirect(i)});async function tz(e,t,r,i=3600,n){return await (0,Y.o)({email:t.toLowerCase(),updateTo:r,...n},e,i)}async function tL(e,t){if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new ee.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await tz(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),i=e.body.callbackURL?encodeURIComponent(e.body.callbackURL):encodeURIComponent("/"),n=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${i}`;await e.context.options.emailVerification.sendVerificationEmail({user:t,url:n,token:r},e.request)}let tH=(0,eu.createAuthEndpoint)("/send-verification-email",{method:"POST",operationId:"sendVerificationEmail",body:g.object({email:g.email().meta({description:"The email to send the verification email to"}),callbackURL:g.string().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{operationId:"sendVerificationEmail",description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async e=>{if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new ee.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:t}=e.body,r=await em(e);if(!r){let r=await e.context.internalAdapter.findUserByEmail(t);return r?await tL(e,r.user):await tz(e.context.secret,t,void 0,e.context.options.emailVerification?.expiresIn),e.json({status:!0})}if(r?.user.emailVerified)throw new ee.APIError("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(r?.user.email!==t)throw new ee.APIError("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await tL(e,r.user),e.json({status:!0})}),tq=(0,eu.createAuthEndpoint)("/verify-email",{method:"GET",operationId:"verifyEmail",query:g.object({token:g.string().meta({description:"The token to verify the email"}),callbackURL:g.string().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[tk(e=>e.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async e=>{let t;function r(t){if(e.query.callbackURL){if(e.query.callbackURL.includes("?"))throw e.redirect(`${e.query.callbackURL}&error=${t}`);throw e.redirect(`${e.query.callbackURL}?error=${t}`)}throw new ee.APIError("UNAUTHORIZED",{message:t})}let{token:i}=e.query;try{t=await (0,eW.jwtVerify)(i,new TextEncoder().encode(e.context.secret),{algorithms:["HS256"]})}catch(e){if(e instanceof e8.JWTExpired)return r("token_expired");return r("invalid_token")}let n=g.object({email:g.email(),updateTo:g.string().optional(),requestType:g.string().optional()}).parse(t.payload),a=await e.context.internalAdapter.findUserByEmail(n.email);if(!a)return r("user_not_found");if(n.updateTo){let t=await em(e);if(t&&t.user.email!==n.email)return r("unauthorized");if("change-email-confirmation"===n.requestType){let t=await tz(e.context.secret,n.email,n.updateTo,e.context.options.emailVerification?.expiresIn,{requestType:"change-email-verification"}),r=e.query.callbackURL?encodeURIComponent(e.query.callbackURL):encodeURIComponent("/"),i=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${r}`;if(await e.context.options.emailVerification?.sendVerificationEmail?.({user:{...a.user,email:n.updateTo},url:i,token:t},e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0})}if(!t){let r=await e.context.internalAdapter.createSession(a.user.id);if(!r)throw new ee.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});t={session:r,user:a.user}}if("change-email-verification"===n.requestType){let r=await e.context.internalAdapter.updateUserByEmail(n.email,{email:n.updateTo,emailVerified:!0});if(await (0,es.c)(e,{session:t.session,user:{...t.user,email:n.updateTo,emailVerified:!0}}),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:r})}let i=await e.context.internalAdapter.updateUserByEmail(n.email,{email:n.updateTo,emailVerified:!1}),o=await tz(e.context.secret,n.updateTo),s=e.query.callbackURL?encodeURIComponent(e.query.callbackURL):encodeURIComponent("/");if(await e.context.options.emailVerification?.sendVerificationEmail?.({user:i,url:`${e.context.baseURL}/verify-email?token=${o}&callbackURL=${s}`,token:o},e.request),await (0,es.c)(e,{session:t.session,user:{...t.user,email:n.updateTo,emailVerified:!1}}),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:{id:i.id,email:i.email,name:i.name,image:i.image,emailVerified:i.emailVerified,createdAt:i.createdAt,updatedAt:i.updatedAt}})}if(a.user.emailVerified){if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:null})}e.context.options.emailVerification?.onEmailVerification&&await e.context.options.emailVerification.onEmailVerification(a.user,e.request);let o=await e.context.internalAdapter.updateUserByEmail(n.email,{emailVerified:!0});if(e.context.options.emailVerification?.afterEmailVerification&&await e.context.options.emailVerification.afterEmailVerification(o,e.request),e.context.options.emailVerification?.autoSignInAfterVerification){let t=await em(e);if(t&&t.user.email===n.email)await (0,es.c)(e,{session:t.session,user:{...t.user,emailVerified:!0}});else{let t=await e.context.internalAdapter.createSession(a.user.id);if(!t)throw new ee.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await (0,es.c)(e,{session:t,user:{...a.user,emailVerified:!0}})}}if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:null})});function tV(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/&(?!amp;|lt;|gt;|quot;|#39;|#x[0-9a-fA-F]+;|#[0-9]+;)/g,"&amp;")}let tM=(0,eu.createAuthEndpoint)("/error",{method:"GET",metadata:{...ea,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async e=>{let t=new URL(e.request?.url||""),r=t.searchParams.get("error")||"UNKNOWN",i=t.searchParams.get("error_description")||null,n=/^[\'A-Za-z0-9_-]+$/.test(r||"")?r:"UNKNOWN",a=i?tV(i):null,o=new URLSearchParams;o.set("error",n),i&&o.set("error_description",i);let s=e.context.options,l=s.onAPIError?.errorURL;return l?new Response(null,{status:302,headers:{Location:`${l}${l.includes("?")?"&":"?"}${o.toString()}`}}):e_.isProduction&&!s.onAPIError?.customizeDefaultErrorPage?new Response(null,{status:302,headers:{Location:`/?${o.toString()}`}}):new Response(((e,t="Unknown",r=null)=>{let i=e.onAPIError?.customizeDefaultErrorPage;return`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Error</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        font-family: ${i?.font?.defaultFamily||"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif"};
        background: ${i?.colors?.background||"var(--background)"};
        color: var(--foreground);
        margin: 0;
      }
      :root,
      :host {
        --spacing: 0.25rem;
        --container-md: 28rem;
        --text-sm: ${i?.size?.textSm||"0.875rem"};
        --text-sm--line-height: calc(1.25 / 0.875);
        --text-2xl: ${i?.size?.text2xl||"1.5rem"};
        --text-2xl--line-height: calc(2 / 1.5);
        --text-4xl: ${i?.size?.text4xl||"2.25rem"};
        --text-4xl--line-height: calc(2.5 / 2.25);
        --text-6xl: ${i?.size?.text6xl||"3rem"};
        --text-6xl--line-height: 1;
        --font-weight-medium: 500;
        --font-weight-semibold: 600;
        --font-weight-bold: 700;
        --default-transition-duration: 150ms;
        --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        --radius: ${i?.size?.radiusSm||"0.625rem"};
        --default-mono-font-family: ${i?.font?.monoFamily||"var(--font-geist-mono)"};
        --primary: ${i?.colors?.primary||"black"};
        --primary-foreground: ${i?.colors?.primaryForeground||"white"};
        --background: ${i?.colors?.background||"white"};
        --foreground: ${i?.colors?.foreground||"oklch(0.271 0 0)"};
        --border: ${i?.colors?.border||"oklch(0.89 0 0)"};
        --destructive: ${i?.colors?.destructive||"oklch(0.55 0.15 25.723)"};
        --muted-foreground: ${i?.colors?.mutedForeground||"oklch(0.545 0 0)"};
        --corner-border: ${i?.colors?.cornerBorder||"#404040"};
      }

      button, .btn {
        cursor: pointer;
        background: none;
        border: none;
        color: inherit;
        font: inherit;
        transition: all var(--default-transition-duration)
          var(--default-transition-timing-function);
      }
      button:hover, .btn:hover {
        opacity: 0.8;
      }

      @media (prefers-color-scheme: dark) {
        :root,
        :host {
          --primary: ${i?.colors?.primary||"white"};
          --primary-foreground: ${i?.colors?.primaryForeground||"black"};
          --background: ${i?.colors?.background||"oklch(0.15 0 0)"};
          --foreground: ${i?.colors?.foreground||"oklch(0.98 0 0)"};
          --border: ${i?.colors?.border||"oklch(0.27 0 0)"};
          --destructive: ${i?.colors?.destructive||"oklch(0.65 0.15 25.723)"};
          --muted-foreground: ${i?.colors?.mutedForeground||"oklch(0.65 0 0)"};
          --corner-border: ${i?.colors?.cornerBorder||"#a0a0a0"};
        }
      }
      @media (max-width: 640px) {
        :root, :host {
          --text-6xl: 2.5rem;
          --text-2xl: 1.25rem;
          --text-sm: 0.8125rem;
        }
      }
      @media (max-width: 480px) {
        :root, :host {
          --text-6xl: 2rem;
          --text-2xl: 1.125rem;
        }
      }
    </style>
  </head>
  <body style="width: 100vw; min-height: 100vh; overflow-x: hidden; overflow-y: auto;">
    <div
        style="
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            position: relative;
            width: 100%;
            min-height: 100vh;
            padding: 1rem;
        "
        >
${i?.disableBackgroundGrid?"":`
      <div
        style="
          position: absolute;
          inset: 0;
          background-image: linear-gradient(to right, ${i?.colors?.gridColor||"var(--border)"} 1px, transparent 1px),
            linear-gradient(to bottom, ${i?.colors?.gridColor||"var(--border)"} 1px, transparent 1px);
          background-size: 40px 40px;
          opacity: 0.6;
          pointer-events: none;
          width: 100vw;
          height: 100vh;
        "
      ></div>
      <div
        style="
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: ${i?.colors?.background||"var(--background)"};
          mask-image: radial-gradient(ellipse at center, transparent 20%, black);
          -webkit-mask-image: radial-gradient(ellipse at center, transparent 20%, black);
          pointer-events: none;
        "
      ></div>
`}

<div
  style="
    position: relative;
    z-index: 10;
    border: 2px solid var(--border);
    background: ${i?.colors?.cardBackground||"var(--background)"};
    padding: 1.5rem;
    max-width: 42rem;
    width: 100%;
  "
>
    ${i?.disableCornerDecorations?"":`
        <!-- Corner decorations -->
        <div
          style="
            position: absolute;
            top: -2px;
            left: -2px;
            width: 2rem;
            height: 2rem;
            border-top: 4px solid var(--corner-border);
            border-left: 4px solid var(--corner-border);
          "
        ></div>
        <div
          style="
            position: absolute;
            top: -2px;
            right: -2px;
            width: 2rem;
            height: 2rem;
            border-top: 4px solid var(--corner-border);
            border-right: 4px solid var(--corner-border);
          "
        ></div>
  
        <div
          style="
            position: absolute;
            bottom: -2px;
            left: -2px;
            width: 2rem;
            height: 2rem;
            border-bottom: 4px solid var(--corner-border);
            border-left: 4px solid var(--corner-border);
          "
        ></div>
        <div
          style="
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 2rem;
            height: 2rem;
            border-bottom: 4px solid var(--corner-border);
            border-right: 4px solid var(--corner-border);
          "
        ></div>`}

        <div style="text-align: center; margin-bottom: 1.5rem;">
          <div style="margin-bottom: 1.5rem;">
            <div
              style="
                display: inline-block;
                border: 2px solid ${i?.disableTitleBorder?"transparent":i?.colors?.titleBorder||"var(--destructive)"};
                padding: 0.375rem 1rem;
              "
            >
              <h1
                style="
                  font-size: var(--text-6xl);
                  font-weight: var(--font-weight-semibold);
                  color: ${i?.colors?.titleColor||"var(--foreground)"};
                  letter-spacing: -0.02em;
                  margin: 0;
                "
              >
                ERROR
              </h1>
            </div>
            <div
              style="
                height: 2px;
                background-color: var(--border);
                width: calc(100% + 3rem);
                margin-left: -1.5rem;
                margin-top: 1.5rem;
              "
            ></div>
          </div>

          <h2
            style="
              font-size: var(--text-2xl);
              font-weight: var(--font-weight-semibold);
              color: var(--foreground);
              margin: 0 0 1rem;
            "
          >
            Something went wrong
          </h2>

          <div
            style="
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                border: 2px solid var(--border);
                background-color: var(--muted);
                padding: 0.375rem 0.75rem;
                margin: 0 0 1rem;
                flex-wrap: wrap;
                justify-content: center;
            "
            >
            <span
                style="
                font-size: 0.75rem;
                color: var(--muted-foreground);
                font-weight: var(--font-weight-semibold);
                "
            >
                CODE:
            </span>
            <span
                style="
                font-size: var(--text-sm);
                font-family: var(--default-mono-font-family, monospace);
                color: var(--foreground);
                word-break: break-all;
                "
            >
                ${tV(t)}
            </span>
            </div>

          <p
            style="
              color: var(--muted-foreground);
              max-width: 28rem;
              margin: 0 auto;
              font-size: var(--text-sm);
              line-height: 1.5;
              text-wrap: pretty;
            "
          >
            ${!r?`We encountered an unexpected error. Please try again or return to the home page. If you're a developer, you can find more information about the error <a href='https://better-auth.com/docs/errors/${encodeURIComponent(t)}' target='_blank' rel="noopener noreferrer" style='color: var(--foreground); text-decoration: underline;'>here</a>.`:r}
          </p>
        </div>

        <div
          style="
            display: flex;
            gap: 0.75rem;
            margin-top: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
          "
        >
          <a
            href="/"
            style="
              text-decoration: none;
            "
          >
            <div
              style="
                border: 2px solid var(--border);
                background: var(--primary);
                color: var(--primary-foreground);
                padding: 0.5rem 1rem;
                border-radius: 0;
                white-space: nowrap;
              "
              class="btn"
            >
              Go Home
            </div>
          </a>
          <a
            href="https://better-auth.com/docs/errors/${encodeURIComponent(t)}?askai=${encodeURIComponent(`What does the error code ${t} mean?`)}"
            target="_blank"
            rel="noopener noreferrer"
            style="
              text-decoration: none;
            "
          >
            <div
              style="
                border: 2px solid var(--border);
                background: transparent;
                color: var(--foreground);
                padding: 0.5rem 1rem;
                border-radius: 0;
                white-space: nowrap;
              "
              class="btn"
            >
              Ask AI
            </div>
          </a>
        </div>
      </div>
    </div>
  </body>
</html>`})(e.context.options,n,a),{headers:{"Content-Type":"text/html"}})}),tK=(0,eu.createAuthEndpoint)("/ok",{method:"GET",metadata:{...ea,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async e=>e.json({ok:!0}));function tB(e,t,r){let i=t?new URL(t,e.baseURL):new URL(`${e.baseURL}/error`);return r&&Object.entries(r).forEach(([e,t])=>i.searchParams.set(e,t)),i.href}let tF=(0,eu.createAuthEndpoint)("/request-password-reset",{method:"POST",body:g.object({email:g.email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:g.string().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{operationId:"requestPasswordReset",description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new ee.APIError("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)return(0,eo.r)(24),await e.context.internalAdapter.findVerificationValue("dummy-verification-token"),e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let n=(0,f.u)(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),a=(0,eo.r)(24);await e.context.internalAdapter.createVerificationValue({value:i.user.id,identifier:`reset-password:${a}`,expiresAt:n});let o=r?encodeURIComponent(r):"",s=`${e.context.baseURL}/reset-password/${a}?callbackURL=${o}`;return await e.context.options.emailAndPassword.sendResetPassword({user:i.user,url:s,token:a},e.request).catch(t=>{e.context.logger.error("Failed to send reset password email",t)}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),tW=(0,eu.createAuthEndpoint)("/reset-password/:token",{method:"GET",operationId:"forgetPasswordCallback",query:g.object({callbackURL:g.string().meta({description:"The URL to redirect the user to reset their password"})}),use:[tk(e=>e.query.callbackURL)],metadata:{openapi:{operationId:"resetPasswordCallback",description:"Redirects the user to the callback URL with the token",parameters:[{name:"token",in:"path",required:!0,description:"The token to reset the password",schema:{type:"string"}},{name:"callbackURL",in:"query",required:!0,description:"The URL to redirect the user to reset their password",schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async e=>{var t,r;let i,{token:n}=e.params,{callbackURL:a}=e.query;if(!n||!a)throw e.redirect(tB(e.context,a,{error:"INVALID_TOKEN"}));let o=await e.context.internalAdapter.findVerificationValue(`reset-password:${n}`);if(!o||o.expiresAt<new Date)throw e.redirect(tB(e.context,a,{error:"INVALID_TOKEN"}));throw e.redirect((t=e.context,r={token:n},i=new URL(a,t.baseURL),r&&Object.entries(r).forEach(([e,t])=>i.searchParams.set(e,t)),i.href))}),tJ=(0,eu.createAuthEndpoint)("/reset-password",{method:"POST",operationId:"resetPassword",query:g.object({token:g.string().optional()}).optional(),body:g.object({newPassword:g.string().meta({description:"The new password to set"}),token:g.string().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{operationId:"resetPassword",description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let t=e.body.token||e.query?.token;if(!t)throw new ee.APIError("BAD_REQUEST",{message:el.n.INVALID_TOKEN});let{newPassword:r}=e.body,i=e.context.password?.config.minPasswordLength,n=e.context.password?.config.maxPasswordLength;if(r.length<i)throw new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_SHORT});if(r.length>n)throw new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_LONG});let a=`reset-password:${t}`,o=await e.context.internalAdapter.findVerificationValue(a);if(!o||o.expiresAt<new Date)throw new ee.APIError("BAD_REQUEST",{message:el.n.INVALID_TOKEN});let s=o.value,l=await e.context.password.hash(r);if((await e.context.internalAdapter.findAccounts(s)).find(e=>"credential"===e.providerId)?await e.context.internalAdapter.updatePassword(s,l):await e.context.internalAdapter.createAccount({userId:s,providerId:"credential",password:l,accountId:s}),await e.context.internalAdapter.deleteVerificationValue(o.id),e.context.options.emailAndPassword?.onPasswordReset){let t=await e.context.internalAdapter.findUserById(s);t&&await e.context.options.emailAndPassword.onPasswordReset({user:t},e.request)}return e.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await e.context.internalAdapter.deleteSessions(s),e.json({status:!0})}),tG=g.object({callbackURL:g.string().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:g.string().optional(),errorCallbackURL:g.string().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:tg,disableRedirect:g.boolean().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:g.optional(g.object({token:g.string().meta({description:"ID token from the provider"}),nonce:g.string().meta({description:"Nonce used to generate the token"}).optional(),accessToken:g.string().meta({description:"Access token from the provider"}).optional(),refreshToken:g.string().meta({description:"Refresh token from the provider"}).optional(),expiresAt:g.number().meta({description:"Expiry date of the token"}).optional()})),scopes:g.array(g.string()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:g.boolean().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:g.string().meta({description:"The login hint to use for the authorization code request"}).optional(),additionalData:g.record(g.string(),g.any()).optional().meta({description:"Additional data to be passed through the OAuth flow"})}),tQ=(0,eu.createAuthEndpoint)("/sign-out",{method:"POST",operationId:"signOut",requireHeaders:!0,metadata:{openapi:{operationId:"signOut",description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(t)try{await e.context.internalAdapter.deleteSession(t)}catch(t){e.context.logger.error("Failed to delete session from database",t)}return(0,es.n)(e),e.json({success:!0})}),tX=g.record(g.string(),g.any()),tY=g.record(g.string().meta({description:"Field name must be a string"}),g.any()),t0=(0,eu.createAuthEndpoint)("/change-password",{method:"POST",operationId:"changePassword",body:g.object({newPassword:g.string().meta({description:"The new password to set"}),currentPassword:g.string().meta({description:"The current password is required"}),revokeOtherSessions:g.boolean().meta({description:"Must be a boolean value"}).optional()}),use:[eg],metadata:{openapi:{operationId:"changePassword",description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async e=>{let{newPassword:t,currentPassword:r,revokeOtherSessions:i}=e.body,n=e.context.session,a=e.context.password.config.minPasswordLength;if(t.length<a)throw e.context.logger.error("Password is too short"),new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_SHORT});let o=e.context.password.config.maxPasswordLength;if(t.length>o)throw e.context.logger.error("Password is too long"),new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_LONG});let s=(await e.context.internalAdapter.findAccounts(n.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!s||!s.password)throw new ee.APIError("BAD_REQUEST",{message:el.n.CREDENTIAL_ACCOUNT_NOT_FOUND});let l=await e.context.password.hash(t);if(!await e.context.password.verify({hash:s.password,password:r}))throw new ee.APIError("BAD_REQUEST",{message:el.n.INVALID_PASSWORD});await e.context.internalAdapter.updateAccount(s.id,{password:l});let u=null;if(i){await e.context.internalAdapter.deleteSessions(n.user.id);let t=await e.context.internalAdapter.createSession(n.user.id);if(!t)throw new ee.APIError("INTERNAL_SERVER_ERROR",{message:el.n.FAILED_TO_GET_SESSION});await (0,es.c)(e,{session:t,user:n.user}),u=t.token}return e.json({token:u,user:{id:n.user.id,email:n.user.email,name:n.user.name,image:n.user.image,emailVerified:n.user.emailVerified,createdAt:n.user.createdAt,updatedAt:n.user.updatedAt}})}),t1=(0,eu.createAuthEndpoint)("/set-password",{method:"POST",body:g.object({newPassword:g.string().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[eg]},async e=>{let{newPassword:t}=e.body,r=e.context.session,i=e.context.password.config.minPasswordLength;if(t.length<i)throw e.context.logger.error("Password is too short"),new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_SHORT});let n=e.context.password.config.maxPasswordLength;if(t.length>n)throw e.context.logger.error("Password is too long"),new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_LONG});let a=(await e.context.internalAdapter.findAccounts(r.user.id)).find(e=>"credential"===e.providerId&&e.password),o=await e.context.password.hash(t);if(!a)return await e.context.internalAdapter.linkAccount({userId:r.user.id,providerId:"credential",accountId:r.user.id,password:o}),e.json({status:!0});throw new ee.APIError("BAD_REQUEST",{message:"user already has a password"})}),t6=(0,eu.createAuthEndpoint)("/delete-user",{method:"POST",use:[eg],body:g.object({callbackURL:g.string().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:g.string().meta({description:"The password of the user is required to delete the user"}).optional(),token:g.string().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{operationId:"deleteUser",description:"Delete the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{callbackURL:{type:"string",description:"The callback URL to redirect to after the user is deleted"},password:{type:"string",description:"The user's password. Required if session is not fresh"},token:{type:"string",description:"The deletion verification token"}}}}}},responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new ee.APIError("NOT_FOUND");let t=e.context.session;if(e.body.password){let r=(await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!r||!r.password)throw new ee.APIError("BAD_REQUEST",{message:el.n.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await e.context.password.verify({hash:r.password,password:e.body.password}))throw new ee.APIError("BAD_REQUEST",{message:el.n.INVALID_PASSWORD})}if(e.body.token)return await t4({...e,query:{token:e.body.token}}),e.json({success:!0,message:"User deleted"});if(e.context.options.user.deleteUser?.sendDeleteAccountVerification){let r=(0,Y.r)(32,"0-9","a-z");await e.context.internalAdapter.createVerificationValue({value:t.user.id,identifier:`delete-account-${r}`,expiresAt:new Date(Date.now()+1e3*(e.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))});let i=`${e.context.baseURL}/delete-user/callback?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.deleteUser.sendDeleteAccountVerification({user:t.user,url:i,token:r},e.request),e.json({success:!0,message:"Verification email sent"})}if(!e.body.password&&0!==e.context.sessionConfig.freshAge){let r=new Date(t.session.createdAt).getTime(),i=1e3*e.context.sessionConfig.freshAge;if(Date.now()-r>1e3*i)throw new ee.APIError("BAD_REQUEST",{message:el.n.SESSION_EXPIRED})}let r=e.context.options.user.deleteUser?.beforeDelete;r&&await r(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),(0,es.n)(e);let i=e.context.options.user.deleteUser?.afterDelete;return i&&await i(t.user,e.request),e.json({success:!0,message:"User deleted"})}),t4=(0,eu.createAuthEndpoint)("/delete-user/callback",{method:"GET",query:g.object({token:g.string().meta({description:"The token to verify the deletion request"}),callbackURL:g.string().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[tk(e=>e.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new ee.APIError("NOT_FOUND");let t=await em(e);if(!t)throw new ee.APIError("NOT_FOUND",{message:el.n.FAILED_TO_GET_USER_INFO});let r=await e.context.internalAdapter.findVerificationValue(`delete-account-${e.query.token}`);if(!r||r.expiresAt<new Date||r.value!==t.user.id)throw new ee.APIError("NOT_FOUND",{message:el.n.INVALID_TOKEN});let i=e.context.options.user.deleteUser?.beforeDelete;i&&await i(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),await e.context.internalAdapter.deleteVerificationValue(r.id),(0,es.n)(e);let n=e.context.options.user.deleteUser?.afterDelete;if(n&&await n(t.user,e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL||"/");return e.json({success:!0,message:"User deleted"})}),t2=(0,eu.createAuthEndpoint)("/change-email",{method:"POST",body:g.object({newEmail:g.email().meta({description:"The new email address to set must be a valid email address"}),callbackURL:g.string().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[eg],metadata:{openapi:{operationId:"changeEmail",responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"},status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.user?.changeEmail?.enabled)throw e.context.logger.error("Change email is disabled."),new ee.APIError("BAD_REQUEST",{message:"Change email is disabled"});let t=e.body.newEmail.toLowerCase();if(t===e.context.session.user.email)throw e.context.logger.error("Email is the same"),new ee.APIError("BAD_REQUEST",{message:"Email is the same"});if(await e.context.internalAdapter.findUserByEmail(t))throw e.context.logger.error("Email already exists"),new ee.APIError("UNPROCESSABLE_ENTITY",{message:el.n.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(!0!==e.context.session.user.emailVerified&&e.context.options.user.changeEmail.updateEmailWithoutVerification){if(await e.context.internalAdapter.updateUserByEmail(e.context.session.user.email,{email:t}),await (0,es.c)(e,{session:e.context.session.session,user:{...e.context.session.user,email:t}}),e.context.options.emailVerification?.sendVerificationEmail){let r=await tz(e.context.secret,t,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:{...e.context.session.user,email:t},url:i,token:r},e.request)}return e.json({status:!0})}if(e.context.session.user.emailVerified&&(e.context.options.user.changeEmail.sendChangeEmailConfirmation||e.context.options.user.changeEmail.sendChangeEmailVerification)){let r=await tz(e.context.secret,e.context.session.user.email,t,e.context.options.emailVerification?.expiresIn,{requestType:"change-email-confirmation"}),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`,n=e.context.options.user.changeEmail.sendChangeEmailConfirmation||e.context.options.user.changeEmail.sendChangeEmailVerification;return n&&await n({user:e.context.session.user,newEmail:t,url:i,token:r},e.request),e.json({status:!0})}if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new ee.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await tz(e.context.secret,e.context.session.user.email,t,e.context.options.emailVerification?.expiresIn,{requestType:"change-email-verification"}),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.emailVerification.sendVerificationEmail({user:{...e.context.session.user,email:t},url:i,token:r},e.request),e.json({status:!0})}),t8=tv((e,t,r)=>{if(Array.isArray(e[t])&&Array.isArray(r))return e[t]=r,!0});async function t3(e,t){let r={};for(let i of t)if(i.matcher(e)){let t=await i.handler({...e,returnHeaders:!1}).catch(t=>{throw t instanceof ee.APIError&&(0,ex.a)(e.context.logger.level,"debug")&&(t.stack=t.errorStack),t});if(t&&"object"==typeof t){if("context"in t&&"object"==typeof t.context){let{headers:e,...i}=t.context;e instanceof Headers&&(r.headers?e.forEach((e,t)=>{r.headers?.set(t,e)}):r.headers=e),r=t8(i,r);continue}return t}}return{context:r}}async function t5(e,t){for(let r of t)if(r.matcher(e)){let t=await r.handler(e).catch(t=>{if(t instanceof ee.APIError)return(0,ex.a)(e.context.logger.level,"debug")&&(t.stack=t.errorStack),{response:t,headers:t.headers?new Headers(t.headers):null};throw t});t.headers&&t.headers.forEach((t,r)=>{e.context.responseHeaders?"set-cookie"===r.toLowerCase()?e.context.responseHeaders.append(r,t):e.context.responseHeaders.set(r,t):e.context.responseHeaders=new Headers({[r]:t})}),t.response&&(e.context.returned=t.response)}return{response:e.context.returned,headers:e.context.responseHeaders}}function t9(e,t){let r=new Map;e.plugins?.forEach(e=>{if(e.endpoints){for(let[t,i]of Object.entries(e.endpoints))if(i&&"path"in i){let n=i.path,a=[];i.options&&"method"in i.options&&(Array.isArray(i.options.method)?a=i.options.method:"string"==typeof i.options.method&&(a=[i.options.method])),0===a.length&&(a=["*"]),r.has(n)||r.set(n,[]),r.get(n).push({pluginId:e.id,endpointKey:t,methods:a})}}});let i=[];for(let[e,t]of r.entries())if(t.length>1){let r=new Map,n=!1;for(let e of t)for(let i of e.methods)r.has(i)||r.set(i,[]),r.get(i).push(e.pluginId),r.get(i).length>1&&(n=!0),"*"===i&&t.length>1?n=!0:"*"!==i&&r.has("*")&&(n=!0);if(n){let n=[...new Set(t.map(e=>e.pluginId))],a=[];for(let[e,i]of r.entries())(i.length>1||"*"===e&&t.length>1||"*"!==e&&r.has("*"))&&a.push(e);i.push({path:e,plugins:n,conflictingMethods:a})}}if(i.length>0){let e=i.map(e=>`  - "${e.path}" [${e.conflictingMethods.join(", ")}] used by plugins: ${e.plugins.join(", ")}`).join("\n");t.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${e}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}function t7(e,t){let r=t.plugins?.reduce((e,t)=>({...e,...t.endpoints}),{})??{},i=t.plugins?.map(t=>t.middlewares?.map(t=>{let r=async r=>{let i=await e;return t.middleware({...r,context:{...i,...r.context}})};return r.options=t.middleware.options,{path:t.path,middleware:r}})).filter(e=>void 0!==e).flat()||[];return{api:function(e,t){let r={};for(let[i,n]of Object.entries(e))r[i]=async e=>{let r=async()=>{let r=await t,i={...e,context:{...r,returned:void 0,responseHeaders:void 0,session:null},path:n.path,headers:e?.headers?new Headers(e?.headers):void 0};return(0,v.f)(i,async()=>{let{beforeHooks:t,afterHooks:a}=function(e){let t=e.options.plugins||[],r=[],i=[];e.options.hooks?.before&&r.push({matcher:()=>!0,handler:e.options.hooks.before}),e.options.hooks?.after&&i.push({matcher:()=>!0,handler:e.options.hooks.after});let n=t.map(e=>{if(e.hooks?.before)return e.hooks.before}).filter(e=>void 0!==e).flat(),a=t.map(e=>{if(e.hooks?.after)return e.hooks.after}).filter(e=>void 0!==e).flat();return n.length&&r.push(...n),a.length&&i.push(...a),{beforeHooks:r,afterHooks:i}}(r),o=await t3(i,t);if("context"in o&&o.context&&"object"==typeof o.context){let{headers:e,...t}=o.context;e&&e.forEach((e,t)=>{i.headers.set(t,e)}),i=t8(t,i)}else if(o)return e?.asResponse?(0,ee.toResponse)(o,{headers:e?.headers}):e?.returnHeaders?{headers:e?.headers,response:o}:o;i.asResponse=!1,i.returnHeaders=!0,i.returnStatus=!0;let s=await (0,v.f)(i,()=>n(i)).catch(e=>{if(e instanceof ee.APIError)return{response:e,status:e.statusCode,headers:e.headers?new Headers(e.headers):null};throw e});if(s&&s instanceof Response)return s;i.context.returned=s.response,i.context.responseHeaders=s.headers;let l=await t5(i,a);if(l.response&&(s.response=l.response),s.response instanceof ee.APIError&&(0,ex.a)(r.logger.level,"debug")&&(s.response.stack=s.response.errorStack),s.response instanceof ee.APIError&&!e?.asResponse)throw s.response;return e?.asResponse?(0,ee.toResponse)(s.response,{headers:s.headers,status:s.status}):e?.returnHeaders?e?.returnStatus?{headers:s.headers,response:s.response,status:s.status}:{headers:s.headers,response:s.response}:e?.returnStatus?{response:s.response,status:s.status}:s.response})};return await (0,v.c)()?r():(0,v.l)(new WeakMap,r)},r[i].path=n.path,r[i].options=n.options;return r}({signInSocial:(0,eu.createAuthEndpoint)("/sign-in/social",{method:"POST",operationId:"socialSignIn",body:tG,metadata:{$Infer:{body:{},returned:{}},openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{token:{type:"string"},user:{type:"object",$ref:"#/components/schemas/User"},url:{type:"string"},redirect:{type:"boolean",enum:[!1]}},required:["redirect","token","user"]}}}}}}}},async e=>{let t=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!t)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new ee.APIError("NOT_FOUND",{message:el.n.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!t.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new ee.APIError("NOT_FOUND",{message:el.n.ID_TOKEN_NOT_SUPPORTED});let{token:r,nonce:i}=e.body.idToken;if(!await t.verifyIdToken(r,i))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new ee.APIError("UNAUTHORIZED",{message:el.n.INVALID_TOKEN});let n=await t.getUserInfo({idToken:r,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!n||!n?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new ee.APIError("UNAUTHORIZED",{message:el.n.FAILED_TO_GET_USER_INFO});if(!n.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new ee.APIError("UNAUTHORIZED",{message:el.n.USER_EMAIL_NOT_FOUND});let a=await tN(e,{userInfo:{...n.user,email:n.user.email,id:String(n.user.id),name:n.user.name||"",image:n.user.image,emailVerified:n.user.emailVerified||!1},account:{providerId:t.id,accountId:String(n.user.id),accessToken:e.body.idToken.accessToken},callbackURL:e.body.callbackURL,disableSignUp:t.disableImplicitSignUp&&!e.body.requestSignUp||t.disableSignUp});if(a.error)throw new ee.APIError("UNAUTHORIZED",{message:a.error});return await (0,es.c)(e,a.data),e.json({redirect:!1,token:a.data.session.token,url:void 0,user:(0,f.l)(e.context.options,a.data.user)})}let{codeVerifier:r,state:i}=await ei(e,void 0,e.body.additionalData),n=await t.createAuthorizationURL({state:i,codeVerifier:r,redirectURI:`${e.context.baseURL}/callback/${t.id}`,scopes:e.body.scopes,loginHint:e.body.loginHint});return e.json({url:n.toString(),redirect:!e.body.disableRedirect})}),callbackOAuth:tZ,getSession:ef(),signOut:tQ,signUpEmail:(0,eu.createAuthEndpoint)("/sign-up/email",{method:"POST",operationId:"signUpWithEmailAndPassword",body:tX,metadata:{$Infer:{body:{},returned:{}},openapi:{operationId:"signUpWithEmailAndPassword",description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>(0,w.i)(e.context.adapter,async()=>{let t;if(!e.context.options.emailAndPassword?.enabled||e.context.options.emailAndPassword?.disableSignUp)throw new ee.APIError("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let r=e.body,{name:i,email:n,password:a,image:o,callbackURL:s,rememberMe:l,...u}=r;if(!g.email().safeParse(n).success)throw new ee.APIError("BAD_REQUEST",{message:el.n.INVALID_EMAIL});let c=e.context.password.config.minPasswordLength;if(a.length<c)throw e.context.logger.error("Password is too short"),new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_SHORT});let d=e.context.password.config.maxPasswordLength;if(a.length>d)throw e.context.logger.error("Password is too long"),new ee.APIError("BAD_REQUEST",{message:el.n.PASSWORD_TOO_LONG});if((await e.context.internalAdapter.findUserByEmail(n))?.user)throw e.context.logger.info(`Sign-up attempt for existing email: ${n}`),new ee.APIError("UNPROCESSABLE_ENTITY",{message:el.n.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let p=await e.context.password.hash(a);try{let r=(0,f.c)(e.context.options,u,"create");if(!(t=await e.context.internalAdapter.createUser({email:n.toLowerCase(),name:i,image:o,...r,emailVerified:!1})))throw new ee.APIError("BAD_REQUEST",{message:el.n.FAILED_TO_CREATE_USER})}catch(t){if((0,m.d)()&&e.context.logger.error("Failed to create user",t),t instanceof ee.APIError)throw t;throw e.context.logger?.error("Failed to create user",t),new ee.APIError("UNPROCESSABLE_ENTITY",{message:el.n.FAILED_TO_CREATE_USER,details:t})}if(!t)throw new ee.APIError("UNPROCESSABLE_ENTITY",{message:el.n.FAILED_TO_CREATE_USER});if(await e.context.internalAdapter.linkAccount({userId:t.id,providerId:"credential",accountId:t.id,password:p}),e.context.options.emailVerification?.sendOnSignUp||e.context.options.emailAndPassword.requireEmailVerification){let i=await tz(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),n=r.callbackURL?encodeURIComponent(r.callbackURL):encodeURIComponent("/"),a=`${e.context.baseURL}/verify-email?token=${i}&callbackURL=${n}`,o=e.request?[{user:t,url:a,token:i},e.request]:[{user:t,url:a,token:i}];await e.context.options.emailVerification?.sendVerificationEmail?.(...o)}if(!1===e.context.options.emailAndPassword.autoSignIn||e.context.options.emailAndPassword.requireEmailVerification)return e.json({token:null,user:(0,f.l)(e.context.options,t)});let h=await e.context.internalAdapter.createSession(t.id,!1===l);if(!h)throw new ee.APIError("BAD_REQUEST",{message:el.n.FAILED_TO_CREATE_SESSION});return await (0,es.c)(e,{session:h,user:t},!1===l),e.json({token:h.token,user:(0,f.l)(e.context.options,t)})})),signInEmail:(0,eu.createAuthEndpoint)("/sign-in/email",{method:"POST",operationId:"signInEmail",body:g.object({email:g.string().meta({description:"Email of the user"}),password:g.string().meta({description:"Password of the user"}),callbackURL:g.string().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:g.boolean().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{$Infer:{body:{},returned:{}},openapi:{operationId:"signInEmail",description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"string",nullable:!0},user:{type:"object",$ref:"#/components/schemas/User"}},required:["redirect","token","user"]}}}}}}}},async e=>{if(!e.context.options?.emailAndPassword?.enabled)throw e.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new ee.APIError("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:t,password:r}=e.body;if(!g.email().safeParse(t).success)throw new ee.APIError("BAD_REQUEST",{message:el.n.INVALID_EMAIL});let i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)throw await e.context.password.hash(r),e.context.logger.error("User not found",{email:t}),new ee.APIError("UNAUTHORIZED",{message:el.n.INVALID_EMAIL_OR_PASSWORD});let n=i.accounts.find(e=>"credential"===e.providerId);if(!n)throw await e.context.password.hash(r),e.context.logger.error("Credential account not found",{email:t}),new ee.APIError("UNAUTHORIZED",{message:el.n.INVALID_EMAIL_OR_PASSWORD});let a=n?.password;if(!a)throw await e.context.password.hash(r),e.context.logger.error("Password not found",{email:t}),new ee.APIError("UNAUTHORIZED",{message:el.n.INVALID_EMAIL_OR_PASSWORD});if(!await e.context.password.verify({hash:a,password:r}))throw e.context.logger.error("Invalid password"),new ee.APIError("UNAUTHORIZED",{message:el.n.INVALID_EMAIL_OR_PASSWORD});if(e.context.options?.emailAndPassword?.requireEmailVerification&&!i.user.emailVerified){if(!e.context.options?.emailVerification?.sendVerificationEmail)throw new ee.APIError("FORBIDDEN",{message:el.n.EMAIL_NOT_VERIFIED});if(e.context.options?.emailVerification?.sendOnSignIn){let t=await tz(e.context.secret,i.user.email,void 0,e.context.options.emailVerification?.expiresIn),r=e.body.callbackURL?encodeURIComponent(e.body.callbackURL):encodeURIComponent("/"),n=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${r}`;await e.context.options.emailVerification.sendVerificationEmail({user:i.user,url:n,token:t},e.request)}throw new ee.APIError("FORBIDDEN",{message:el.n.EMAIL_NOT_VERIFIED})}let o=await e.context.internalAdapter.createSession(i.user.id,!1===e.body.rememberMe);if(!o)throw e.context.logger.error("Failed to create session"),new ee.APIError("UNAUTHORIZED",{message:el.n.FAILED_TO_CREATE_SESSION});return await (0,es.c)(e,{session:o,user:i.user},!1===e.body.rememberMe),e.json({redirect:!!e.body.callbackURL,token:o.token,url:e.body.callbackURL,user:(0,f.l)(e.context.options,i.user)})}),resetPassword:tJ,verifyEmail:tq,sendVerificationEmail:tH,changeEmail:t2,changePassword:t0,setPassword:t1,updateUser:(0,eu.createAuthEndpoint)("/update-user",{method:"POST",operationId:"updateUser",body:tY,use:[eh],metadata:{$Infer:{body:{}},openapi:{operationId:"updateUser",description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user",nullable:!0}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"}}}}}}}}}},async e=>{let t=e.body;if(t.email)throw new ee.APIError("BAD_REQUEST",{message:el.n.EMAIL_CAN_NOT_BE_UPDATED});let{name:r,image:i,...n}=t,a=e.context.session,o=(0,f.c)(e.context.options,n,"update");if(void 0===i&&void 0===r&&0===Object.keys(o).length)throw new ee.APIError("BAD_REQUEST",{message:"No fields to update"});let s=await e.context.internalAdapter.updateUser(a.user.id,{name:r,image:i,...o});return await (0,es.c)(e,{session:a.session,user:s}),e.json({status:!0})}),deleteUser:t6,requestPasswordReset:tF,requestPasswordResetCallback:tW,listSessions:ev(),revokeSession:eb,revokeSessions:ew,revokeOtherSessions:ek,linkSocialAccount:tT,listUserAccounts:tU,deleteUserCallback:t4,unlinkAccount:tO,refreshToken:tD,getAccessToken:tR,accountInfo:tj,...r,ok:tK,error:tM},e),middlewares:i}}let re=(e,t)=>{let{api:r,middlewares:i}=t7(e,t),n=new URL(e.baseURL).pathname;return(0,ee.createRouter)(r,{routerContext:e,openapi:{disabled:!0},basePath:n,routerMiddleware:[{path:"/**",middleware:tw},...i],allowedMediaTypes:["application/json"],async onRequest(t){let r=e.options.disabledPaths||[],i=new URL(t.url).pathname,a="/"===n?i:i.startsWith(n)?i.slice(n.length)||"/":i;if(r.includes(a))return new Response("Not Found",{status:404});for(let r of e.options.plugins||[])if(r.onRequest){let i=await r.onRequest(t,e);if(i&&"response"in i)return i.response;if(i&&"request"in i){let t=await tI(i.request,e);if(t)return t;return i.request}}return tI(t,e)},async onResponse(t){for(let r of e.options.plugins||[])if(r.onResponse){let i=await r.onResponse(t,e);if(i)return i.response}return t},onError(r){if(r instanceof ee.APIError&&"FOUND"===r.status)return;if(t.onAPIError?.throw)throw r;if(t.onAPIError?.onError)return void t.onAPIError.onError(r,e);let i=t.logger?.level,n="error"===i||"warn"===i||"debug"===i?O.logger:void 0;if(t.logger?.disabled!==!0){if(r&&"object"==typeof r&&"message"in r&&"string"==typeof r.message&&(r.message.includes("no column")||r.message.includes("column")||r.message.includes("relation")||r.message.includes("table")||r.message.includes("does not exist")))return void e.logger?.error(r.message);r instanceof ee.APIError?("INTERNAL_SERVER_ERROR"===r.status&&e.logger.error(r.status,r),n?.error(r.message)):e.logger?.error(r&&"object"==typeof r&&"name"in r?r.name:"",r)}}})};e.s(["L",()=>t$,"a",()=>t7,"n",()=>t9,"s",()=>re],20556);var eo=D,rt=e.i(24382);async function rr(e,t){let r=(await t.context.internalAdapter.findAccounts(e))?.find(e=>"credential"===e.providerId),i=r?.password;if(!r||!i||!t.body.password)throw new ee.APIError("BAD_REQUEST",{message:"No password credential found"});if(!await t.context.password.verify({hash:i,password:t.body.password}))throw new ee.APIError("BAD_REQUEST",{message:"Invalid password"});return!0}e.s(["t",()=>rr],2814);var U=k,T=m,ri=e.i(49060),h=m,el=el,rn=m,ra=m,ro=m,h=m,rs=e.i(82318),rl=e.i(39127);function ru(e,t){return{database:t?.database,adapter:t?.adapter,emailVerification:{sendVerificationEmail:!!e.emailVerification?.sendVerificationEmail,sendOnSignUp:!!e.emailVerification?.sendOnSignUp,sendOnSignIn:!!e.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!e.emailVerification?.autoSignInAfterVerification,expiresIn:e.emailVerification?.expiresIn,onEmailVerification:!!e.emailVerification?.onEmailVerification,afterEmailVerification:!!e.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!e.emailAndPassword?.enabled,disableSignUp:!!e.emailAndPassword?.disableSignUp,requireEmailVerification:!!e.emailAndPassword?.requireEmailVerification,maxPasswordLength:e.emailAndPassword?.maxPasswordLength,minPasswordLength:e.emailAndPassword?.minPasswordLength,sendResetPassword:!!e.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:e.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!e.emailAndPassword?.onPasswordReset,password:{hash:!!e.emailAndPassword?.password?.hash,verify:!!e.emailAndPassword?.password?.verify},autoSignIn:!!e.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!e.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(e.socialProviders||{}).map(t=>{let r=e.socialProviders?.[t];return r?{id:t,mapProfileToUser:!!r.mapProfileToUser,disableDefaultScope:!!r.disableDefaultScope,disableIdTokenSignIn:!!r.disableIdTokenSignIn,disableImplicitSignUp:r.disableImplicitSignUp,disableSignUp:r.disableSignUp,getUserInfo:!!r.getUserInfo,overrideUserInfoOnSignIn:!!r.overrideUserInfoOnSignIn,prompt:r.prompt,verifyIdToken:!!r.verifyIdToken,scope:r.scope,refreshAccessToken:!!r.refreshAccessToken}:{}}),plugins:e.plugins?.map(e=>e.id.toString()),user:{modelName:e.user?.modelName,fields:e.user?.fields,additionalFields:e.user?.additionalFields,changeEmail:{enabled:e.user?.changeEmail?.enabled,sendChangeEmailVerification:!!e.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:e.verification?.modelName,disableCleanup:e.verification?.disableCleanup,fields:e.verification?.fields},session:{modelName:e.session?.modelName,additionalFields:e.session?.additionalFields,cookieCache:{enabled:e.session?.cookieCache?.enabled,maxAge:e.session?.cookieCache?.maxAge,strategy:e.session?.cookieCache?.strategy},disableSessionRefresh:e.session?.disableSessionRefresh,expiresIn:e.session?.expiresIn,fields:e.session?.fields,freshAge:e.session?.freshAge,preserveSessionInDatabase:e.session?.preserveSessionInDatabase,storeSessionInDatabase:e.session?.storeSessionInDatabase,updateAge:e.session?.updateAge},account:{modelName:e.account?.modelName,fields:e.account?.fields,encryptOAuthTokens:e.account?.encryptOAuthTokens,updateAccountOnSignIn:e.account?.updateAccountOnSignIn,accountLinking:{enabled:e.account?.accountLinking?.enabled,trustedProviders:e.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:e.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:e.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!e.hooks?.after,before:!!e.hooks?.before},secondaryStorage:!!e.secondaryStorage,advanced:{cookiePrefix:!!e.advanced?.cookiePrefix,cookies:!!e.advanced?.cookies,crossSubDomainCookies:{domain:!!e.advanced?.crossSubDomainCookies?.domain,enabled:e.advanced?.crossSubDomainCookies?.enabled,additionalCookies:e.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!e.advanced?.database?.useNumberId||e.advanced?.database?.generateId==="serial",generateId:e.advanced?.database?.generateId,defaultFindManyLimit:e.advanced?.database?.defaultFindManyLimit},useSecureCookies:e.advanced?.useSecureCookies,ipAddress:{disableIpTracking:e.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:e.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:e.advanced?.disableCSRFCheck,cookieAttributes:{expires:e.advanced?.defaultCookieAttributes?.expires,secure:e.advanced?.defaultCookieAttributes?.secure,sameSite:e.advanced?.defaultCookieAttributes?.sameSite,domain:!!e.advanced?.defaultCookieAttributes?.domain,path:e.advanced?.defaultCookieAttributes?.path,httpOnly:e.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:e.trustedOrigins?.length,rateLimit:{storage:e.rateLimit?.storage,modelName:e.rateLimit?.modelName,window:e.rateLimit?.window,customStorage:!!e.rateLimit?.customStorage,enabled:e.rateLimit?.enabled,max:e.rateLimit?.max},onAPIError:{errorURL:e.onAPIError?.errorURL,onError:!!e.onAPIError?.onError,throw:e.onAPIError?.throw},logger:{disabled:e.logger?.disabled,level:e.logger?.level,log:!!e.logger?.log},databaseHooks:{user:{create:{after:!!e.databaseHooks?.user?.create?.after,before:!!e.databaseHooks?.user?.create?.before},update:{after:!!e.databaseHooks?.user?.update?.after,before:!!e.databaseHooks?.user?.update?.before}},session:{create:{after:!!e.databaseHooks?.session?.create?.after,before:!!e.databaseHooks?.session?.create?.before},update:{after:!!e.databaseHooks?.session?.update?.after,before:!!e.databaseHooks?.session?.update?.before}},account:{create:{after:!!e.databaseHooks?.account?.create?.after,before:!!e.databaseHooks?.account?.create?.before},update:{after:!!e.databaseHooks?.account?.update?.after,before:!!e.databaseHooks?.account?.update?.before}},verification:{create:{after:!!e.databaseHooks?.verification?.create?.after,before:!!e.databaseHooks?.verification?.create?.before},update:{after:!!e.databaseHooks?.verification?.update?.after,before:!!e.databaseHooks?.verification?.update?.before}}}}}async function rc(){if(r)return r;try{let e="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!e)return;let[{default:t},{default:i}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),n=await t.readFile(i.join(e,"package.json"),"utf-8");return r=JSON.parse(n)}catch{}}async function rd(e){if(r)return r.dependencies?.[e]||r.devDependencies?.[e]||r.peerDependencies?.[e];try{let t="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!t)throw Error("no-cwd");let[{default:r},{default:i}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),n=i.join(t,"node_modules",e,"package.json"),a=await r.readFile(n,"utf-8");return JSON.parse(a).version||await rp(e)||void 0}catch{}return await rp(e)}async function rp(e){let t=await rc();if(t)return({...t.dependencies,...t.devDependencies,...t.peerDependencies})[e]}async function rf(){return(await rc())?.name}let rm={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function rh(){for(let[e,t]of Object.entries(rm)){let r=await rd(e);if(r)return{name:t,version:r}}}let rg={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function ry(){for(let[e,t]of Object.entries(rg)){let r=await rd(e);if(r)return{name:t,version:r}}}function rv(){let e=(...e)=>e.some(e=>!!ri.env[e]);return e("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":e("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":e("NETLIFY","NETLIFY_URL")?"netlify":e("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":e("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":e("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":e("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":e("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":e("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":e("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":e("DYNO","HEROKU_APP_NAME")?"heroku":e("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":e("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function rb(){try{if("cloudflare"===rv())return"cloudflare";let e=await Function("mm","return import(mm)")("os"),t=e.cpus();return{deploymentVendor:rv(),systemPlatform:e.platform(),systemRelease:e.release(),systemArchitecture:e.arch(),cpuCount:t.length,cpuModel:t.length?t[0].model:null,cpuSpeed:t.length?t[0].speed:null,memory:e.totalmem(),isWSL:await rx(),isDocker:await r_(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch(e){return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function rw(){if("cloudflare"===rv())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function rk(){if("cloudflare"===rv())return!1;try{return(await Function("mm","return import(mm)")("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function r_(){return"cloudflare"!==rv()&&(void 0===i&&(i=await rw()||await rk()),i)}async function rx(){try{if("cloudflare"===rv()||"undefined"==typeof process||process?.platform!=="linux")return!1;let e=await Function("mm","return import(mm)")("fs");if((await Function("mm","return import(mm)")("os")).release().toLowerCase().includes("microsoft")){if(await rA())return!1;return!0}return!!e.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await rA()}catch{return!1}}let r$=async()=>{if("cloudflare"===rv())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function rA(){return void 0===n&&(n=await r$()||await r_()),n}async function rI(e){let t=await (0,rs.createHash)("SHA-256").digest(e);return ec.base64.encode(t)}let rE=null;async function rS(e){if(rE)return rE;let t=await rf();return t?rE=await rI(e?e+t:t):e?rE=await rI(e):rE=(0,rl.createRandomStringGenerator)("a-z","A-Z","0-9")(32)}async function rU(e,t){let r,i=e.telemetry?.debug||(0,ra.l)("BETTER_AUTH_TELEMETRY_DEBUG",!1),n=rn.s.BETTER_AUTH_TELEMETRY_ENDPOINT,a=async e=>{t?.customTrack?await t.customTrack(e).catch(O.logger.error):i?O.logger.info("telemetry event",JSON.stringify(e,null,2)):await eF(n,{method:"POST",body:e}).catch(O.logger.error)},o=async()=>{let r=e.telemetry?.enabled!==void 0&&e.telemetry.enabled;return((0,ra.l)("BETTER_AUTH_TELEMETRY",!1)||r)&&(t?.skipTestCheck||!(0,h.p)())},s=await o();return s&&(r=await rS(e.baseURL),a({type:"init",payload:{config:ru(e,t),runtime:"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null},database:await rh(),framework:await ry(),environment:"production"===(0,ro.u)("NODE_ENV")?"production":"false"!==ri.env.CI&&("BUILD_ID"in ri.env||"BUILD_NUMBER"in ri.env||"CI"in ri.env||"CI_APP_ID"in ri.env||"CI_BUILD_ID"in ri.env||"CI_BUILD_NUMBER"in ri.env||"CI_NAME"in ri.env||"CONTINUOUS_INTEGRATION"in ri.env||"RUN_ID"in ri.env)?"ci":(0,h.p)()?"test":"development",systemInfo:await rb(),packageManager:function(){let e=ri.env.npm_config_user_agent;if(!e)return;let t=e.split(" ")[0],r=t.lastIndexOf("/"),i=t.substring(0,r);return{name:"npminstall"===i?"cnpm":i,version:t.substring(r+1)}}()},anonymousId:r})),{publish:async t=>{s&&(r||(r=await rS(e.baseURL)),await a({type:t.type,payload:t.payload,anonymousId:r}))}}}e.s(["createTelemetry",()=>rU,"getTelemetryAuthConfig",()=>ru],16694);let rT="better-auth-secret-12345678901234567890";function rO(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}async function rR(e){let t=e.options,r=t.plugins||[],i=e,n=[];for(let e of r)if(e.init){let r,a=e.init(i);if("object"==typeof(r=rO(a)?await a:a)){if(r.options){let{databaseHooks:e,...i}=r.options;e&&n.push(e),t=tb(t,i)}r.context&&(i={...i,...r.context})}}return n.push(t.databaseHooks),i.internalAdapter=K(i.adapter,{options:t,logger:i.logger,hooks:n.filter(e=>void 0!==e),generateId:i.generateId}),i.options=t,{context:i}}async function rD(e,t,r){var i;let n,a,o;t.database||(t=tb(t,{session:{cookieCache:{enabled:!0,strategy:"jwe",refreshCache:!0}},account:{storeStateStrategy:"cookie",storeAccountCookie:!0}}));let s=t.plugins||[],l=(i=t,i.advanced?.crossSubDomainCookies?.enabled,[]),u=(0,T.n)(t.logger),c=(0,rt.t)(t.baseURL,t.basePath),d=t.secret||ri.env.BETTER_AUTH_SECRET||ri.env.AUTH_SECRET||rT,p=d===rT;if(!(0,h.p)()){let e;if(p&&e_.isProduction)throw new R.BetterAuthError("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config.");if(!d)throw new R.BetterAuthError("BETTER_AUTH_SECRET is missing. Set it in your environment or pass `secret` to betterAuth({ secret }).");if(d.length<32)throw new R.BetterAuthError("Invalid BETTER_AUTH_SECRET: must be at least 32 characters long for adequate security. Generate one with `npx @better-auth/cli secret` or `openssl rand -base64 32`.");120>(0===(e=new Set(d).size)?0:Math.log2(Math.pow(e,d.length)))&&u.warn("[better-auth] Warning: your BETTER_AUTH_SECRET appears low-entropy. Use a randomly generated secret for production.")}t9(t={...t,secret:d,baseURL:c?new URL(c).origin:"",basePath:t.basePath||"/api/auth",plugins:s.concat(l)},u);let f=(0,es.i)(t),m=(0,U.t)(t),g=Object.entries(t.socialProviders||{}).map(([e,t])=>{if(null==t||!1===t.enabled)return null;t.clientId||u.warn(`Social provider ${e} is missing clientId or clientSecret`);let r=tm[e](t);return r.disableImplicitSignUp=t.disableImplicitSignUp,r}).filter(e=>null!==e),y=({model:e,size:r})=>"function"==typeof t.advanced?.generateId?t.advanced.generateId({model:e,size:r}):"function"==typeof t?.advanced?.database?.generateId?t.advanced.database.generateId({model:e,size:r}):(0,eo.r)(r),{publish:v}=await rU(t,{adapter:e.id,database:"function"==typeof t.database?"adapter":r(t.database)}),b={appName:t.appName||"Better Auth",socialProviders:g,options:t,oauthConfig:{storeStateStrategy:t.account?.storeStateStrategy||(t.database?"database":"cookie"),skipStateCookieCheck:!!t.account?.skipStateCookieCheck},tables:m,trustedOrigins:function(e){let t=(0,rt.t)(e.baseURL,e.basePath);if(!t)return[];let r=[new URL(t).origin];e.trustedOrigins&&Array.isArray(e.trustedOrigins)&&r.push(...e.trustedOrigins);let i=ri.env.BETTER_AUTH_TRUSTED_ORIGINS;if(i&&r.push(...i.split(",")),r.filter(e=>!e).length)throw new R.BetterAuthError("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return r}(t),isTrustedOrigin:(e,t)=>b.trustedOrigins.some(r=>((e,t,r)=>{if(e.startsWith("/"))return!!r?.allowRelativePaths&&e.startsWith("/")&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(e);if(t.includes("*")){if(t.includes("://"))return t$(t)((0,rt.r)(e)||e);let r=(0,rt.n)(e);return!!r&&t$(t)(r)}let i=(0,rt.i)(e);return"http:"!==i&&"https:"!==i&&i?e.startsWith(t):t===(0,rt.r)(e)})(e,r,t)),baseURL:c||"",sessionConfig:{updateAge:t.session?.updateAge!==void 0?t.session.updateAge:86400,expiresIn:t.session?.expiresIn||604800,freshAge:t.session?.freshAge===void 0?86400:t.session.freshAge,cookieRefreshCache:(a=t.session?.cookieCache?.refreshCache,o=t.session?.cookieCache?.maxAge||300,!1!==a&&void 0!==a&&(!0===a?{enabled:!0,updateAge:Math.floor(.2*o)}:{enabled:!0,updateAge:void 0!==a.updateAge?a.updateAge:Math.floor(.2*o)}))},secret:d,rateLimit:{...t.rateLimit,enabled:t.rateLimit?.enabled??e_.isProduction,window:t.rateLimit?.window||10,max:t.rateLimit?.max||100,storage:t.rateLimit?.storage||(t.secondaryStorage?"secondary-storage":"memory")},authCookies:f,logger:u,generateId:y,session:null,secondaryStorage:t.secondaryStorage,password:{hash:t.emailAndPassword?.password?.hash||Y.i,verify:t.emailAndPassword?.password?.verify||Y.a,config:{minPasswordLength:t.emailAndPassword?.minPasswordLength||8,maxPasswordLength:t.emailAndPassword?.maxPasswordLength||128},checkPassword:rr},setNewSession(e){this.newSession=e},newSession:null,adapter:e,internalAdapter:K(e,{options:t,logger:u,hooks:t.databaseHooks?[t.databaseHooks]:[],generateId:y}),createAuthCookie:(0,es.t)(t),async runMigrations(){throw new R.BetterAuthError("runMigrations will be set by the specific init implementation")},publishTelemetry:v,skipCSRFCheck:!!t.advanced?.disableCSRFCheck,skipOriginCheck:t.advanced?.disableOriginCheck!==void 0?t.advanced.disableOriginCheck:!!(0,h.p)()},w=rR(b);return rO(w)?{context:n}=await w:{context:n}=w,n}let rP=(e,t)=>{let r=t(e),{api:i}=t7(r,e);return{handler:async t=>{let i=await r,n=i.options.basePath||"/api/auth";if(!i.options.baseURL){let e=(0,rt.t)(void 0,n,t,void 0,i.options.advanced?.trustedProxyHeaders);if(e)i.baseURL=e,i.options.baseURL=(0,rt.r)(i.baseURL)||void 0;else throw new R.BetterAuthError("Could not get base URL from request. Please provide a valid base URL.")}i.trustedOrigins=[...e.trustedOrigins?Array.isArray(e.trustedOrigins)?e.trustedOrigins:await e.trustedOrigins(t):[],i.options.baseURL];let{handler:a}=re(i,e);return(0,v.r)(i.adapter,()=>a(t))},api:i,options:e,$context:r,$ERROR_CODES:{...e.plugins?.reduce((e,t)=>t.$ERROR_CODES?{...e,...t.$ERROR_CODES}:e,{}),...el.n}}};e.s(["n",()=>rD,"t",()=>rP],33029);let rj=async e=>{let t=await L(e),r=await rD(t,e,e=>(0,p.n)(e)||"unknown");return r.runMigrations=async function(){if(!e.database||"updateMany"in e.database)throw new R.BetterAuthError("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:t}=await X(e);await t()},r},rN=e=>rP(e,rj);e.s(["t",()=>rN],40721)},49436,e=>{"use strict";e.i(18258),e.i(30412),e.i(71878),e.i(43799),e.i(40823),e.i(38918),e.i(20556),e.i(31428),e.i(94914),e.i(86344),e.i(24382),e.i(12269),e.i(33029),e.i(2814),e.i(40721),e.i(25528),e.i(17512),e.i(16694),e.i(21189),e.i(89139),e.i(71616),e.i(11591),e.i(36447),e.s([],49436)},10589,e=>{"use strict";var t=e.i(40721);e.s(["betterAuth",()=>t.t])},96913,e=>{"use strict";e.i(71616);var t=e.i(68069),r=e.i(12407);let i=(e,i)=>{let n=null,a=e=>({getFieldName:r,getModelName:n,getFieldAttributes:a,getDefaultModelName:o,schema:s})=>{let l=(e,t,i)=>{if(!e&&!i)return;let a={};if(e)for(let i of e)a[r({model:t,field:i})]=!0;if(i){if(!e){let e=s[o(t)]?.fields||{};for(let i of(e.id={type:"string"},Object.keys(e)))a[r({model:t,field:i})]=!0}for(let[e,r]of Object.entries(i)){let i=u(t,n(e),s);"one-to-one"===r.relation?a[i]=!0:a[i]={take:r.limit}}}return a},u=(e,t,r)=>{try{let a=o(e),s=o(t),l=n(t).toLowerCase(),u=Object.entries(r[s]?.fields||{}).filter(([e,t])=>t.references&&o(t.references.model)===a);if(u.length>0){let[e,t]=u[0];return t?.unique===!0||!0===i.usePlural?l:`${l}s`}if((u=Object.entries(r[a]?.fields||{}).filter(([e,t])=>t.references&&o(t.references.model)===s)).length>0)return l}catch{}return`${n(t).toLowerCase()}s`};function c(e){switch(e){case"starts_with":return"startsWith";case"ends_with":return"endsWith";case"ne":return"not";case"not_in":return"notIn";default:return e}}let d=(e,t)=>{if(!t||!t.length)return{};let i=t=>{let i=r({model:e,field:t.field});if("ne"===t.operator&&null===t.value)return{};if(("in"===t.operator||"not_in"===t.operator)&&Array.isArray(t.value)){let e=t.value.filter(e=>null!=e);if(0===e.length)if("in"===t.operator)return{AND:[{[i]:{equals:"__never__"}},{[i]:{not:"__never__"}}]};else return{};return{[i]:{[c(t.operator)]:e}}}return"eq"!==t.operator&&t.operator?{[i]:{[c(t.operator)]:t.value}}:{[i]:t.value}};if(1===t.length){let e=t[0];if(!e)return;return i(e)}let n=t.filter(e=>"AND"===e.connector||!e.connector),a=t.filter(e=>"OR"===e.connector),o=n.map(e=>i(e)),s=a.map(e=>i(e));return{...o.length?{AND:o}:{},...s.length?{OR:s}:{}}};return{async create({model:r,data:i,select:n}){if(!e[r])throw new t.BetterAuthError(`Model ${r} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[r].create({data:i,select:l(n,r)})},async findOne({model:r,where:i,select:a,join:o}){let c=d(r,i);if(!e[r])throw new t.BetterAuthError(`Model ${r} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let p=new Map;for(let e of Object.keys(o??{})){let t=u(r,e,s);p.set(t,n(e))}let f=l(a,r,o),m=await e[r].findFirst({where:c,select:f});if(o&&m)for(let[e,t]of p.entries())e!==t&&e in m&&(m[t]=m[e],delete m[e]);return m},async findMany({model:i,where:a,limit:o,offset:c,sortBy:p,join:f}){let m=d(i,a);if(!e[i])throw new t.BetterAuthError(`Model ${i} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let h=new Map;if(f)for(let[e,t]of Object.entries(f)){let t=u(i,e,s);h.set(t,n(e))}let g=l(void 0,i,f),y=await e[i].findMany({where:m,take:o||100,skip:c||0,...p?.field?{orderBy:{[r({model:i,field:p.field})]:"desc"===p.direction?"desc":"asc"}}:{},select:g});if(f&&Array.isArray(y))for(let e of y)for(let[t,r]of h.entries())t!==r&&t in e&&(e[r]=e[t],delete e[t]);return y},async count({model:r,where:i}){let n=d(r,i);if(!e[r])throw new t.BetterAuthError(`Model ${r} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[r].count({where:n})},async update({model:r,where:i,update:n}){if(!e[r])throw new t.BetterAuthError(`Model ${r} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let a=d(r,i);return await e[r].update({where:a,data:n})},async updateMany({model:r,where:i,update:n}){if(!e[r])throw new t.BetterAuthError(`Model ${r} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let a=d(r,i),o=await e[r].updateMany({where:a,data:n});return o?o.count:0},async delete({model:r,where:i}){if(!e[r])throw new t.BetterAuthError(`Model ${r} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let n=d(r,i);try{await e[r].delete({where:n})}catch(e){if(e?.meta?.cause==="Record to delete does not exist.")return;console.log(e)}},async deleteMany({model:t,where:r}){let i=d(t,r),n=await e[t].deleteMany({where:i});return n?n.count:0},options:i}},o=null;o={config:{adapterId:"prisma",adapterName:"Prisma Adapter",usePlural:i.usePlural??!1,debugLogs:i.debugLogs??!1,supportsUUIDs:"postgresql"===i.provider,supportsArrays:"postgresql"===i.provider||"mongodb"===i.provider,transaction:!!i.transaction&&(t=>e.$transaction(e=>t((0,r.createAdapterFactory)({config:o.config,adapter:a(e)})(n))))},adapter:a(e)};let s=(0,r.createAdapterFactory)(o);return e=>(n=e,s(e))};e.s(["prismaAdapter",()=>i])},73161,e=>e.a(async(t,r)=>{try{var i=e.i(4733),n=t([i]);[i]=n.then?(await n)():n;let o={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client"},output:{value:"/Users/orshih/edu/lib/generated/prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"darwin-arm64",native:!0}],previewFeatures:[],sourceFilePath:"/Users/orshih/edu/prisma/schema.prisma",isCustomOutput:!0},relativePath:"../../../prisma",clientVersion:"6.19.0",engineVersion:"2ba551f319ab1df4bc874a89965d8b3641056773",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\n\ngenerator client {\n  provider = "prisma-client"\n  output   = "../lib/generated/prisma"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id            String    @id\n  name          String\n  email         String\n  emailVerified Boolean   @default(false)\n  image         String?\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n  sessions      Session[]\n  accounts      Account[]\n  todos         Todo[]\n\n  @@unique([email])\n  @@map("user")\n}\n\nmodel Session {\n  id        String   @id\n  expiresAt DateTime\n  token     String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  ipAddress String?\n  userAgent String?\n  userId    String\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([token])\n  @@index([userId])\n  @@map("session")\n}\n\nmodel Account {\n  id                    String    @id\n  accountId             String\n  providerId            String\n  userId                String\n  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  accessToken           String?\n  refreshToken          String?\n  idToken               String?\n  accessTokenExpiresAt  DateTime?\n  refreshTokenExpiresAt DateTime?\n  scope                 String?\n  password              String?\n  createdAt             DateTime  @default(now())\n  updatedAt             DateTime  @updatedAt\n\n  @@index([userId])\n  @@map("account")\n}\n\nmodel Verification {\n  id         String   @id\n  identifier String\n  value      String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  @@index([identifier])\n  @@map("verification")\n}\n\nmodel Todo {\n  id        String   @id @default(uuid())\n  title     String\n  done      Boolean  @default(false)\n  userId    String\n  createdBy User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([userId])\n  @@map("todo")\n}\n',inlineSchemaHash:"0e3bc89033d8c35ef09b59a254374fe208b63c3919e43f9f0c12115a375542a2",copyEngine:!0,runtimeDataModel:{models:{},enums:{},types:{}},dirname:""};function a(e){return o.dirname=e,i.getPrismaClient(o)}o.runtimeDataModel=JSON.parse('{"models":{"User":{"dbName":"user","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"image","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Session","nativeType":null,"relationName":"SessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"accounts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Account","nativeType":null,"relationName":"AccountToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"todos","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Todo","nativeType":null,"relationName":"TodoToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["email"]],"uniqueIndexes":[{"name":null,"fields":["email"]}],"isGenerated":false},"Session":{"dbName":"session","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SessionToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["token"]],"uniqueIndexes":[{"name":null,"fields":["token"]}],"isGenerated":false},"Account":{"dbName":"account","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accountId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"providerId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AccountToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"accessToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"idToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accessTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"scope","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Verification":{"dbName":"verification","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"identifier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"value","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Todo":{"dbName":"todo","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"done","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdBy","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"TodoToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}'),o.engineWasm=void 0,o.compilerWasm=void 0,e.s(["getPrismaClientClass",()=>a]),r()}catch(e){r(e)}},!1),45879,e=>e.a(async(t,r)=>{try{var i=e.i(4733),n=t([i]);[i]=n.then?(await n)():n;let a=i.PrismaClientKnownRequestError,o=i.PrismaClientUnknownRequestError,s=i.PrismaClientRustPanicError,l=i.PrismaClientInitializationError,u=i.PrismaClientValidationError,c=i.sqltag,d=i.empty,p=i.join,f=i.raw,m=i.Sql,h=i.Decimal,g=i.Extensions.getExtensionContext,y={DbNull:i.objectEnumValues.classes.DbNull,JsonNull:i.objectEnumValues.classes.JsonNull,AnyNull:i.objectEnumValues.classes.AnyNull},v=i.objectEnumValues.instances.DbNull,b=i.objectEnumValues.instances.JsonNull,w=i.objectEnumValues.instances.AnyNull,k=i.makeStrictEnum({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),_=i.Extensions.defineExtension;e.s(["AccountScalarFieldEnum",0,{id:"id",accountId:"accountId",providerId:"providerId",userId:"userId",accessToken:"accessToken",refreshToken:"refreshToken",idToken:"idToken",accessTokenExpiresAt:"accessTokenExpiresAt",refreshTokenExpiresAt:"refreshTokenExpiresAt",scope:"scope",password:"password",createdAt:"createdAt",updatedAt:"updatedAt"},"AnyNull",0,w,"DbNull",0,v,"Decimal",0,h,"JsonNull",0,b,"ModelName",0,{User:"User",Session:"Session",Account:"Account",Verification:"Verification",Todo:"Todo"},"NullTypes",0,y,"NullsOrder",0,{first:"first",last:"last"},"PrismaClientInitializationError",0,l,"PrismaClientKnownRequestError",0,a,"PrismaClientRustPanicError",0,s,"PrismaClientUnknownRequestError",0,o,"PrismaClientValidationError",0,u,"QueryMode",0,{default:"default",insensitive:"insensitive"},"SessionScalarFieldEnum",0,{id:"id",expiresAt:"expiresAt",token:"token",createdAt:"createdAt",updatedAt:"updatedAt",ipAddress:"ipAddress",userAgent:"userAgent",userId:"userId"},"SortOrder",0,{asc:"asc",desc:"desc"},"Sql",0,m,"TodoScalarFieldEnum",0,{id:"id",title:"title",done:"done",userId:"userId",createdAt:"createdAt",updatedAt:"updatedAt"},"TransactionIsolationLevel",0,k,"UserScalarFieldEnum",0,{id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",createdAt:"createdAt",updatedAt:"updatedAt"},"VerificationScalarFieldEnum",0,{id:"id",identifier:"identifier",value:"value",expiresAt:"expiresAt",createdAt:"createdAt",updatedAt:"updatedAt"},"defineExtension",0,_,"empty",0,d,"getExtensionContext",0,g,"join",0,p,"prismaVersion",0,{client:"6.19.0",engine:"2ba551f319ab1df4bc874a89965d8b3641056773"},"raw",0,f,"sql",0,c]),r()}catch(e){r(e)}},!1),12002,e=>{"use strict";e.s([])},89600,e=>e.a(async(t,r)=>{try{var i=e.i(59639),n=e.i(50227),a=e.i(57764),o=e.i(73161),s=e.i(45879);e.i(12002);var l=t([o,s]);[o,s]=l.then?(await l)():l,globalThis.__dirname=n.dirname((0,a.fileURLToPath)({get url(){return`file://${e.P("lib/generated/prisma/client.ts")}`}}.url));let u=o.getPrismaClientClass("/ROOT/lib/generated/prisma");n.join("/ROOT/lib/generated/prisma","libquery_engine-darwin-arm64.dylib.node"),n.join(i.cwd(),"lib/generated/prisma/libquery_engine-darwin-arm64.dylib.node"),e.s(["PrismaClient",0,u]),r()}catch(e){r(e)}},!1),49599,e=>{"use strict";e.i(71878),e.i(94914);var t=e.i(86344);e.i(24382);var r=e.i(90659);function i(e){let t=async t=>"handler"in e?e.handler(t):e(t);return{GET:t,POST:t,PATCH:t,PUT:t,DELETE:t}}let n=()=>({id:"next-cookies",hooks:{after:[{matcher:e=>!0,handler:(0,r.createAuthMiddleware)(async r=>{let i=r.context.responseHeaders;if((!("_flag"in r)||"router"!==r._flag)&&i instanceof Headers){let r,n=i?.get("set-cookie");if(!n)return;let a=(0,t.l)(n),{cookies:o}=await e.A(6878);try{r=await o()}catch(e){if(e instanceof Error&&e.message.startsWith("`cookies` was called outside a request scope."))return;throw e}a.forEach((e,t)=>{if(!t)return;let i={sameSite:e.samesite,secure:e.secure,maxAge:e["max-age"],httpOnly:e.httponly,domain:e.domain,path:e.path};try{r.set(t,decodeURIComponent(e.value),i)}catch(e){}});return}})}]}});e.s(["nextCookies",()=>n,"toNextJsHandler",()=>i])},68105,e=>e.a(async(t,r)=>{try{e.i(49436);var i=e.i(10589),n=e.i(96913),a=e.i(89600),o=e.i(49599),s=t([a]);[a]=s.then?(await s)():s;let l=new a.PrismaClient,u=(0,i.betterAuth)({database:(0,n.prismaAdapter)(l,{provider:"postgresql"}),emailAndPassword:{enabled:!0},socialProviders:{google:{clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET},github:{clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET}},plugins:[(0,o.nextCookies)()]});e.s(["auth",0,u]),r()}catch(e){r(e)}},!1)];

//# sourceMappingURL=_3a52455b._.js.map